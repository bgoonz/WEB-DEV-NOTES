(window.webpackJsonp=window.webpackJsonp||[]).push([["app-navigation-lazy-items~b59ad437","experimental-bulk-integration~298e1740"],{"28yb":function(e,t,n){"use strict";var a=n("Czhu"),o=n("ERkP"),i=n("fN3Q"),r=n("Yg1t"),c=n("TBFf");const l="bulk-connect",s={[c.a.JIRA]:"https://atlassian-slack-integration.services.atlassian.com/api/slack/login?source="+l,[c.a.CONFLUENCE]:"https://confluence-chats-integr.services.atlassian.com/api/slack/teams/login?source="+l},u={[c.a.JIRA]:"https://atlassian-slack-integration.stg.services.atlassian.com/api/slack/login?source="+l,[c.a.CONFLUENCE]:"https://confluence-chats-integr.dev.services.atlassian.com/api/slack/teams/login?source="+l};const d={toolbar:0,menubar:0,location:0,status:0,scrollbars:1,resizable:0,chrome:"yes"};var p=n("hu6Q"),f=n("z9P0");const b={[c.a.JIRA]:"jira",[c.a.CONFLUENCE]:"confluence"},m={[c.a.JIRA]:"addJiraToSlack",[c.a.CONFLUENCE]:"addConfluenceToSlack"},h={[c.a.JIRA]:"jira",[c.a.CONFLUENCE]:"confluence"};n.d(t,"a",(function(){return v}));const g=Object.values(c.a);function v(e=g,t){const{fireOpenModalEvent:n,fireClickProductEvent:l,fireCloseModalEvent:v,fireConnectionCompletedEvent:y}=function(e){const{createAnalyticsEvent:t}=Object(f.a)(),n=Object(o.useCallback)(n=>{const o=t(Object(a.a)({data:n},n));o.context&&o.context.push({source:"bulkConnectModal"}),o.fire(e)},[e,t]);return{fireOpenModalEvent:Object(o.useCallback)(e=>{n({analyticsType:"SCREEN",eventType:p.c,type:"sendScreenEvent",name:"bulkConnectModal",attributes:{products:Object.values(c.a).filter(t=>e.has(t)).map(e=>b[e])}})},[n]),fireClickProductEvent:Object(o.useCallback)(e=>{n({analyticsType:"UI",eventType:p.e,type:"sendUIEvent",source:"bulkConnectModal",action:"clicked",actionSubject:"button",actionSubjectId:m[e],attributes:{}})},[n]),fireCloseModalEvent:Object(o.useCallback)(e=>{n({analyticsType:"UI",eventType:p.e,type:"sendUIEvent",source:"bulkConnectModal",action:"clicked",actionSubject:"button",actionSubjectId:"done",attributes:{method:e}})},[n]),fireConnectionCompletedEvent:Object(o.useCallback)(e=>{n({analyticsType:"TRACK",eventType:p.d,type:"sendTrackEvent",source:"bulkConnectModal",action:"connected",actionSubject:"integration",actionSubjectId:h[e],attributes:{}})},[n])}}(t),[k,O]=Object(o.useState)(!1),E=Object(o.useCallback)(e=>{var t;O(!1),v("Escape"===e.key?"escape":(null===(t=document.querySelector(`[data-analytics-id="${r.a}"]`))||void 0===t?void 0:t.contains(e.target))?"button":"clickOutside")},[v]),[w,j]=Object(o.useState)(()=>new Set),C=k&&e.length>=2,x=Object(o.useMemo)(()=>Object.values(c.a).reduce((e,t)=>Object(a.a)(Object(a.a)({},e),{},{[t]:Object(i.v4)()}),{}),[]),S=Object(o.useRef)(new Map),T=Object(o.useCallback)((e,t)=>{var n;const o=function(e,t=window){return(!(t.location.hostname.endsWith("jira-dev.com")||"localhost"===t.location.hostname)?s:u)[e]}(e),i=null!==(n=window.open(o,x[e],function(){const e=Math.min(500,window.screen.availWidth),t=Math.min(900,window.screen.availHeight);return Object.entries(Object(a.a)(Object(a.a)({},d),{},{width:e,height:t,left:Math.round((window.innerWidth-e)/2+window.screenX),top:Math.round((window.innerHeight-t)/3+window.screenY)})).map(([e,t])=>`${e}=${t}`).join(",")}()))&&void 0!==n?n:void 0;i&&S.current.set(i,e),t||l(e)},[x,l]);Object(o.useEffect)(()=>{if(k&&1===e.length){const t=e[0];T(t,!0)}},[k]),Object(o.useEffect)(()=>{const e=({data:e,target:t,source:n})=>{if(!n||t!==window||"success"!==e)return;const a=n,o=S.current.get(a);o&&(j(e=>new Set([...e,o])),a.close(),S.current.delete(a),y(o))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[y]);return{isConnected:Object(o.useMemo)(()=>e.every(e=>w.has(e)),[e,w]),onClick:Object(o.useCallback)(()=>{e.length>=2?O(!0):T(e[0],!0),null==n||n(new Set(e))},[e,T,n]),isOpen:C,onClose:E,connectedProducts:w,onConnectProduct:T}}},"2taK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){return function(t){function n(){var e,t,a;s(this,n);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=a=u(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.listenerOptions={capture:!1,passive:!1},u(a,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"componentDidMount",value:function(){if(c.canUseDOM){var e=this.props.touchScrollTarget,t=document.body;t&&(0,l.isTouchDevice)()&&(t.addEventListener("touchmove",l.preventTouchMove,this.listenerOptions),e&&(e.addEventListener("touchstart",l.preventInertiaScroll,this.listenerOptions),e.addEventListener("touchmove",l.allowTouchMove,this.listenerOptions)))}}},{key:"componentWillUnmount",value:function(){if(c.canUseDOM){var e=this.props.touchScrollTarget,t=document.body;t&&(0,l.isTouchDevice)()&&(t.removeEventListener("touchmove",l.preventTouchMove,this.listenerOptions),e&&(e.removeEventListener("touchstart",l.preventInertiaScroll,this.listenerOptions),e.removeEventListener("touchmove",l.allowTouchMove,this.listenerOptions)))}}},{key:"render",value:function(){return r.default.createElement(e,this.props)}}]),n}(i.PureComponent)};var o,i=n("ERkP"),r=(o=i)&&o.__esModule?o:{default:o},c=n("uPah"),l=n("GG1y");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},"3ySm":function(e,t,n){"use strict";n.r(t),n.d(t,"MenuComponent",(function(){return r}));var a=n("ERkP"),o=n.n(a),i=n("kbI0");const r=({menu:e})=>{const[t,n]=Object(a.useState)(!1),[r,c]=Object(a.useState)(null),l=Object(a.useCallback)(()=>{n(!t)},[n,t]),s=Object(a.useCallback)(()=>{n(!1)},[n]),u=Object(a.useCallback)(()=>{c(null)},[c]),d=Object(a.useCallback)(e=>{c(e(u))},[c]);return o.a.createElement(a.Fragment,null,o.a.createElement(e,{openDialog:d,onClose:s,onClick:l,isOpen:t}),o.a.createElement(i.b,null,r))}},"4+F3":function(e){e.exports=JSON.parse('{"a":"@atlaskit/inline-dialog","b":"8.0.3"}')},"7tVi":function(e,t,n){"use strict";n.r(t);var a=n("daKX");n.d(t,"getLogger",(function(){return a.a}))},GEsy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("yGWe");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},GG1y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preventTouchMove=function(e){e.preventDefault()},t.allowTouchMove=function(e){e.stopPropagation()},t.preventInertiaScroll=function(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)},t.isTouchDevice=function(){return!("undefined"==typeof window||!window)&&("ontouchstart"in window||navigator.maxTouchPoints)},t.getPadding=function(){if("undefined"==typeof window||!window||!document)return 0;var e=parseInt(document.body.paddingRight,10)||0,t=document.body?document.body.clientWidth:0;return window.innerWidth-t+e||0},t.camelToKebab=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.getWindowHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if("undefined"!=typeof window&&window&&window.innerHeight)return window.innerHeight*e},t.getDocumentHeight=function(){if("undefined"!=typeof window&&document&&document.body)return document.body.clientHeight},t.parse=function(e){return isNaN(e)?e:e+"px"},t.makeStyleTag=function(e){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-react-scrolllock",""),t},t.injectStyles=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))},t.insertStyleTag=function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}},HSGQ:function(e,t,n){"use strict";n.r(t),n.d(t,"NudgeFixer",(function(){return w})),n.d(t,"CreateComponent",(function(){return C}));var a=n("ERkP"),o=n.n(a),i=n("YIqz"),r=n("wORz"),c=n("a8dO"),l=n("Ua4J"),s=n("a0gl"),u=n("L21V"),d=n("Ua+b"),p=n("oN9k"),f=n("GFmV"),b=n("DQZQ"),m=n("KsTJ"),h=n("29F/"),g=n("Qdol"),v=n("1ONf"),y=n("l/+N"),k=n("EvIQ"),O=n("a47+"),E=n("/ZYj");const w=m.default.div`
  & > div > span {
    display: inline-block;
  }
`,j=m.default.span`
  font-size: 11px;
  line-height: 14px;
  font-weight: 600;
`,C=()=>{const{setQueryParams:e,match:t}=Object(a.useContext)(l.a),{completeCurrentTask:n}=Object(v.b)(),{featureFlagClient:m}=Object(s.a)(),C=Object(i.a)(()=>{},{type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"create",attributes:{selectedItemPageContext:t?t.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:b.b.START_TOUCH}}}),{isNudgeTriggerEnabled:x}=Object(y.a)(),S=h.m[h.b],T=Object(f.d)(m)?()=>{C();const t=Object(f.b)(!0);e(t),x&&n(S)}:()=>{C(),e({createDialog:!0}),x&&n(S)};return o.a.createElement(O.b,{"data-testid":"app-navigation-create"},o.a.createElement(r.a,{name:"nav-create"},o.a.createElement(k.a,{position:"bottom-start",offset:[8,8],heading:x?o.a.createElement(u.b,{id:"app-navigation.create-button-nudge-tooltip-qs-sync-heading",defaultMessage:"Create a page",description:"quickstart nudge-sync tooltip heading for top nav create button"}):null,actionsBeforeElement:x?o.a.createElement(j,null,o.a.createElement(u.b,{id:"app-navigation.create-button-nudge-tooltip-qs-sync-footer",defaultMessage:"Press “c” to create a page at any time.",description:"quickstart nudge-sync tooltip footer for top nav create button"})):null,tooltip:x?o.a.createElement(u.b,{id:"app-navigation.create-button-nudge-tooltip-qs-sync",defaultMessage:"You can create a blank page or use templates to quickly build anything.",description:"quickstart nudge-sync tooltip for top nav create button"}):o.a.createElement(u.b,{id:"app-navigation.create-button-nudge-tooltip",defaultMessage:"Create a new page from anywhere in Confluence to capture your next great idea.",description:"nudge tooltip for top nav create button"}),width:280,wrapper:w,source:x?g.d:g.c,autoShowTooltip:x,renderChildrenWhileLoading:!0},e=>e?o.a.createElement(E.a,{onClick:T}):o.a.createElement(c.a,{content:o.a.createElement(d.a,{shortcut:"c"})},o.a.createElement(E.a,{onClick:T})))),o.a.createElement(p.a,{accelerator:"c",listener:T}))}},O65l:function(e,t,n){n("ERkP");const a=n("x+QU"),{defer:o}=n("rzmQ"),{getLogger:i}=n("7tVi"),r=i("WrappedReactLoadable"),c=[],l={},s=new Set;function u(){if(0===c.length)for(const e of window.__REACT_LOADABLE__||[]){const{resolve:t,promise:n}=o(2500);c.push(n),l[e]=t}}function d(e){if(window.__SSR_RENDERED__&&e.id){u();const t=()=>{e.id in l&&l[e.id]()};e.loader().then(t,e=>{r.error(e),t()})}return a(e)}d.preloadReactLoadable=()=>(u(),Promise.all(c)),d.getRenderedOnServerSide=()=>Array.from(s),e.exports=d},Pldi:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),o=n("Iy7w"),i=n("ERkP"),r=n.n(i),c=n("1U1M"),l=n("L21V"),s=n("z9P0"),u=n("Ua4J"),d=n("RWLP"),p=n("baYQ"),f=n("wORz"),b=n("HbGN"),m=n("UMfG"),h=n.n(m),g=n("8znK");const v=e=>{const{tooltip:t}=e,n=Object(b.a)(e,["tooltip"]);return r.a.createElement(g.a,Object.assign({icon:r.a.createElement(h.a,{label:"string"==typeof t?t:"Sign-in Icon"}),tooltip:t},n))};const y=g.a;var k=n("Oqsm"),O=n("Iops"),E=n("2A3h"),w=n("frZf"),j=n("DQZQ"),C=n("hpu0"),x=n("3VMZ"),S=n("w7pu"),T=n("cEAo");n.d(t,"ProfileComponent",(function(){return M}));const P=`${w.a}/login.action?os_destination=${window.location.pathname.replace(w.a,"")}`,I=Object(l.f)({signIn:{id:"app-navigation.sign.in.tooltip",defaultMessage:"Sign In",description:"a tooltip directing the user to sign into the app"}}),N=Object(o.a)("div",{target:"e7v5jnn0"})({name:"y7nl8n",styles:"max-height:calc(100vh - 76px);"}),A=Object(o.a)("div",{target:"e7v5jnn1"})({name:"fhbt6x",styles:"width:36px;height:36px;"}),M=Object(l.g)(({intl:e,openDialog:t,isOpen:n,onClose:o,onClick:l})=>{const{match:b}=Object(i.useContext)(u.a),{createAnalyticsEvent:m}=Object(s.a)(),{data:h,loading:g}=Object(c.d)(T.a),{isAnonymous:w,loading:M}=Object(i.useContext)(S.a),R=Object(i.useCallback)(()=>{Object(C.b)().abort({name:x.a.APP_NAV_PROFILE_DROPDOWN,reason:"dropdown closed by user"}),o()},[o]),_=Object(i.useCallback)(()=>{m({type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"login",attributes:{selectedItemPageContext:b?b.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:j.b.START_TOUCH}}}).fire()},[b,m]),L=Object(i.useCallback)(()=>{l(),n&&R(),m({type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"profile",attributes:{selectedItemPageContext:b?b.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:j.b.START_TOUCH}}}).fire()},[n,R,l,b,m]);if(Object(i.useEffect)(()=>{Object(E.b)()},[]),g||M)return r.a.createElement(A,null);if(w)return r.a.createElement("span",{"data-testid":"app-navigation-login",onClick:_},r.a.createElement(v,{tooltip:e.formatMessage(I.signIn),href:P}));{var D,F;const e=(null!=(F=h)?F.user:F)||{photos:[],displayName:null,id:null},o=null!=(D=e)&&null!=(D=D.photos)&&null!=(D=D[0])?D.value:D,i=e.displayName?e.displayName:null,c=r.a.createElement(k.a,{src:o,size:"small"});return r.a.createElement(O.a,{isOpen:n,onClose:R,offset:[14,0],content:({update:e})=>r.a.createElement(N,null,r.a.createElement(E.a,{onClose:R,dialogFn:t,scheduleUpdate:e})),trigger:e=>r.a.createElement("span",{"data-testid":"app-navigation-profile"},r.a.createElement(p.d,null,r.a.createElement(f.a,{name:"nav-profile"},r.a.createElement(y,Object(a.a)(Object(a.a)({},e),{},{icon:c,onClick:L,tooltip:i,isSelected:n}))),r.a.createElement(d.a,{engagementId:"nav-profile"}))),placement:"bottom-end"})}})},R432:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),o=n("ERkP"),i=n.n(o),r=n("L21V"),c=n("KsTJ"),l=n("YIqz"),s=n("Iops"),u=n("oi8z"),d=n("iwog"),p=n("qMjE"),f=n("3IV/"),b=n("OOEx"),m=n.n(b),h=n("3d8H"),g=n("Ua+b"),v=n("oN9k"),y=n("DQZQ"),k=n("a0gl"),O=n("Ua4J"),E=n("6z9Z"),w=n("3VMZ"),j=n("ZVoB"),C=n("X2PC"),x=n("HbGN"),S=n("l1C2");const T=({loading:e})=>({border:0,flex:"1 0 100%",height:"inherit",display:e?"none":"block",width:"100%"}),P=({_url:e,locale:t,product:n})=>{if(e)return e;const a="/home/notificationsDrawer/iframe.html",o=[];return t&&o.push("locale="+encodeURIComponent(t)),n&&o.push("product="+encodeURIComponent(n)),o.length?`${a}?${o.join("&")}`:a},I=e=>{const{_url:t,locale:n,product:a,testId:i}=e,r=Object(x.a)(e,["_url","locale","product","testId"]),c=Object(o.useRef)(null),[l,s]=Object(o.useState)(!0),u=e=>{c.current&&e.source&&e.source.window===c.current.contentWindow&&"readyForUser"===e.data&&s(!1)};Object(o.useEffect)(()=>(window.addEventListener("message",u),()=>{window.removeEventListener("message",u)}),[]);return Object(S.f)("iframe",Object.assign({},r,{css:T({loading:l}),"data-testid":i,onLoad:(...e)=>{s(!1),r.onLoad&&r.onLoad(...e)},ref:c,src:P({_url:t,locale:n,product:a})}))};var N=n("z9P0");var A=n("A79P"),M=n("9m+Y");const R=c.default.div`
  width: 540px;
  padding: 18px 0px 0 18px;
  height: calc(100vh - 100px);
  display: flex;
`,_=Object(o.memo)(({onTransition:e})=>{const{createAnalyticsEvent:t}=Object(N.a)(),n=Object(o.useRef)(null);!function(e,{enabled:t=!0,after:n=(()=>{})}){const{push:a}=Object(o.useContext)(O.a);Object(o.useEffect)(()=>{if(!t)return;const o=e.current;if(!o)return;const i=o.querySelector("iframe");i&&i.addEventListener("load",()=>{let e=i.contentDocument;e&&e.addEventListener("click",e=>{if(0!==e.button)return;if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;const t=e.target&&e.target.closest("a");if(!t)return;const o=t.getAttribute("target"),i=t.getAttribute("href");"_top"===o&&i&&(e.defaultPrevented||(e.preventDefault(),a(i),n()))})})},[e.current])}(n,{enabled:!0,after:()=>{e&&e(),t({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",source:"appNavigation",actionSubjectId:"notification"}}).fire()}});const a=Object(o.useContext)(E.a);Object(o.useEffect)(()=>{a.start({name:w.a.APP_NAV_NOTIFICATIONS_DROPDOWN,timeout:A.a.NAVIGATION_LOAD})},[a]);const r=Object(o.useCallback)(()=>{a.succeed({name:w.a.APP_NAV_NOTIFICATIONS_DROPDOWN})},[a]);return i.a.createElement(R,{innerRef:n},i.a.createElement(I,{locale:Object(M.b)().locale,product:"confluence",testId:"confluence-notifications",title:"Notifications",onLoad:r}))});n.d(t,"NotificationsComponent",(function(){return H}));const L=p.a;class D extends d.a{constructor(){super("","")}countUnseenNotifications(){return Promise.resolve({count:0})}}const F=Object(r.f)({errorTitle:{id:"app-navigation.notifications.error.title",defaultMessage:"Something went wrong",description:"Title displayed in case of error in notifications dropdown"},errorMessage:{id:"app-navigation.notifications.error.message",defaultMessage:"We are unable to show your notifications at this time. Please refresh the page or try again later.",description:"Message displayed in case of error in notifications dropdown"}}),U=c.default.div`
  max-width: 400px;
`,H=Object(o.memo)(()=>{const[e,t]=Object(o.useState)(!1),[n,c]=Object(o.useState)(!1),{match:p}=Object(o.useContext)(O.a),{isLicensed:b,cloudId:x}=Object(k.a)();Object(o.useEffect)(()=>{if(n){const e=setTimeout(()=>{c(!1)},1e4);return()=>{clearTimeout(e)}}},[n]);const S=Object(l.a)(()=>{e?P():(c(!0),t(!0))},{type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"notifications",attributes:{selectedItemPageContext:p?p.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:y.b.START_TOUCH}}}),T=Object(o.useContext)(E.a),P=Object(o.useCallback)(()=>{T.abort({name:w.a.APP_NAV_NOTIFICATIONS_DROPDOWN,reason:"dropdown closed by user"}),t(!1)},[T]),I=Object(o.useMemo)(()=>()=>i.a.createElement(u.a,{notificationLogProvider:Promise.resolve(n||e?new D:new d.a("/gateway/api/notification-log/",x)),refreshRate:6e4}),[x,e,n]),N=Object(o.useMemo)(()=>()=>i.a.createElement(j.a,{attribution:C.a.DISCO,renderOnError:()=>i.a.createElement(U,null,i.a.createElement(h.a,{icon:i.a.createElement(m.a,{primaryColor:f.Y300,label:"Warning"}),title:i.a.createElement(r.b,Object(a.a)({},F.errorTitle)),description:i.a.createElement(r.b,Object(a.a)({},F.errorMessage)),id:"app-navigation.profile.error"}))},i.a.createElement(_,{onTransition:P})),[P]);return b?i.a.createElement("span",{"data-testid":"app-navigation-notifications"},i.a.createElement(s.a,{placement:"bottom-end",shouldFlip:!0,rootBoundary:"viewport",content:N,isOpen:e,onClose:P,trigger:t=>i.a.createElement("span",{"data-testid":"app-navigation-notifications-button"},i.a.createElement(L,Object(a.a)({badge:I,onClick:S,isSelected:e,tooltip:i.a.createElement(g.a,{shortcut:"g n",contentBefore:i.a.createElement(r.b,{id:"app-navigation.notifications.link",defaultMessage:"Notifications"})})},t)))}),i.a.createElement(v.a,{accelerator:"g n",listener:S})):null})},RWLP:function(e,t,n){"use strict";var a=n("ERkP"),o=n.n(a),i=n("vEjt"),r=n("VrFO"),c=n.n(r),l=n("Y9Ll"),s=n.n(l),u=n("N+ot"),d=n.n(u),p=n("AuHH"),f=n.n(p),b=n("5Yy7"),m=n.n(b),h=n("KEM+"),g=n.n(h),v=n("nnm9"),y=n.n(v),k=n("ymK7"),O=n("/Vvi"),E=n("JuPc"),w=function(e){function t(){return c()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"getButtonClickHandler",value:function(e,t){var n=this.props.fireClickEvent;switch(t.type){case E.a.LINK:return function(){n("".concat(e)),window.open(t.data.url,t.data.target)};default:return function(){n("".concat(e))}}}},{key:"getButtonActions",value:function(){var e=this.props,t=e.primaryAction,n=e.primaryText,a=e.secondaryAction,o=e.secondaryText,i=[];return a&&o&&i.push({onClick:this.getButtonClickHandler("secondary",a),text:o,appearance:a.appearance}),t&&n&&i.push({onClick:this.getButtonClickHandler("primary",t),text:n,appearance:t.appearance,autoFocus:!0}),i}},{key:"render",value:function(){var e=this.props,t=e.body,n=e.dialogPlacement,a=e.dialogWidth,i=e.title,r=e.image,c=e.pulse,l=e.target,s=e.targetBgColor,u=e.targetRadius;return o.a.createElement(k.a,{actions:this.getButtonActions(),dialogPlacement:n,dialogWidth:a,heading:i,image:r,pulse:c,target:l,targetBgColor:s,targetRadius:u},o.a.createElement(O.a,{html:t}))}}]),t}(a.Component);g()(w,"defaultProps",{fireClickEvent:y.a});var j=n("JSa+"),C=n("9Lyi"),x=n("tQaH"),S=n.n(x),T=n("m3Bd"),P=n.n(T);function I(e){return e[0]?e[0].length:0}var N=/({{{(((?!}}}).)+)}}})|({{(((?!}}).)+)}})/g;function A(e){var t,n,a;return{parts:(n=function(e,t){for(var n=[],a=t.exec(e);a;a=t.exec(e))n.push(a);return n}(t=e,N).reduce((function(e,n){var a=n.index||0,o=t.slice(e.currentPosition,a);return o&&e.result.push({type:"text",text:o}),e.result.push({type:"match",match:n}),{currentPosition:a+I(n),result:e.result}}),{currentPosition:0,result:[]}),(a=t.slice(n.currentPosition,t.length))&&n.result.push({type:"text",text:a}),n.result).map((function(e){return"text"===e.type?e:e.match[1]?{type:"unescaped",variableName:e.match[2]||""}:{type:"escaped",variableName:e.match[5]||""}}))}}function M(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39")}function R(e){return function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=null;return Object.keys(t)}(function(e){return e.parts.filter((function(e){return"escaped"===e.type||"unescaped"===e.type}))}(e).map((function(e){return e.variableName})))}function _(e,t,n){var a=R(e).filter((function(e){return!t[e]}));return a.length?{type:"error",errorType:"missing-variables-error",missingVariables:a}:{type:"success",result:n(e,t)}}function L(e,t,n){return e.parts.map((function(e){return"text"===e.type?e.text:"escaped"===e.type?n(t[e.variableName]):t[e.variableName]})).join("")}function D(e,t){return L(e,t,encodeURIComponent)}function F(e,t){return L(e,t,M)}function U(e,t){return function(e,t){return _(e,t,D)}(A(e),t)}function H(e,t){return function(e,t){return _(e,t,F)}(A(e),t)}function B(e,t){return S()({},t,{data:t.data&&S()({},t.data,{url:e})})}n.d(t,"a",(function(){return K}));var z,V,W=(z=w,V=function(e){function t(){return c()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=function(e){var t=e.variables,n=P()(e,["variables"]),a=e.title,o=e.body,i=e.primaryText,r=e.primaryAction,c=e.secondaryText,l=e.secondaryAction,s={title:a,body:o,primaryText:i,primaryActionUrl:r&&r.data&&r.data.url,secondaryText:c,secondaryActionUrl:l&&l.data&&l.data.url},u=function(e,t){for(var n=Object.keys(t),a={},o=0;o<n.length;o++){var i=n[o],r=t[i];if(r){var c="primaryActionUrl"===i||"secondaryActionUrl"===i?U(r,e):H(r,e);if("error"===c.type)return null;a[i]=c.result}}return a}(t||{},s);if(!u)return null;var d=S()({},n,{title:u.title,body:u.body,primaryText:u.primaryText,secondaryText:u.secondaryText});return r&&(d.primaryAction=B(u.primaryActionUrl,r)),l&&(d.secondaryAction=B(u.secondaryActionUrl,l)),d}(this.props);return e?o.a.createElement(z,e):null}}]),t}(a.Component),g()(V,"displayName","".concat(z.displayName||z.name||"","WithEPVariables")),V),G=Object(j.a)(W),Q=Object(C.a)(G,"spotlight");function K(e){return o.a.createElement(i.b,null,o.a.createElement(Q,e))}},STKj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("ERkP"),r=((a=i)&&a.__esModule,n("uPah")),c=n("GG1y");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,a;l(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.addSheet=function(){var e=a.props.styles,t=(0,c.makeStyleTag)();t&&((0,c.injectStyles)(t,e),(0,c.insertStyleTag)(t),a.sheet=t)},s(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){r.canUseDOM&&this.addSheet()}},{key:"removeSheet",value:function(){this.sheet&&(this.sheet.parentNode.removeChild(this.sheet),this.sheet=null)}},{key:"componentWillUnmount",value:function(){this.removeSheet()}},{key:"render",value:function(){return null}}]),t}(i.PureComponent);t.default=u},WBws:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),o=n("HbGN"),i=n("ERkP"),r=n.n(i),c=n("KsTJ"),l=n("L21V"),s=n("z9P0"),u=n("YIqz"),d=n("28yb"),p=n("tw42"),f=n("Ua4J"),b=n("Iops"),m=n("BuIO"),h=n("fKSQ"),g=n("Wrr4"),v=n("Zyz5"),y=n("a0gl"),k=n("RfuI"),O=n("DQZQ"),E=n("lWpV"),w=n("xFWH"),j=n("TSpG");const{SWITCHER_JOINABLE_PRODUCTS_FF:C}=j.a;var x=n("kC4U");var S=n("C+B2");n.d(t,"AppSwitcherComponent",(function(){return _}));const T=Object(k.a)({id:"u3LC1",name:"LazyBulkIntegrationModal",loader:async()=>(await n.e("atlassian-internal_integration_modal~4134d62c").then(n.bind(null,"jx8f"))).BulkIntegrationModal,loading:()=>null}),P=Object(l.f)({switchTo:{id:"app-navigation.switch.to",defaultMessage:"Switch to",description:"Heading above a list of other apps the user can navigate between"}}),I=c.default.div`
  width: 400px;
  max-height: calc(100vh - 79px);
`,N=c.default.h3`
  padding: 16px 24px 8px;
`,A=c.default.div`
  padding: ${({paddingTop:e})=>e?"16px":"0 16px 0"};
`,M=Object(i.memo)(({cloudId:e,onClose:t})=>{const{createAnalyticsEvent:n}=Object(s.a)(),c=Object(w.c)(),[u,f]=Object(i.useState)([]),b=Object(d.a)(),{onClick:h}=b,g=Object(o.a)(b,["onClick"]),v=c.isEnabled,k=Object(i.useCallback)(e=>{c.isEnabled&&c.api.open({targetProduct:e,journey:w.a.DECIDE,sourceComponent:"atlassian-switcher",sourceContext:"recommendation"}),t()},[c,t]),O=Object(i.useCallback)(()=>{c.isEnabled&&c.api.open({sourceComponent:"atlassian-switcher",sourceContext:"more"}),t()},[c,t]),{featureFlagClient:j}=Object(y.a)(),M=j.getBooleanValue("confluence.frontend.switcher.use-default-title",{default:!1}),R=(e=>e.getBooleanValue(C,{default:!1,shouldTrackExposureEvent:!0}))(j),_=Object(i.useMemo)(()=>R?Object(E.a)(()=>(async()=>(await Object(x.a)("/gateway/api/growth/internal-joinable-products/products",{method:"GET",headers:{"Content-Type":"application/json"}})).json())()):void 0,[R]),L=j.getVariantValue(S.d,{default:"not-enrolled",shouldTrackExposureEvent:!1,oneOf:["control","not-enrolled","variation"]}),D="variation"===L;return Object(i.useEffect)(()=>{D&&Object(p.a)().then(e=>f(e)).catch(()=>{})},[D]),Object(i.useEffect)(()=>{n({type:"sendTrackEvent",data:{actionSubject:"feature",action:"exposed",source:"atlassianSwitcher",attributes:{cohort:L,flagKey:S.d,growthInitiative:"virality",value:L}}}).fire()},[n,L]),Object(i.useEffect)(()=>{D&&n({type:"sendScreenEvent",data:{name:"atlassianSwitcherDiscoverSection",attributes:{products:u.length?["slackForAtlassianApp"]:[]}}}).fire()},[n,D,u]),r.a.createElement(I,{"data-testid":"app-navigation-app-switcher-menu"},!M&&r.a.createElement(N,null,r.a.createElement(l.b,Object(a.a)({},P.switchTo))),r.a.createElement(A,{paddingTop:M},r.a.createElement(T,Object(a.a)(Object(a.a)({},g),{},{availableProducts:u})),r.a.createElement(m.a,{product:"confluence",disableRecentContainers:!0,disableSwitchToHeading:!M,isDiscoverMoreForEveryoneEnabled:v,isDiscoverSectionEnabled:v,cloudId:e,triggerXFlow:v?k:void 0,onDiscoverMoreClicked:v?O:void 0,appearance:"standalone",joinableSitesDataProvider:_,isSlackDiscoveryEnabled:D&&u.length>0,slackDiscoveryClickHandler:D?h:void 0})))}),R=v.a,_=()=>{const[e,t]=Object(i.useState)(!1),{match:n}=Object(i.useContext)(f.a),{isLicensed:o,cloudId:c}=Object(y.a)(),l=Object(u.a)(()=>{t(!e)},{type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"appSwitcher",attributes:{selectedItemPageContext:n?n.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:O.b.START_TOUCH}}}),s=()=>{t(!1)};return o?r.a.createElement(h.a,{cloudId:c,product:"confluence"},r.a.createElement(b.a,{placement:"bottom-start",rootBoundary:"document",zIndex:800,content:()=>r.a.createElement(M,{cloudId:c,onClose:s}),isOpen:e,onClose:s,trigger:t=>r.a.createElement("span",{"data-testid":"app-navigation-app-switcher"},r.a.createElement(R,Object(a.a)({onClick:l,tooltip:g.a,isSelected:e},t)))})):null}},WSZS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ERkP");const o=Object(a.createContext)([]);o.displayName="LoadableAncestors";const i=e=>{const t=Object(a.useContext)(o),[n]=Object(a.useState)(()=>e?[e].concat(t):t);return n}},Yg1t:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="BulkIntegrationModal.done"},cEAo:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd");const o=n.n(a).a`query ProfileQuery{user(current:true){id displayName photos{value isPrimary}}}`},hP5u:function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),o=n.n(a),i=n("KsTJ"),r=n("YIqz"),c=n("ZJnE"),l=n("RfuI");const s=Object(l.a)({id:"nP4E0",name:"NavigationSearchDialog",loader:()=>n.e("navigation-search-dialog~b59ad437").then(n.bind(null,"qM2f")).then(({NavigationSearchDialog:e})=>e),loading:c.a});var u=n("Ua4J"),d=n("DQZQ");n.d(t,"SearchComponent",(function(){return f}));const p=i.default.div`
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
`,f=({theme:e})=>{const{match:t}=Object(a.useContext)(u.a),n=Object(r.a)(()=>{},{type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"quickSearch",attributes:{selectedItemPageContext:t?t.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:d.b.START_TOUCH}}});return o.a.createElement(p,{"data-testid":"app-navigation-search",onClick:n},o.a.createElement(s,{theme:e}))}},rM2F:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),o=n("ERkP"),i=n.n(o),r=n("1U1M"),c=n("L21V"),l=n("YIqz"),s=n("HbGN"),u=n("9QC+"),d=n.n(u),p=n("8znK");const f=Object(o.forwardRef)((e,t)=>{const{tooltip:n}=e,a=Object(s.a)(e,["tooltip"]);return i.a.createElement(p.a,Object.assign({icon:i.a.createElement(d.a,{label:"string"==typeof n?n:"Settings Icon"}),ref:t,tooltip:n},a))});var b=n("VrFO"),m=n.n(b),h=n("Y9Ll"),g=n.n(h),v=n("N+ot"),y=n.n(v),k=n("AuHH"),O=n.n(k),E=n("1Pcy"),w=n.n(E),j=n("5Yy7"),C=n.n(j),x=n("KEM+"),S=n.n(x),T=n("7wq/"),P=n.n(T),I=n("KsTJ"),N=n("OQd5"),A=n("Rhu4"),M=n.n(A),R=n("aq5/"),_=n.n(R),L=n("4Mt5"),D=n.n(L),F=n("7xyS"),U=n.n(F),H=n("k2Qk"),B=n.n(H),z=n("7nmT"),V=n.n(z),W=n("TeDK"),G=n("kE9C"),Q=n("Ayta"),K=n("tQaH"),q=n.n(K),J=n("T0aG"),Z=n.n(J),Y=n("U6Bd"),$=n("35H0"),X=n("GEsy"),ee=n.n(X),te=I.default.div.withConfig({displayName:"ScrollBlock__Blanket",componentId:"sc-1xiww8k-0"})(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n"]);function ne(){return i.a.createElement(te,null,i.a.createElement(ee.a,null))}var ae={"top left":{position:"top-start",animation:"top"},"top center":{position:"top",animation:"top"},"top right":{position:"top-end",animation:"top"},"right top":{position:"right-start",animation:"right"},"right middle":{position:"right",animation:"right"},"right bottom":{position:"right-end",animation:"right"},"bottom left":{position:"bottom-start",animation:"bottom"},"bottom center":{position:"bottom",animation:"bottom"},"bottom right":{position:"bottom-end",animation:"bottom"},"left top":{position:"left-start",animation:"left"},"left middle":{position:"left",animation:"left"},"left bottom":{position:"left-end",animation:"left"}},oe="right middle";function ie(e){return function(e){return e&&ae[e]?ae[e].position:null}(e)||ae[oe].position}var re=I.default.div.withConfig({displayName:"styledContentContainer",componentId:"p0j3f7-0"})(["\n  [data-role='droplistContent'] {\n    ",";\n  }\n"],(function(e){var t=e.maxHeight;return t?"max-height: ".concat(t,"px"):""})),ce=I.default.div.withConfig({displayName:"Layer__FixedTarget",componentId:"qunuuz-0"})(["\n  ",";\n"],(function(e){var t=e.fixedOffset,n=e.targetRef;if(t&&n){var a=n.firstChild.getBoundingClientRect();return"\n        position: fixed;\n        top: ".concat(t.top,"px;\n        left: ").concat(t.left,"px;\n        height: ").concat(a.height,"px;\n        width: ").concat(a.width,"px;\n        z-index: -1;\n      ")}return"display: none;"})),le=function(e){function t(e){var n;return m()(this,t),n=y()(this,O()(t).call(this,e)),S()(w()(w()(n)),"popper",void 0),S()(w()(w()(n)),"targetRef",void 0),S()(w()(w()(n)),"contentRef",void 0),S()(w()(w()(n)),"fixedRef",void 0),S()(w()(w()(n)),"extractStyles",(function(e){if(e){var t=e.offsets.popper.height,a=Math.round(e.offsets.popper.left),o="object"===Z()(e.offsets.popper.position)?e.offsets.popper.position.position:e.offsets.popper.position,i=n.fixPositionTopUnderflow(e.offsets.popper.top,o),r=n.state.originalHeight||t,c=n.calculateMaxHeight(r,t,i,o);n.setState({cssPosition:o,hasExtractedStyles:!0,transform:"translate3d(".concat(a,"px, ").concat(i,"px, 0px)"),flipped:!!e.flipped,actualPosition:e.position,originalPosition:e.originalPosition,originalHeight:r,maxHeight:c})}})),n.state={hasExtractedStyles:!1,position:null,transform:null,flipped:!1,actualPosition:null,offsets:{popper:{left:-9999,top:-9999}},originalPosition:null,cssPosition:"absolute",originalHeight:null,maxHeight:null,fixedOffset:null},n.extractStyles=Object(Y.a)(n.extractStyles.bind(w()(w()(n)))),n}return C()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.applyPopper(this.props),this.calculateFixedOffset(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.applyPopper(e),this.calculateFixedOffset(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.onFlippedChange,o=n.onPositioned,i=this.state,r=i.flipped,c=i.actualPosition,l=i.originalPosition,s=i.hasExtractedStyles;t.flipped!==r&&a&&a({flipped:r,actualPosition:c,originalPosition:l}),!t.hasExtractedStyles&&s&&o&&o()}},{key:"componentWillUnmount",value:function(){this.extractStyles.cancel(),this.popper&&this.popper.destroy()}},{key:"calculateMaxHeight",value:function(e,t,n,a){var o=0;if(document.documentElement&&(o=document.documentElement.clientHeight),"fixed"!==a||"viewport"!==this.props.boundariesElement)return null;var i=Math.max(o,window.innerHeight||0);return i<e&&t+n>=i-50?i-12:null}},{key:"calculateFixedOffset",value:function(e){var t=e.isAlwaysFixed;if(t&&this.targetRef){var n=this.targetRef.firstChild;this.setState({fixedOffset:{top:n.getBoundingClientRect().top,left:n.getBoundingClientRect().left}})}else t||null===this.state.fixedOffset||this.setState({fixedOffset:null})}},{key:"fixPositionTopUnderflow",value:function(e,t){return e>=0||"fixed"!==t?Math.round(e):0}},{key:"applyPopper",value:function(e){if(this.fixedRef&&this.targetRef&&this.contentRef&&(this.popper&&this.popper.destroy(),e.content)){var t=e.isAlwaysFixed?this.fixedRef:this.targetRef.firstChild,n={placement:ie(e.position),onCreate:this.extractStyles,onUpdate:this.extractStyles,modifiers:{applyStyle:{enabled:!1},hide:{enabled:!1},offset:{enabled:!0,offset:this.props.offset},flip:{enabled:!!this.props.autoFlip,flipVariations:!0,boundariesElement:this.props.boundariesElement,padding:0},preventOverflow:{enabled:!!this.props.autoFlip,escapeWithReference:!("scrollParent"===this.props.boundariesElement)}}},a=function(e){return e.position&&Array.isArray(e.autoFlip)?[e.position.split(" ")[0]].concat(e.autoFlip):null}(e);a&&(n.modifiers.flip.behavior=a),this.popper=new $.a(t,this.contentRef,n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.zIndex,a=t.lockScroll,o=this.state,r=o.cssPosition,c=o.transform,l=o.hasExtractedStyles,s=o.maxHeight,u=o.fixedOffset,d=l?{}:{opacity:0};return i.a.createElement("div",null,i.a.createElement("div",{ref:function(t){e.targetRef=t}},this.props.children),i.a.createElement(ce,{targetRef:this.targetRef,fixedOffset:u},i.a.createElement("div",{style:{height:"100%",width:"100%"},ref:function(t){e.fixedRef=t}})),a&&i.a.createElement(ne,null),i.a.createElement(re,{maxHeight:s},i.a.createElement("div",{ref:function(t){e.contentRef=t},style:q()({top:0,left:0,position:r,transform:c,zIndex:n},d)},this.props.content)))}}]),t}(o.Component);S()(le,"defaultProps",{autoFlip:!0,boundariesElement:"viewport",children:null,content:null,offset:"0 0",onFlippedChange:function(){},position:"right middle",zIndex:400,lockScroll:!1,isAlwaysFixed:!1,onPositioned:function(){}});var se=n("BK6Z"),ue=n("4+F3"),de=n("Fxww"),pe=n.n(de)()(["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */\n  color: ",";\n  max-height: ","px;\n  max-width: ","px;\n  padding: ","px ","px;\n  z-index: 200;\n\n  &:focus {\n    outline: none;\n  }\n"],["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */\n  color: ",";\n  max-height: ","px;\n  max-width: ","px;\n  padding: ","px ","px;\n  z-index: 200;\n\n  &:focus {\n    outline: none;\n  }\n"]),fe=Object(se.g)({light:se.b.N0,dark:se.b.DN50}),be=Object(se.g)({light:se.b.N60A,dark:se.b.DN60A}),me=Object(se.g)({light:se.b.N50A,dark:se.b.DN50A}),he=I.default.div(pe,fe,se.a,(function(e){return["0 0 1px "+be(e),"0 4px 8px -2px "+me(e)].join(",")}),se.b.text,se.f.multiply(se.e,56),se.f.multiply(se.e,56),se.f.multiply(se.e,2),se.f.multiply(se.e,3)),ge=function(e){function t(){var e,n,a,o;_()(this,t);for(var i=arguments.length,r=Array(i),c=0;c<i;c++)r[c]=arguments[c];return n=a=U()(this,(e=t.__proto__||M()(t)).call.apply(e,[this].concat(r))),a.componentDidMount=function(){document.addEventListener("click",a.handleClickOutside)},a.componentWillUnmount=function(){document.removeEventListener("click",a.handleClickOutside)},a.handleClickOutside=function(e){if(!e.defaultPrevented&&a.props.isOpen){var t=V.a.findDOMNode(a);(!t||e.target instanceof Node&&!t.contains(e.target))&&a.props.onClose&&a.props.onClose({isOpen:!1,event:e})}},o=n,U()(a,o)}return B()(t,e),D()(t,[{key:"render",value:function(){var e=this.props,t=e.boundariesElement,n=e.children,a=e.content,o=e.isOpen,r=e.onContentBlur,c=e.onContentClick,l=e.onContentFocus,s=e.position,u=e.shouldFlip,d="0 "+Object(se.e)(this.props),p=o?i.a.createElement(he,{onBlurCapture:r,onClick:c,onFocusCapture:l,tabIndex:"-1"},a):null;return i.a.createElement(le,{boundariesElement:t,autoFlip:u,content:p,offset:d,position:s},i.a.createElement("div",null,n))}}]),t}(o.Component);ge.defaultProps={isOpen:!1,onContentBlur:function(){},onContentClick:function(){},onContentFocus:function(){},onClose:function(){},position:"bottom center",shouldFlip:!1};var ve=Object(W.a)("atlaskit"),ye=Object(G.a)({componentName:"inlineDialog",packageName:ue.a,packageVersion:ue.b})(Object(Q.a)({onClose:ve({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:ue.a,packageVersion:ue.b}})})(ge)),ke=n("zuVf"),Oe=n("/Vvi"),Ee=n("9Lyi"),we=n("JSa+"),je=n("JuPc");function Ce(){var e=P()(["\n    padding-top: ","px;\n    padding-bottom: ","px;\n    color: ",";\n"]);return Ce=function(){return e},e}function xe(){var e=P()(["\n    margin-top: ","px;\n"]);return xe=function(){return e},e}function Se(){var e=P()(["\n    width: 100%;\n"]);return Se=function(){return e},e}function Te(){var e=P()(["\n    display: flex;\n    flex-direction: column;\n"]);return Te=function(){return e},e}var Pe=.5*parseInt(ke.akGridSize,10),Ie=I.default.div(Te()),Ne=I.default.img(Se()),Ae=I.default.div(xe(),Pe),Me=I.default.div(Ce(),Pe,Pe,ke.akColorN900),Re=function(e){function t(){var e,n;m()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=y()(this,(e=O()(t)).call.apply(e,[this].concat(o))),S()(w()(n),"onPrimaryClick",(function(){n.props.fireClickEvent("primary")})),S()(w()(n),"onSecondaryClick",(function(){n.props.fireClickEvent("secondary")})),n}return C()(t,e),g()(t,[{key:"getPrimaryButton",value:function(){var e=this.props,t=e.primaryAction,n=e.primaryText;return this.getActionButton("primary",this.onPrimaryClick,t,n)}},{key:"getSecondaryButton",value:function(){var e=this.props,t=e.secondaryAction,n=e.secondaryText;return this.getActionButton("subtle-link",this.onSecondaryClick,t,n)}},{key:"getActionButton",value:function(e,t,n,a){switch(n?n.type:je.a.DISMISS){case je.a.LINK:var o=n.data;return i.a.createElement(N.a,{href:o.url,target:o.target,appearance:e,onClick:t},a);default:return i.a.createElement(N.a,{appearance:e,onClick:t},a)}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,a=e.imageSrc,o=e.imageAlt,r=e.body,c=e.position,l=e.order,s=e.secondaryText,u={image:null,title:null,body:null};n&&(u.title=i.a.createElement("h4",{key:"title"},n)),a&&(u.image=i.a.createElement(Ne,{key:"img",src:a,alt:o})),u.body=i.a.createElement(Me,{key:"body"},i.a.createElement(Oe.a,{html:r}));var d=l.map((function(e){return u[e]})),p=i.a.createElement("div",null,i.a.createElement(Ie,null,d),i.a.createElement(Ae,null,this.getPrimaryButton(),s?this.getSecondaryButton():null));return i.a.createElement(ye,{content:p,position:c,isOpen:!0},t)}}]),t}(o.Component);S()(Re,"defaultProps",{children:null,order:["title","image","body"],position:"bottom left"});var _e=Object(we.a)(Re),Le=Object(Ee.a)(_e,"inlineDialog"),De=n("Ua4J"),Fe=n("ewfN"),Ue=n("DQZQ"),He=n("v5Wd");n.d(t,"SettingsComponent",(function(){return ze}));const Be={id:"navigation.settings.name",defaultMessage:"Settings"},ze=()=>{var e,t;const{match:n}=Object(o.useContext)(De.a),{data:s,loading:u,error:d}=Object(r.d)(He.a),p=Object(l.a)(()=>{},{type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"settings",attributes:{selectedItemPageContext:n?n.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:Ue.b.START_TOUCH}}}),b=!!document.querySelector("meta[name='ajs-is-admin-page']"),m=f;if(d||u)return null;return((null==s||null===(e=s.user)||void 0===e||null===(t=e.confluence)||void 0===t?void 0:t.operations)||[]).some(e=>"administer"===(null==e?void 0:e.operation)&&"application"===(null==e?void 0:e.targetType))?i.a.createElement(Le,{engagementId:"adminSettingsIcon"},i.a.createElement("span",{"data-testid":"app-navigation-settings"},i.a.createElement(m,{onClick:p,href:Fe.ADMIN_SETTINGS.toUrl(),name:"settings",tooltip:i.a.createElement(c.b,Object(a.a)({},Be)),isSelected:b}))):null}},rzmQ:function(e,t,n){"use strict";n.r(t);var a=n("U63R");n.d(t,"Priority",(function(){return a.a}));var o=n("axEa");n.d(t,"getTaskQueue",(function(){return o.a}));var i=n("nPRB");n.d(t,"TaskQueue",(function(){return i.a}));var r=n("RfuI");n.d(t,"Loadable",(function(){return r.a}));var c=n("WSZS");n.d(t,"useLoadableAncestors",(function(){return c.a}));var l=n("NGEh");n.d(t,"preloadLoadable",(function(){return l.c})),n.d(t,"getRenderedOnServerSide",(function(){return l.a}));var s=n("kHPA");n.d(t,"defer",(function(){return s.a}))},tzZN:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),o=n("ERkP"),i=n.n(o),r=n("KsTJ"),c=n("WxFI"),l=n("Iops"),s=n("L21V"),u=n("z9P0"),d=n("Ua4J"),p=n("CGqU"),f=n("QpK7"),b=n("NSkI"),m=n("SR6Y"),h=n("DQZQ"),g=n("oN9k"),v=n("1U1M"),y=n("iBFh"),k=n("T+Mg"),O=n("H5qd");const E=n.n(O).a`query NameEmailAndAdminQuery{user(current:true){id displayName emails{value isPrimary}confluence{operations{operation targetType}}}}`,w=Object(s.f)({feedbackTitle:{id:"global-feedback-collector.title",defaultMessage:"Give feedback",description:"Title of feedback collector."},summaryPlaceholder:{id:"global-feedback-collector.summary-placeholder",defaultMessage:"Let us know what's on your mind",description:"Placeholder text inside input box of feedback collector."},preambleFirstLine:{id:"global-feedback-collector.preamble.first-line",defaultMessage:"Your thoughts are valuable in helping improve our products.",description:"First line of text in the feedback collector modal which is above the input box where feedback will be typed."},preambleSecondLine:{id:"global-feedback-collector.preamble.second-line",defaultMessage:"If you're looking to get help or want to report a bug, visit our {preambleLink}.",description:"Second line in the feedback collector modal which is above the input box where feedback will be typed. {preambleLink} will be substituted with a message that has id='help.menu.help.us.improve.give.feedback.preamble.link' which reads as 'support site.'"},preambleLink:{id:"global-feedback-collector.preamble.link",defaultMessage:"support site",description:"The text of the link which will help user go to the support site."},canContactText:{id:"global-feedback-collector.can-contact.label",defaultMessage:"Atlassian can contact me about this feedback. See our {privacyPolicyLink}.",description:"Text next to first checkbox. {privacyPolicyLink} will be substituted with a message that has id='help.menu.help.us.improve.give.feedback.privacy.policy.link' which reads as 'privacy policy'"},privacyPolicyLink:{id:"global-feedback-collector.privacy-policy.link",defaultMessage:"privacy policy",description:"The text of the link which will help user go to the privacy policy site."},improveAtlassianText:{id:"global-feedback-collector.improve-atlassian",defaultMessage:"I'd like to help improve Atlassian products by joining the {researchGroupLink}.",description:"Text next to second checkbox. {researchGroupLink} will be substituted with a message that has id='help.menu.help.us.improve.give.feedback.research.group.link' which reads as 'Atlassian Research Group'"},researchGroupLink:{id:"global-feedback-collector.research-group.link",defaultMessage:"Atlassian Research Group",description:"The text of the link which will help user go to the research group site."},feedbackFlagTitle:{id:"global-feedback-collector.flags.feedback-submitted.title",defaultMessage:"Thank you for your feedback",description:"Title of feedback flag once feedback has been submitted."},feedbackFlagDescription:{id:"global-feedback-collector.flags.feedback-submitted.description",defaultMessage:"Stay up to date with recent releases or reach out if you need help.",description:"Description of feedback flag once feedback has been submitted."},feedbackFlagGetHelp:{id:"global-feedback-collector.flags.feedback-submitted.get-help",defaultMessage:"Get help",description:"First action item in feedback flag."},feedbackFlagSeeWhatsNew:{id:"global-feedback-collector.flags.feedback-submitted.see-whats-new",defaultMessage:"See what’s new",description:"Second action item in feedback flag."}}),j=({link:e})=>i.a.createElement("a",{target:"_blank",href:e,tabIndex:-1},i.a.createElement(s.b,Object(a.a)({},w.preambleLink))),C=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,i.a.createElement(s.b,Object(a.a)({},w.preambleFirstLine))),i.a.createElement("p",null,i.a.createElement(s.b,Object(a.a)(Object(a.a)({},w.preambleSecondLine),{},{values:{preambleLink:i.a.createElement(j,{link:"https://support.atlassian.com/contact/#/"})}})))),x=({link:e})=>i.a.createElement("a",{target:"_blank",href:e},i.a.createElement(s.b,Object(a.a)({},w.privacyPolicyLink))),S=()=>i.a.createElement(s.b,Object(a.a)(Object(a.a)({},w.canContactText),{},{values:{privacyPolicyLink:i.a.createElement(x,{link:"https://www.atlassian.com/legal/privacy-policy"})}})),T=e=>[{content:e(w.feedbackFlagSeeWhatsNew),href:"https://confluence.atlassian.com/cloud/blog",target:"_blank"},{content:e(w.feedbackFlagGetHelp),href:"https://support.atlassian.com/",target:"_blank"}],P=({link:e})=>i.a.createElement("a",{target:"_blank",href:e},i.a.createElement(s.b,Object(a.a)({},w.researchGroupLink))),I=()=>i.a.createElement(s.b,Object(a.a)(Object(a.a)({},w.improveAtlassianText),{},{values:{researchGroupLink:i.a.createElement(P,{link:"https://www.atlassian.com/research-group"})}})),N=Object(s.g)(Object(k.a)(({onClose:e,intl:{formatMessage:t},flags:n})=>{var a,r,c;const[l,s]=Object(o.useState)(!0),{data:u}=Object(v.d)(E),p=(null==u||null===(r=u.user)||void 0===r?void 0:r.displayName)||"",f=null==u||null===(c=u.user)||void 0===c?void 0:c.emails,b=((null==f?void 0:f.find(e=>null==e?void 0:e.isPrimary))||{}).value||"",m=((null!=(a=u)&&null!=(a=a.user)&&null!=(a=a.confluence)?a.operations:a)||[]).some(e=>"administer"===e.operation&&"application"===e.targetType),{getHref:h,matchRoute:g}=Object(o.useContext)(d.a),k=g(h()),O=`Location: ${window.location.hostname+(null==k?void 0:k.pattern)} \n User-Agent: ${navigator.userAgent} \n Screen Resolution: ${`${window.screen.width} x ${window.screen.height}`} \n route-name: ${null==k?void 0:k.name} \n is-admin: ${m}`,j=()=>{s(!1),e()};return l?i.a.createElement(y.a,{onClose:j,onSubmit:()=>{n.showFlag({type:"success-circle",title:t(w.feedbackFlagTitle),description:t(w.feedbackFlagDescription),actions:T(t)}),j()},name:p,email:b,requestTypeId:"293",embeddableKey:"2e064b87-dbbb-4ae8-a49b-384d1de27c2c",feedbackTitle:t(w.feedbackTitle),showTypeField:!1,feedbackTitleDetails:i.a.createElement(C,null),canBeContactedLabel:i.a.createElement(S,null),enrolInResearchLabel:i.a.createElement(I,null),summaryPlaceholder:t(w.summaryPlaceholder),additionalFields:[{id:"customfield_10047",value:O}]}):null}));var A=n("hpu0"),M=n("3VMZ"),R=n("sMIw");n.d(t,"HelpComponent",(function(){return L}));const _=r.default.div`
  max-height: calc(100vh - 79px);
  box-sizing: border-box;
`,L=({openDialog:e,isOpen:t,onClose:n,onClick:r})=>{Object(o.useEffect)(()=>{Object(b.b)()},[]);const{isBranchDeploy:v}=Object(o.useContext)(R.a),{createAnalyticsEvent:y}=Object(u.a)(),{match:k}=Object(o.useContext)(d.a),O=Object(o.useCallback)(()=>{Object(A.b)().abort({name:M.a.APP_NAV_HELP_DROPDOWN,reason:"dropdown closed by user"}),n()},[n]),E=()=>{y({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"helpMenuHelpUsImproveRaiseABugClicked",source:"helpMenuHelpUsImproveRaiseABug"}}).fire()},w=()=>e(e=>i.a.createElement(N,{onClose:e,key:Math.random()})),j=()=>e(e=>i.a.createElement(p.a,{onClose:e})),C=()=>e(e=>i.a.createElement(f.a,{onClose:e})),x=()=>e(e=>i.a.createElement(m.a,{onClose:e})),S=Object(o.useCallback)(()=>{r(),t&&O(),y({type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"help",attributes:{selectedItemPageContext:k?k.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:h.b.START_TOUCH}}}).fire()},[t,O,r,k,y]);return i.a.createElement(o.Fragment,null,i.a.createElement(l.a,{isOpen:t,onClose:O,content:({update:t})=>i.a.createElement(_,null,i.a.createElement(b.a,{dialogFn:e,onOpenDevTools:j,onClickRaiseABug:E,onOpenGlobalFeedbackCollector:w,onClose:O,onOpenFeedbackCollector:C,onOpenShortcutsDialog:x,scheduleUpdate:t,isBranchDeploy:v})),trigger:e=>i.a.createElement("span",{"data-testid":"app-navigation-help"},i.a.createElement(c.a,Object(a.a)(Object(a.a)({},e),{},{onClick:S,tooltip:i.a.createElement(s.b,{id:"app-navigation.help.tooltip",defaultMessage:"Help",description:"Tooltip for the help menu"}),isSelected:t}))),placement:"bottom-end"}),i.a.createElement(g.a,{accelerator:"?",listener:x}),i.a.createElement(g.a,{accelerator:"g f",listener:C}))}},yGWe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("ERkP"),i=u(o),r=n("uPah"),c=n("GG1y"),l=u(n("2taK")),s=u(n("STKj"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,a;d(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.getStyles=function(){var e=a.props.accountForScrollbars,t=(0,c.getDocumentHeight)(),n=e?(0,c.getPadding)():null;return"body {\n      box-sizing: border-box !important;\n      overflow: hidden !important;\n      position: relative !important;\n      "+(t?"height: "+t+"px !important;":"")+"\n      "+(n?"padding-right: "+n+"px !important;":"")+"\n    }"},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){r.canUseDOM&&(this.initialHeight=window.innerHeight)}},{key:"componentWillUnmount",value:function(){var e=window.innerHeight-this.initialHeight;e&&window.scrollTo(0,window.pageYOffset+e),this.initialHeight=window.innerHeight}},{key:"render",value:function(){return i.default.createElement(s.default,{styles:this.getStyles()})}}]),t}(o.PureComponent);f.defaultProps={accountForScrollbars:!0},t.default=(0,l.default)(f)}}]);
//# sourceMappingURL=app-navigation-lazy-items~b59ad437.EtsWupRs4s.js.map