<h1 id="week-10-day-2-data-data-data" data-ignore="true">WEEK-10 DAY-2<br><em>Data! Data! Data!</em></h1>
<hr />
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=2 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#week-10-day-2brdata-data-data">WEEK-10 DAY-2<br><em>Data! Data! Data!</em> {ignore=true}</a></li>
<li><a href="#sql-learning-objectives">SQL Learning Objectives</a></li>
<li><a href="#retrieving-rows-from-a-table-using-select">Retrieving Rows From A Table Using SELECT</a>
<ul>
<li><a href="#what-is-a-query">What is a query?</a></li>
<li><a href="#example-table">Example table</a></li>
<li><a href="#using-psql-in-the-terminal">Using psql in the terminal</a></li>
<li><a href="#simple-select-query">Simple SELECT Query</a>
<ul>
<li><a href="#select-all-rows">SELECT all rows</a></li>
<li><a href="#select-by-column">SELECT by column</a></li>
<li><a href="#select-multiple-columns">SELECT multiple columns</a></li>
</ul></li>
<li><a href="#formatting-select-statements">Formatting SELECT statements</a></li>
<li><a href="#what-we-learned">What we learned:</a></li>
</ul></li>
<li><a href="#selecting-table-rows-using-where-and-common-operators">Selecting Table Rows Using WHERE And Common Operators</a>
<ul>
<li><a href="#using-select-and-where">Using SELECT and WHERE</a>
<ul>
<li><a href="#where-clause-for-a-single-value">WHERE clause for a single value</a></li>
<li><a href="#where-clause-for-a-list-of-values">WHERE clause for a list of values</a></li>
<li><a href="#where-clause-for-a-range-of-values">WHERE clause for a range of values</a></li>
</ul></li>
<li><a href="#order-by">ORDER BY</a></li>
<li><a href="#limit-and-offset">LIMIT and OFFSET</a></li>
<li><a href="#sql-operators">SQL operators</a>
<ul>
<li><a href="#logical-operators">Logical operators</a></li>
<li><a href="#arithmetic-operators">Arithmetic operators</a></li>
<li><a href="#comparison-operators">Comparison operators</a></li>
</ul></li>
<li><a href="#what-we-learned-1">What we learned:</a></li>
</ul></li>
<li><a href="#inserting-data-into-a-table">Inserting Data Into A Table</a>
<ul>
<li><a href="#what-we-learned-2">What we learned:</a></li>
</ul></li>
<li><a href="#foreign-keys-and-the-join-operation">Foreign Keys And The JOIN Operation</a>
<ul>
<li><a href="#setting-up-the-database">Setting up the database</a></li>
<li><a href="#using-join-to-retrieve-rows-from-multiple-tables">Using JOIN to retrieve rows from multiple tables</a></li>
<li><a href="#what-we-learned-3">What we learned:</a></li>
<li><a href="#helpful-links">Helpful links:</a></li>
</ul></li>
<li><a href="#writing-and-running-a-seed-file-in-psql">Writing And Running A Seed File In PSQL</a>
<ul>
<li><a href="#creating-a-seed-file">Creating a seed file</a></li>
<li><a href="#populating-a-database-via--left-caret">Populating a database via &lt; (“left caret”)</a></li>
<li><a href="#populating-the-database-via--pipe">Populating the database via | (“pipe”)</a></li>
<li><a href="#what-we-learned-4">What we learned:</a></li>
</ul></li>
<li><a href="#create-and-seed-a-database-project">Create And Seed A Database Project</a>
<ul>
<li><a href="#project-overview">Project overview</a></li>
<li><a href="#phase-1-create-a-new-database">Phase 1: Create a new database</a></li>
<li><a href="#phase-2-create-a-seeds-seed-file">Phase 2: Create a seeds seed file</a></li>
<li><a href="#phase-3-pipe-your-seed-file-into-your-new-database">Phase 3: Pipe your seed file into your new database</a>
<ul>
<li><a href="#method-1-seed-your-database-via-caret-method">Method 1. Seed your database via caret method</a></li>
<li><a href="#method-2-seed-your-database-via-pipe-method">Method 2. Seed your database via pipe method</a></li>
<li><a href="#if-you-want-to-seed-using-the-file-again-you-need-to-first-drop-the-tables">If you want to seed using the file again, you need to first drop the tables.</a></li>
<li><a href="#check-to-make-sure-your-seed-file-has-actually-updated-the-farm-database">Check to make sure your seed file has actually updated the <code>farm</code> database</a></li>
</ul></li>
</ul></li>
<li><a href="#solving-the-sql-menagerie">Solving The SQL Menagerie</a>
<ul>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#project-overview-1">Project overview</a></li>
<li><a href="#phase-1-pipe-in-a-seed-file-to-create-new-database-tables">Phase 1: Pipe in a seed file to create new database tables</a></li>
<li><a href="#phase-2-write-basic-select-statements">Phase 2: Write basic SELECT statements</a></li>
<li><a href="#phase-3-add-where-clauses">Phase 3: Add WHERE clauses</a></li>
<li><a href="#phase-4-use-a-join-operation">Phase 4: Use a JOIN operation</a></li>
<li><a href="#bonuses">Bonuses</a></li>
</ul></li>
</ul>
<!-- /code_chunk_output -->
<hr />
<hr />
<h1 id="sql-learning-objectives">SQL Learning Objectives</h1>
<p>SQL is the language of relational data. It is one of the core languages that most software developers know because of its prevalence in the industry due to the common use of RDBMSes. The objectives for your SQL learning journey cover:</p>
<ul>
<li>How to use the <code>SELECT ... FROM ...</code> statement to select data from a single table</li>
<li>How to use the <code>WHERE</code> clause on <code>SELECT</code>, <code>UPDATE</code>, and <code>DELETE</code> statements to narrow the scope of the command</li>
<li>How to use the <code>JOIN</code> keyword to join two (or more) tables together into a single virtual table</li>
<li>How to use the <code>INSERT</code> statement to insert data into a table</li>
<li>How to use an <code>UPDATE</code> statement to update data in a table</li>
<li>How to use a <code>DELETE</code> statement to remove data from a table</li>
<li>How to use a seed file to populate data in a database</li>
<li>How to perform relational database design</li>
<li>How to use transactions to group multiple SQL commands into one succeed or fail operation</li>
<li>How to apply indexes to tables to improve performance</li>
<li>Explain what and why someone would use <code>EXPLAIN</code></li>
<li>Demonstrate how to install and use the <strong>node-postgres</strong> library and its <code>Pool</code> class to query a PostgreSQL-managed database</li>
<li>Explain how to write prepared statements with placeholders for parameters of the form “$1”, “$2”, and so on</li>
</ul>
<hr />
<h1 id="retrieving-rows-from-a-table-using-select">Retrieving Rows From A Table Using SELECT</h1>
<p>In the first reading, we covered SQL and PostgreSQL and how to set up PostgreSQL. In this reading, we’re going to learn how to write a simple SQL query using SELECT.</p>
<h2 id="what-is-a-query">What is a query?</h2>
<p>SQL stands for <em>Structured Query Language</em>, and whenever we write SQL we’re usually querying a database. A query is simply a question we’re asking a database, and we’re aiming to get a response back. The response comes back to us as a list of table rows.</p>
<h2 id="example-table">Example table</h2>
<p>Let’s say we had the following database table called <code>puppies</code>. We’ll use this table to make our queries:</p>
<p><em><strong>puppies table</strong></em></p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>age_yrs</th>
<th>breed</th>
<th>weight_lbs</th>
<th>microchipped</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cooper</td>
<td>1</td>
<td>Miniature Schnauzer</td>
<td>18</td>
<td>yes</td>
</tr>
<tr class="even">
<td>Indie</td>
<td>0.5</td>
<td>Yorkshire Terrier</td>
<td>13</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Kota</td>
<td>0.7</td>
<td>Australian Shepherd</td>
<td>26</td>
<td>no</td>
</tr>
<tr class="even">
<td>Zoe</td>
<td>0.8</td>
<td>Korean Jindo</td>
<td>32</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Charley</td>
<td>1.5</td>
<td>Basset Hound</td>
<td>25</td>
<td>no</td>
</tr>
<tr class="even">
<td>Ladybird</td>
<td>0.6</td>
<td>Labradoodle</td>
<td>20</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Callie</td>
<td>0.9</td>
<td>Corgi</td>
<td>16</td>
<td>no</td>
</tr>
<tr class="even">
<td>Jaxson</td>
<td>0.4</td>
<td>Beagle</td>
<td>19</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Leinni</td>
<td>1</td>
<td>Miniature Schnauzer</td>
<td>25</td>
<td>yes</td>
</tr>
<tr class="even">
<td>Max</td>
<td>1.6</td>
<td>German Shepherd</td>
<td>65</td>
<td>no</td>
</tr>
</tbody>
</table>
<h2 id="using-psql-in-the-terminal">Using psql in the terminal</h2>
<p>As we covered in the first reading, psql allows us to access the PostgreSQL server and make queries via the terminal. Open up the terminal on your machine, and connect to the PostgreSQL server by using the following psql command:</p>
<pre class="shell"><code>psql -U postgres</code></pre>
<p>The above command lets you access the PostgreSQL server as the user ‘postgres’ (<code>-U</code> stands for user). After you enter this command, you’ll be prompted for the password that you set for the ‘postgres’ user during installation. Type it in, and hit Enter. Once you’ve successfully logged in, you should see the following in the terminal:</p>
<pre class="shell"><code>Password for user postgres:
psql (11.5, server 11.6)
Type &quot;help&quot; for help.

postgres=#</code></pre>
<p>You can exit psql at anytime with the command <code>\q</code>, and you can log back in with <code>psql -U postgres</code>. (<em>See this <a href="https://www.postgresql.org/docs/9.6/functions-matching.html">Postgres Cheatsheet</a> for a list of more PSQL commands.</em>)</p>
<p>We’ll use the following PostgreSQL to create the <code>puppies</code> table above. After you’ve logged into the psql server, type the following code and hit Enter.</p>
<p><em><strong>puppies.sql</strong></em></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">create</span> <span class="kw">table</span> puppies (</a>
<a class="sourceLine" id="cb3-2" title="2">  name <span class="dt">VARCHAR</span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb3-3" title="3">  age_yrs <span class="dt">NUMERIC</span>(<span class="dv">2</span>,<span class="dv">1</span>),</a>
<a class="sourceLine" id="cb3-4" title="4">  breed <span class="dt">VARCHAR</span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb3-5" title="5">  weight_lbs <span class="dt">INT</span>,</a>
<a class="sourceLine" id="cb3-6" title="6">  microchipped <span class="dt">BOOLEAN</span></a>
<a class="sourceLine" id="cb3-7" title="7">);</a>
<a class="sourceLine" id="cb3-8" title="8"></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="kw">insert</span> <span class="kw">into</span> puppies</a>
<a class="sourceLine" id="cb3-10" title="10"><span class="kw">values</span></a>
<a class="sourceLine" id="cb3-11" title="11">(<span class="st">&#39;Cooper&#39;</span>, <span class="dv">1</span>, <span class="st">&#39;Miniature Schnauzer&#39;</span>, <span class="dv">18</span>, <span class="st">&#39;yes&#39;</span>);</a>
<a class="sourceLine" id="cb3-12" title="12"></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="kw">insert</span> <span class="kw">into</span> puppies</a>
<a class="sourceLine" id="cb3-14" title="14"><span class="kw">values</span></a>
<a class="sourceLine" id="cb3-15" title="15">(<span class="st">&#39;Indie&#39;</span>, <span class="fl">0.5</span>, <span class="st">&#39;Yorkshire Terrier&#39;</span>, <span class="dv">13</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb3-16" title="16">(<span class="st">&#39;Kota&#39;</span>, <span class="fl">0.7</span>, <span class="st">&#39;Australian Shepherd&#39;</span>, <span class="dv">26</span>, <span class="st">&#39;no&#39;</span>),</a>
<a class="sourceLine" id="cb3-17" title="17">(<span class="st">&#39;Zoe&#39;</span>, <span class="fl">0.8</span>, <span class="st">&#39;Korean Jindo&#39;</span>, <span class="dv">32</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb3-18" title="18">(<span class="st">&#39;Charley&#39;</span>, <span class="fl">1.5</span>, <span class="st">&#39;Basset Hound&#39;</span>, <span class="dv">25</span>, <span class="st">&#39;no&#39;</span>),</a>
<a class="sourceLine" id="cb3-19" title="19">(<span class="st">&#39;Ladybird&#39;</span>, <span class="fl">0.6</span>, <span class="st">&#39;Labradoodle&#39;</span>, <span class="dv">20</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb3-20" title="20">(<span class="st">&#39;Callie&#39;</span>, <span class="fl">0.9</span>, <span class="st">&#39;Corgi&#39;</span>, <span class="dv">16</span>, <span class="st">&#39;no&#39;</span>),</a>
<a class="sourceLine" id="cb3-21" title="21">(<span class="st">&#39;Jaxson&#39;</span>, <span class="fl">0.4</span>, <span class="st">&#39;Beagle&#39;</span>, <span class="dv">19</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb3-22" title="22">(<span class="st">&#39;Leinni&#39;</span>, <span class="dv">1</span>, <span class="st">&#39;Miniature Schnauzer&#39;</span>, <span class="dv">25</span>, <span class="st">&#39;yes&#39;</span> ),</a>
<a class="sourceLine" id="cb3-23" title="23">(<span class="st">&#39;Max&#39;</span>, <span class="fl">1.6</span>, <span class="st">&#39;German Shepherd&#39;</span>, <span class="dv">65</span>, <span class="st">&#39;no&#39;</span>);</a></code></pre></div>
<p>In the above SQL, we created a new table called <code>puppies</code>, and we gave it the following columns: <code>name</code>, <code>age_yrs</code>, <code>breed</code>, <code>weight_lbs</code>, and <code>microchipped</code>. We filled the table with ten rows containing data for each puppy, by using <code>insert into puppies values ()</code>.</p>
<p>We used the following <a href="https://www.postgresql.org/docs/9.6/functions-aggregate.html">PostgreSQL data types</a>: <code>VARCHAR</code>, <code>NUMERIC</code>, <code>INT</code>, and <code>BOOLEAN</code>.</p>
<ul>
<li><code>VARCHAR(n)</code> is a variable-length character string that lets you store up to <em>n</em> characters. Here we’ve set the character limit to 100 for the <code>name</code> and <code>breed</code> columns.</li>
<li><code>NUMERIC(p,s)</code> is a floating-point number with <em>p</em> digits and <em>s</em> number of places after the decimal point. Here we’ve set the values for the <code>age_yrs</code> column to up to two digits before the decimal and one place after the decimal.</li>
<li><code>INT</code> is a 4-byte integer, which we’ve set on the <code>weight_lbs</code> column.</li>
<li><code>BOOLEAN</code> is, of course, a Boolean value. We’ve set the <code>microchipped</code> column to accept Boolean values. SQL accepts the standard Boolean values <code>true</code>, <code>false</code>, or <code>null</code>. However, you’ll note that we’ve used <code>yes</code> and <code>no</code> in our <code>microchipped</code> column because <a href="https://www.essentialsql.com/include-single-quote-sql-query/">PostgreSQL Booleans</a> can be any of the following values:</li>
</ul>
<table>
<thead>
<tr class="header">
<th>TRUE</th>
<th>FALSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>true</td>
<td>false</td>
</tr>
<tr class="even">
<td>‘t’</td>
<td>‘f’</td>
</tr>
<tr class="odd">
<td>‘true’</td>
<td>‘false’</td>
</tr>
<tr class="even">
<td>‘yes’</td>
<td>‘no’</td>
</tr>
<tr class="odd">
<td>‘y’</td>
<td>‘n’</td>
</tr>
<tr class="even">
<td>‘1’</td>
<td>‘0’</td>
</tr>
</tbody>
</table>
<h2 id="simple-select-query">Simple SELECT Query</h2>
<p>We can write a simple <a href="https://www.postgresql.org/docs/9.6/functions-formatting.html">SELECT query</a> to get results back from the table above. The syntax for the SELECT query is <code>SELECT [columns] FROM [table]</code>.</p>
<h3 id="select-all-rows">SELECT all rows</h3>
<p>Using <code>SELECT *</code> is a quick way to get back all the rows in a given table. It is discouraged in queries that you write for your applications. Use it only when playing around with data, not for production code.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">SELECT</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">FROM</span>   puppies;</a></code></pre></div>
<p>Type the query above into your psql terminal, and make sure to add a semicolon at the end, which terminates the statement. <code>SELECT</code> and <code>FROM</code> should be capitalized. The above query should give us back the entire <code>puppies</code> table:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>age_yrs</th>
<th>breed</th>
<th>weight_lbs</th>
<th>microchipped</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cooper</td>
<td>1</td>
<td>Miniature Schnauzer</td>
<td>18</td>
<td>yes</td>
</tr>
<tr class="even">
<td>Indie</td>
<td>0.5</td>
<td>Yorkshire Terrier</td>
<td>13</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Kota</td>
<td>0.7</td>
<td>Australian Shepherd</td>
<td>26</td>
<td>no</td>
</tr>
<tr class="even">
<td>Zoe</td>
<td>0.8</td>
<td>Korean Jindo</td>
<td>32</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Charley</td>
<td>1.5</td>
<td>Basset Hound</td>
<td>25</td>
<td>no</td>
</tr>
<tr class="even">
<td>Ladybird</td>
<td>0.6</td>
<td>Labradoodle</td>
<td>20</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Callie</td>
<td>0.9</td>
<td>Corgi</td>
<td>16</td>
<td>no</td>
</tr>
<tr class="even">
<td>Jaxson</td>
<td>0.4</td>
<td>Beagle</td>
<td>19</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Leinni</td>
<td>1</td>
<td>Miniature Schnauzer</td>
<td>25</td>
<td>yes</td>
</tr>
<tr class="even">
<td>Max</td>
<td>1.6</td>
<td>German Shepherd</td>
<td>65</td>
<td>no</td>
</tr>
</tbody>
</table>
<h3 id="select-by-column">SELECT by column</h3>
<p>We can see all the rows in a given column by using <code>SELECT [column name]</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">SELECT</span> name</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">FROM</span>   puppies;</a></code></pre></div>
<p>Type the query above into your psql terminal, and make sure to add a semicolon at the end, which terminates the statement. <code>SELECT</code> and <code>FROM</code> should be capitalized. The above query should give us back the following:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cooper</td>
</tr>
<tr class="even">
<td>Indie</td>
</tr>
<tr class="odd">
<td>Kota</td>
</tr>
<tr class="even">
<td>Zoe</td>
</tr>
<tr class="odd">
<td>Charley</td>
</tr>
<tr class="even">
<td>Ladybird</td>
</tr>
<tr class="odd">
<td>Callie</td>
</tr>
<tr class="even">
<td>Jaxson</td>
</tr>
<tr class="odd">
<td>Leinni</td>
</tr>
<tr class="even">
<td>Max</td>
</tr>
</tbody>
</table>
<h3 id="select-multiple-columns">SELECT multiple columns</h3>
<p>To see multiple columns, we can concatenate the column names by using commas between column names.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">SELECT</span> name</a>
<a class="sourceLine" id="cb6-2" title="2">     , age_yrs</a>
<a class="sourceLine" id="cb6-3" title="3">     , weight_lbs</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="kw">FROM</span>   puppies;</a></code></pre></div>
<p>Type the query above into your psql terminal, and make sure to add a semicolon at the end, which terminates the statement. <code>SELECT</code> and <code>FROM</code> should be capitalized. The above query should give us back the following:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>age_yrs</th>
<th>weight_lbs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cooper</td>
<td>1</td>
<td>18</td>
</tr>
<tr class="even">
<td>Indie</td>
<td>0.5</td>
<td>13</td>
</tr>
<tr class="odd">
<td>Kota</td>
<td>0.7</td>
<td>26</td>
</tr>
<tr class="even">
<td>Zoe</td>
<td>0.8</td>
<td>32</td>
</tr>
<tr class="odd">
<td>Charley</td>
<td>1.5</td>
<td>25</td>
</tr>
<tr class="even">
<td>Ladybird</td>
<td>0.6</td>
<td>20</td>
</tr>
<tr class="odd">
<td>Callie</td>
<td>0.9</td>
<td>16</td>
</tr>
<tr class="even">
<td>Jaxson</td>
<td>0.4</td>
<td>19</td>
</tr>
<tr class="odd">
<td>Leinni</td>
<td>1</td>
<td>25</td>
</tr>
<tr class="even">
<td>Max</td>
<td>1.6</td>
<td>65</td>
</tr>
</tbody>
</table>
<h2 id="formatting-select-statements">Formatting SELECT statements</h2>
<p>This is another of those hot-button topics with software developers. Some people like to put all the stuff on one line for each SQL keyword.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">SELECT</span> name, age_yrs, weight_lbs</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">FROM</span>   puppies;</a></code></pre></div>
<p>That works for short lists. But some tables have hundreds of columns. That gets long.</p>
<p>Some developers like what you saw earlier, the “each column name on its own line with the comma at the front”.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">SELECT</span> name</a>
<a class="sourceLine" id="cb8-2" title="2">     , age_yrs</a>
<a class="sourceLine" id="cb8-3" title="3">     , weight_lbs</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="kw">FROM</span>   puppies;</a></code></pre></div>
<p>They like this because if they need to comment out a column name, they can just put a couple of dashes at the beginning of the line.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">SELECT</span> name</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">--     , age_yrs</span></a>
<a class="sourceLine" id="cb9-3" title="3">     , weight_lbs</a>
<a class="sourceLine" id="cb9-4" title="4"><span class="kw">FROM</span>   puppies;</a></code></pre></div>
<p>Some developers just do a word wrap when lines get too long.</p>
<p>All of these are fine. Just stay consistent within a project how you do them.</p>
<h2 id="what-we-learned">What we learned:</h2>
<ul>
<li>What a query is</li>
<li>How to connect to the PostgreSQL server with psql</li>
<li>How to construct an example SQL table</li>
<li>PostgreSQL data types</li>
<li>How to write a simple SELECT query</li>
<li>How to SELECT all rows, rows by column, and rows by multiple columns</li>
</ul>
<hr />
<h1 id="selecting-table-rows-using-where-and-common-operators">Selecting Table Rows Using WHERE And Common Operators</h1>
<p>In the last reading, we learned how to create a simple SQL query using SELECT. In this reading, we’ll be adding a <a href="https://www.postgresql.org/docs/9.6/functions-matching.html">WHERE clause</a> to our SELECT statement to further filter a database table and get specific rows back.</p>
<h2 id="using-select-and-where">Using SELECT and WHERE</h2>
<p>Previously, we covered how to use SELECT queries to fetch all of a table’s rows or specified table rows by column(s). We can filter information returned by our query by using a WHERE clause in our SELECT statement.</p>
<p>Let’s look at some examples of adding a WHERE clause using our <code>puppies</code> table from before:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>age_yrs</th>
<th>breed</th>
<th>weight_lbs</th>
<th>microchipped</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cooper</td>
<td>1</td>
<td>Miniature Schnauzer</td>
<td>18</td>
<td>yes</td>
</tr>
<tr class="even">
<td>Indie</td>
<td>0.5</td>
<td>Yorkshire Terrier</td>
<td>13</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Kota</td>
<td>0.7</td>
<td>Australian Shepherd</td>
<td>26</td>
<td>no</td>
</tr>
<tr class="even">
<td>Zoe</td>
<td>0.8</td>
<td>Korean Jindo</td>
<td>32</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Charley</td>
<td>1.5</td>
<td>Basset Hound</td>
<td>25</td>
<td>no</td>
</tr>
<tr class="even">
<td>Ladybird</td>
<td>0.6</td>
<td>Labradoodle</td>
<td>20</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Callie</td>
<td>0.9</td>
<td>Corgi</td>
<td>16</td>
<td>no</td>
</tr>
<tr class="even">
<td>Jaxson</td>
<td>0.4</td>
<td>Beagle</td>
<td>19</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Leinni</td>
<td>1</td>
<td>Miniature Schnauzer</td>
<td>25</td>
<td>yes</td>
</tr>
<tr class="even">
<td>Max</td>
<td>1.6</td>
<td>German Shepherd</td>
<td>65</td>
<td>no</td>
</tr>
</tbody>
</table>
<h3 id="where-clause-for-a-single-value">WHERE clause for a single value</h3>
<p>The simplest WHERE clause finds a row by a single column value. See the example below, which finds the rows where the breed equals ‘Corgi’:</p>
<pre class="shell"><code>SELECT name, breed FROM puppies
  WHERE breed = &#39;Corgi&#39;;</code></pre>
<p><code>SELECT</code>, <code>FROM</code>, and <code>WHERE</code> are capitalized. Notice that the string must use single quotation marks. <em>Note: PostgreSQL converts all names of tables, columns, functions, etc. to lowercase unless they’re double quoted.</em> For example: <code>create table Foo()</code> will create a table called <code>foo</code>, and <code>create table "Bar"()</code> will create a table called <code>Bar</code>. If you use double quotation marks in the query above, you’ll get an error that says <code>column "Corgi" does not exist</code> because it thinks you’re searching for the capitalized column name <code>Corgi</code>.</p>
<p>Use the command <code>psql -U postgres</code> in the terminal, and type in your ‘postgres’ user password to connect to the PostgreSQL server. You should have a puppies table in your postgres database from the last reading. Once you’re in psql, enter the query above into the terminal and press Enter. You should get back one result for Callie the Corgi.</p>
<pre class="shell"><code>  name  | breed
--------+-------
 Callie | Corgi</code></pre>
<h3 id="where-clause-for-a-list-of-values">WHERE clause for a list of values</h3>
<p>We can also add a WHERE clause to check for a list of values. The syntax is <code>WHERE [column] IN ('value1', 'value2', 'value3')</code>. Let’s say we wanted to find the name and breed of the puppies who are Corgis, Beagles, or Yorkshire Terriers. We could do so with the query below:</p>
<pre class="shell"><code>SELECT name, breed FROM puppies
  WHERE breed IN (&#39;Corgi&#39;, &#39;Beagle&#39;, &#39;Yorkshire Terrier&#39;);</code></pre>
<p>Entering this query into psql should yield the following results:</p>
<pre class="shell"><code>  name  |       breed
--------+-------------------
 Indie  | Yorkshire Terrier
 Callie | Corgi
 Jaxson | Beagle</code></pre>
<h3 id="where-clause-for-a-range-of-values">WHERE clause for a range of values</h3>
<p>In addition to checking for string values, we can use the WHERE clause to check for a range of numeric/integer values. This time, let’s find the name, breed, and age of the puppies who are between 0 to 6 months old.</p>
<pre class="shell"><code>SELECT name, breed, age_yrs FROM puppies
  WHERE age_yrs BETWEEN 0 AND 0.6;</code></pre>
<p>Entering this query into psql should yield the following results:</p>
<pre class="shell"><code>   name   |       breed       | age_yrs
----------+-------------------+---------
 Indie    | Yorkshire Terrier |     0.5
 Ladybird | Labradoodle       |     0.6
 Jaxson   | Beagle            |     0.4</code></pre>
<h2 id="order-by">ORDER BY</h2>
<p>Getting the values back from a database in any order it wants to give them to you is ludicrous. Instead, you will often want to specify the order in which you get them back. Say you wanted them in alphabetical order by their name. Then, you would write</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">SELECT</span> name, breed</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb16-3" title="3"><span class="kw">ORDER</span> <span class="kw">BY</span> name;</a></code></pre></div>
<p>Say you wanted that returned from oldest dog to youngest dog. You would write</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">SELECT</span> name, breed</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb17-3" title="3"><span class="kw">ORDER</span> <span class="kw">BY</span> age_yrs <span class="kw">DESC</span>;</a></code></pre></div>
<p>where <code>DESC</code> means in descending order. Note that the column that you order on does not have to appear in the column list of the <code>SELECT</code> statement.</p>
<h2 id="limit-and-offset">LIMIT and OFFSET</h2>
<p>Say your query would return one million rows because you’ve cataloged every puppy in the world. That would be a lot for any application to handle. Instead, you may want to limit the number of rows returned. You can do that with the <code>LIMIT</code> keyword.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">SELECT</span> name, breed</a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb18-3" title="3"><span class="kw">ORDER</span> <span class="kw">BY</span> age_yrs</a>
<a class="sourceLine" id="cb18-4" title="4"><span class="kw">LIMIT</span> <span class="dv">100</span>;</a></code></pre></div>
<p>That would return the name and breed of the 100 youngest puppies. (Why?) That is, of the million rows that the statement would find, it <em>limits</em> the number to only 100.</p>
<p>Let’s say you want to see the <em>next</em> 100 puppies after the first hundred. You can do that with the <code>OFFSET</code> keyword which comes after the <code>LIMIT</code> clause.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">SELECT</span> name, breed</a>
<a class="sourceLine" id="cb19-2" title="2"><span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb19-3" title="3"><span class="kw">ORDER</span> <span class="kw">BY</span> age_yrs</a>
<a class="sourceLine" id="cb19-4" title="4"><span class="kw">LIMIT</span> <span class="dv">100</span> OFFSET <span class="dv">100</span>;</a></code></pre></div>
<p>That will return only rows 101 - 200 of the result set. It <em>limits</em> the total number of records to return to 100. Then, it starts at the 100th row and counts 100 records. Those are the records returned.</p>
<h2 id="sql-operators">SQL operators</h2>
<p>A SQL operator is a word or character that is used inside a WHERE clause to perform comparisons or arithmetic operations. In the three examples above, we used SQL operators inside of WHERE clauses to filter table rows – <code>=</code>, <code>IN</code>, <code>BETWEEN</code>, and <code>AND</code>.</p>
<p>The following is a listing of SQL operators. We can combine any of these operators in our query or use a single operator by itself.</p>
<h3 id="logical-operators">Logical operators</h3>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ALL</td>
<td>TRUE if all of the subquery values meet the condition.</td>
</tr>
<tr class="even">
<td>AND</td>
<td>TRUE if all the conditions separated by AND are TRUE.</td>
</tr>
<tr class="odd">
<td>ANY</td>
<td>TRUE if any of the subquery values meet the condition.</td>
</tr>
<tr class="even">
<td>BETWEEN</td>
<td>TRUE if the operand is within the range of comparisons.</td>
</tr>
<tr class="odd">
<td>EXISTS</td>
<td>TRUE if the subquery returns one or more records.</td>
</tr>
<tr class="even">
<td>IN</td>
<td>TRUE if the operand is equal to one of a list of expressions.</td>
</tr>
<tr class="odd">
<td>LIKE</td>
<td>TRUE if the operand matches a pattern (accepts “wildcards”).</td>
</tr>
<tr class="even">
<td>NOT</td>
<td>Displays a record if the condition(s) is NOT TRUE.</td>
</tr>
<tr class="odd">
<td>OR</td>
<td>TRUE if any of the conditions separated by OR is TRUE.</td>
</tr>
<tr class="even">
<td>SOME</td>
<td>TRUE if any of the subquery values meet the condition.</td>
</tr>
</tbody>
</table>
<p>Here is another example query with a WHERE clause using several logical operators: <code>NOT</code>, <code>IN</code>, <code>AND</code>, and <code>LIKE</code>.</p>
<pre class="shell"><code>SELECT name, breed FROM puppies
  WHERE breed NOT IN (&#39;Miniature Schnauzer&#39;, &#39;Basset Hound&#39;, &#39;Labradoodle&#39;)
    AND breed NOT LIKE &#39;%Shepherd&#39;;</code></pre>
<p><strong>Note</strong>: Pay attention to that <code>LIKE</code> operator. You will use it more than you want to. The wildcard it uses is the percent sign. Here’s a table to help you understand.</p>
<table>
<thead>
<tr class="header">
<th><code>LIKE</code></th>
<th>Matches “dog”</th>
<th>Matches “hotdog”</th>
<th>Matches “dog-tired”</th>
<th>Matches “ordogordo”</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>'dog'</code></td>
<td>yes</td>
<td>no</td>
<td>no</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>'%dog'</code></td>
<td>yes</td>
<td>yes</td>
<td>no</td>
<td>no</td>
</tr>
<tr class="odd">
<td><code>'dog%'</code></td>
<td>yes</td>
<td>no</td>
<td>yes</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>'%dog%'</code></td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p>Entering this query into psql should yield the following results:</p>
<pre class="shell"><code>  name  |       breed
--------+-------------------
 Indie  | Yorkshire Terrier
 Zoe    | Korean Jindo
 Callie | Corgi
 Jaxson | Beagle</code></pre>
<p>With the query above, we filtered out six puppies: two Miniature Schnauzers, one Basset Hound, one Labradoodle, and two Shepherds. We started with ten puppies in the table, so we’re left with four table rows. There are two puppies who are Shepherd breeds: an Australian Shepherd and a German Shepherd. We used the <code>LIKE</code> operator to filter these. In <code>'%Shepherd</code>, the <code>%</code> matches any substring value before the substring ‘Shepherd’.</p>
<h3 id="arithmetic-operators">Arithmetic operators</h3>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>Addition</td>
<td>a + b</td>
</tr>
<tr class="even">
<td>-</td>
<td>Subtraction</td>
<td>a - b</td>
</tr>
<tr class="odd">
<td>*</td>
<td>Multiplication</td>
<td>a * b</td>
</tr>
<tr class="even">
<td>/</td>
<td>Division</td>
<td>a / b</td>
</tr>
<tr class="odd">
<td>%</td>
<td>Modulus (returns remainder)</td>
<td>a % b</td>
</tr>
</tbody>
</table>
<p>Here is an example query with a WHERE clause using the multiplication operator to find puppies that are 6 months old:</p>
<pre class="shell"><code>SELECT name, breed, age_yrs FROM puppies
  WHERE age_yrs * 10 = 6;</code></pre>
<p>Entering the above query into psql will yield one result:</p>
<pre class="shell"><code>   name   |    breed    | age_yrs
----------+-------------+---------
 Ladybird | Labradoodle |     0.6</code></pre>
<h3 id="comparison-operators">Comparison operators</h3>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>=</td>
<td>Equals</td>
<td>a = b</td>
</tr>
<tr class="even">
<td>!=</td>
<td>Not equal to</td>
<td>a != b</td>
</tr>
<tr class="odd">
<td>&lt;&gt;</td>
<td>Not equal to</td>
<td>a &lt;&gt; b</td>
</tr>
<tr class="even">
<td>&gt;</td>
<td>Greater than</td>
<td>a &gt; b</td>
</tr>
<tr class="odd">
<td>&lt;</td>
<td>Less than</td>
<td>a &lt; b</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>Greater than or equal to</td>
<td>a &gt;= b</td>
</tr>
<tr class="odd">
<td>&lt;=</td>
<td>Less than or equal to</td>
<td>a &lt;= b</td>
</tr>
<tr class="even">
<td>!&lt;</td>
<td>Not less than</td>
<td>a !&lt; b</td>
</tr>
<tr class="odd">
<td>!&gt;</td>
<td>Not greater than</td>
<td>a !&gt; b</td>
</tr>
</tbody>
</table>
<p>Here is an example query with a WHERE clause using the <code>&gt;</code> comparison operator:</p>
<pre class="shell"><code>SELECT name, breed, weight_lbs FROM puppies
  WHERE weight_lbs &gt; 50;</code></pre>
<p>Entering the above query into psql will yield one result:</p>
<pre class="shell"><code> name |      breed      | weight_lbs
------+-----------------+------------
 Max  | German Shepherd |         65</code></pre>
<h2 id="what-we-learned-1">What we learned:</h2>
<ul>
<li>How to use a WHERE clause in a SELECT query</li>
<li>How to construct WHERE clauses matching a single value, a list of values, and a range of values</li>
<li>What SQL operators are</li>
<li>How to use logical operators, arithmetic operators, and comparison operators</li>
</ul>
<hr />
<h1 id="inserting-data-into-a-table">Inserting Data Into A Table</h1>
<hr />
<p>If you have data, but it’s not in tables, does the data even exist? Not to an app! We often need to create relational databases on the back end of the Web apps we’re building so that we can ultimately display this data on the front end of our application. All relational database data is stored in tables, so it’s important to learn how to create tables and successfully query them.</p>
<p>Of the four data manipulation statements, <code>INSERT</code> is the easiest.</p>
<p>Create a new database named “folks”. Now, create a new table named “friends” with the following column specifications.</p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Data type</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>id</td>
<td><code>SERIAL</code></td>
<td><code>PRIMARY KEY</code></td>
</tr>
<tr class="even">
<td>first_name</td>
<td><code>VARCHAR(255)</code></td>
<td><code>NOT NULL</code></td>
</tr>
<tr class="odd">
<td>last_name</td>
<td><code>VARCHAR(255)</code></td>
<td><code>NOT NULL</code></td>
</tr>
</tbody>
</table>
<p>Now that we have a new table, we need to add table rows with some data. We can insert a new table row using the following syntax:</p>
<pre class="shell"><code>INSERT INTO table_name
VALUES
  (column1_value, colum2_value, column3_value);</code></pre>
<p>Let’s fill out our “friends” table with information about five friends. In psql, enter the following to add new table rows. <em>Note the use of single quotation marks for string values. Also note that, since we used the <a href="https://www.postgresql.org/docs/9.6/functions-matching.html"><code>SERIAL</code> pseudo-type</a> to auto-increment the ID values, we can simply write <code>DEFAULT</code> for the ID values when inserting new table rows.</em></p>
<pre class="shell"><code>INSERT INTO friends (id, first_name, last_name)
VALUES
  (DEFAULT, &#39;Amy&#39;, &#39;Pond&#39;);</code></pre>
<p>You can also completely omit the <code>DEFAULT</code> keyword if you specify the names of the columns that you want to insert into.</p>
<p>You can also use the “multiple values” insert. This prevents you from having to write <code>INSERT</code> with every statement. Even better, if one fails, they all fail. That can help protect your data integrity.</p>
<pre><code>INSERT INTO friends (first_name, last_name)
VALUES
(&#39;Rose&#39;, &#39;Tyler&#39;),
(&#39;Martha&#39;, &#39;Jones&#39;),
(&#39;Donna&#39;, &#39;Noble&#39;),
(&#39;River&#39;, &#39;Song&#39;);</code></pre>
<p>Use <code>SELECT * FROM friends;</code> to verify that there are rows in the “friends” table:</p>
<pre class="shell"><code>appacademy=# SELECT * FROM friends;
 id | first_name | last_name
----+------------+-----------
  1 | Amy        | Pond
  2 | Rose       | Tyler
  3 | Martha     | Jones
  4 | Donna      | Noble
  5 | River      | Song</code></pre>
<p>Now let’s try to insert a new row using the ID of 5:</p>
<pre class="shell"><code>INSERT INTO friends (id, first_name, last_name)
VALUES (5, &#39;Jenny&#39;, &#39;Who&#39;);</code></pre>
<p>Because ID is a primary key and that ID is already taken, we should get a message in psql that it already exists:</p>
<pre class="shell"><code>appacademy=# insert into friends values (5, &#39;Jenny&#39;, &#39;Who&#39;);
ERROR:  duplicate key value violates unique constraint &quot;friends_pkey&quot;
DETAIL:  Key (id)=(5) already exists.</code></pre>
<h2 id="what-we-learned-2">What we learned:</h2>
<ul>
<li>How to connect to an existing PostgreSQL database</li>
<li>How to create a new PostgreSQL database</li>
<li>How to create a new database table</li>
<li>Accepted PostgreSQL data types</li>
<li>How to add new rows to a database table</li>
<li>What a primary key is/does</li>
</ul>
<hr />
<h1 id="foreign-keys-and-the-join-operation">Foreign Keys And The JOIN Operation</h1>
<p>In relational databases, <em>relationships</em> are key. We can create relationships, or <em>associations</em>, among tables so that they can access and share data. In a SQL database, we create table associations through <em>foreign keys</em> and <em>primary keys</em>.</p>
<p>You’ve learned about primary and foreign keys. Now, it’s time to put them to use.</p>
<h2 id="setting-up-the-database">Setting up the database</h2>
<p>Create a new database called “learn_joins”. Connect to that database. Run the following SQL statements to create tables and the data in them.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">CREATE</span> <span class="kw">TABLE</span> breeds (</a>
<a class="sourceLine" id="cb32-2" title="2">  <span class="kw">id</span> SERIAL,</a>
<a class="sourceLine" id="cb32-3" title="3">  name <span class="dt">VARCHAR</span>(<span class="dv">50</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,</a>
<a class="sourceLine" id="cb32-4" title="4">  <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>)</a>
<a class="sourceLine" id="cb32-5" title="5">);</a></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">INSERT</span> <span class="kw">INTO</span> breeds (name)</a>
<a class="sourceLine" id="cb33-2" title="2"><span class="kw">VALUES</span></a>
<a class="sourceLine" id="cb33-3" title="3">(<span class="st">&#39;Australian Shepherd&#39;</span>),</a>
<a class="sourceLine" id="cb33-4" title="4">(<span class="st">&#39;Basset Hound&#39;</span>),</a>
<a class="sourceLine" id="cb33-5" title="5">(<span class="st">&#39;Beagle&#39;</span>),</a>
<a class="sourceLine" id="cb33-6" title="6">(<span class="st">&#39;Corgi&#39;</span>),</a>
<a class="sourceLine" id="cb33-7" title="7">(<span class="st">&#39;German Shepherd&#39;</span>),</a>
<a class="sourceLine" id="cb33-8" title="8">(<span class="st">&#39;Korean Jindo&#39;</span>),</a>
<a class="sourceLine" id="cb33-9" title="9">(<span class="st">&#39;Labradoodle&#39;</span>),</a>
<a class="sourceLine" id="cb33-10" title="10">(<span class="st">&#39;Miniature Schnauzer&#39;</span>),</a>
<a class="sourceLine" id="cb33-11" title="11">(<span class="st">&#39;Yorkshire Terrier&#39;</span>);</a></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">CREATE</span> <span class="kw">TABLE</span> puppies (</a>
<a class="sourceLine" id="cb34-2" title="2">  <span class="kw">id</span> SERIAL,</a>
<a class="sourceLine" id="cb34-3" title="3">  name <span class="dt">VARCHAR</span>(<span class="dv">50</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,</a>
<a class="sourceLine" id="cb34-4" title="4">  age_yrs <span class="dt">NUMERIC</span>(<span class="dv">3</span>,<span class="dv">1</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,</a>
<a class="sourceLine" id="cb34-5" title="5">  breed_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</a>
<a class="sourceLine" id="cb34-6" title="6">  weight_lbs <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</a>
<a class="sourceLine" id="cb34-7" title="7">  microchipped <span class="dt">BOOLEAN</span> <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">DEFAULT</span> <span class="kw">FALSE</span>,</a>
<a class="sourceLine" id="cb34-8" title="8">  <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(<span class="kw">id</span>),</a>
<a class="sourceLine" id="cb34-9" title="9">  <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (breed_id) <span class="kw">REFERENCES</span> breeds(<span class="kw">id</span>)</a>
<a class="sourceLine" id="cb34-10" title="10">);</a></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb35-1" title="1"><span class="kw">INSERT</span> <span class="kw">INTO</span> puppies (name, age_yrs, breed_id, weight_lbs, microchipped)</a>
<a class="sourceLine" id="cb35-2" title="2"><span class="kw">VALUES</span></a>
<a class="sourceLine" id="cb35-3" title="3">(<span class="st">&#39;Cooper&#39;</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">18</span>, <span class="kw">true</span>),</a>
<a class="sourceLine" id="cb35-4" title="4">(<span class="st">&#39;Indie&#39;</span>, <span class="fl">0.5</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="kw">true</span>),</a>
<a class="sourceLine" id="cb35-5" title="5">(<span class="st">&#39;Kota&#39;</span>, <span class="fl">0.7</span>, <span class="dv">1</span>, <span class="dv">26</span>, <span class="kw">false</span>),</a>
<a class="sourceLine" id="cb35-6" title="6">(<span class="st">&#39;Zoe&#39;</span>, <span class="fl">0.8</span>, <span class="dv">6</span>, <span class="dv">32</span>, <span class="kw">true</span>),</a>
<a class="sourceLine" id="cb35-7" title="7">(<span class="st">&#39;Charley&#39;</span>, <span class="fl">1.5</span>, <span class="dv">2</span>, <span class="dv">25</span>, <span class="kw">false</span>),</a>
<a class="sourceLine" id="cb35-8" title="8">(<span class="st">&#39;Ladybird&#39;</span>, <span class="fl">0.6</span>, <span class="dv">7</span>, <span class="dv">20</span>, <span class="kw">true</span>),</a>
<a class="sourceLine" id="cb35-9" title="9">(<span class="st">&#39;Callie&#39;</span>, <span class="fl">0.9</span>, <span class="dv">4</span>, <span class="dv">16</span>, <span class="kw">false</span>),</a>
<a class="sourceLine" id="cb35-10" title="10">(<span class="st">&#39;Jaxson&#39;</span>, <span class="fl">0.4</span>, <span class="dv">3</span>, <span class="dv">19</span>, <span class="kw">true</span>),</a>
<a class="sourceLine" id="cb35-11" title="11">(<span class="st">&#39;Leinni&#39;</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">25</span>, <span class="kw">true</span>),</a>
<a class="sourceLine" id="cb35-12" title="12">(<span class="st">&#39;Max&#39;</span>, <span class="fl">1.6</span>, <span class="dv">5</span>, <span class="dv">65</span>, <span class="kw">false</span>);</a></code></pre></div>
<h2 id="using-join-to-retrieve-rows-from-multiple-tables">Using JOIN to retrieve rows from multiple tables</h2>
<p>Now that we’ve set up an association between the “puppies” table and the “friends” table, we can access data from both tables. We can do so by using a <a href="https://www.essentialsql.com/include-single-quote-sql-query/">JOIN operation</a> in our SELECT query. Type the following into psql:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb36-1" title="1"><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb36-2" title="2"><span class="kw">INNER</span> <span class="kw">JOIN</span> breeds <span class="kw">ON</span> (puppies.breed_id <span class="op">=</span> breeds.<span class="kw">id</span>);</a></code></pre></div>
<p>The <code>JOIN</code> operation above is joining the “puppies” table with the “breeds” table together into a single table using the foreign key/primary key shared between the two tables: <code>breed_id</code>.</p>
<p>You should get all rows back containing all information for the puppies and breeds with matching <code>breed_id</code> values:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb37-1" title="1">postgres<span class="op">=</span># <span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb37-2" title="2">postgres<span class="op">-</span># <span class="kw">INNER</span> <span class="kw">JOIN</span> breeds <span class="kw">ON</span> (puppies.breed_id <span class="op">=</span> breeds.<span class="kw">id</span>);</a>
<a class="sourceLine" id="cb37-3" title="3"> <span class="kw">id</span> |   name   | age_yrs | breed_id | weight_lbs | microchipped | <span class="kw">id</span> |        name</a>
<a class="sourceLine" id="cb37-4" title="4"><span class="co">----+----------+---------+----------+------------+--------------+----+---------------------</span></a>
<a class="sourceLine" id="cb37-5" title="5">  <span class="dv">1</span> | Cooper   |     <span class="fl">1.0</span> |        <span class="dv">8</span> |         <span class="dv">18</span> | t            |  <span class="dv">8</span> | Miniature Schnauzer</a>
<a class="sourceLine" id="cb37-6" title="6">  <span class="dv">2</span> | Indie    |     <span class="fl">0.5</span> |        <span class="dv">9</span> |         <span class="dv">13</span> | t            |  <span class="dv">9</span> | Yorkshire Terrier</a>
<a class="sourceLine" id="cb37-7" title="7">  <span class="dv">3</span> | Kota     |     <span class="fl">0.7</span> |        <span class="dv">1</span> |         <span class="dv">26</span> | f            |  <span class="dv">1</span> | Australian Shepherd</a>
<a class="sourceLine" id="cb37-8" title="8">  <span class="dv">4</span> | Zoe      |     <span class="fl">0.8</span> |        <span class="dv">6</span> |         <span class="dv">32</span> | t            |  <span class="dv">6</span> | Korean Jindo</a>
<a class="sourceLine" id="cb37-9" title="9">  <span class="dv">5</span> | Charley  |     <span class="fl">1.5</span> |        <span class="dv">2</span> |         <span class="dv">25</span> | f            |  <span class="dv">2</span> | Basset Hound</a>
<a class="sourceLine" id="cb37-10" title="10">  <span class="dv">6</span> | Ladybird |     <span class="fl">0.6</span> |        <span class="dv">7</span> |         <span class="dv">20</span> | t            |  <span class="dv">7</span> | Labradoodle</a>
<a class="sourceLine" id="cb37-11" title="11">  <span class="dv">7</span> | Callie   |     <span class="fl">0.9</span> |        <span class="dv">4</span> |         <span class="dv">16</span> | f            |  <span class="dv">4</span> | Corgi</a>
<a class="sourceLine" id="cb37-12" title="12">  <span class="dv">8</span> | Jaxson   |     <span class="fl">0.4</span> |        <span class="dv">3</span> |         <span class="dv">19</span> | t            |  <span class="dv">3</span> | Beagle</a>
<a class="sourceLine" id="cb37-13" title="13">  <span class="dv">9</span> | Leinni   |     <span class="fl">1.0</span> |        <span class="dv">8</span> |         <span class="dv">25</span> | t            |  <span class="dv">8</span> | Miniature Schnauzer</a>
<a class="sourceLine" id="cb37-14" title="14"> <span class="dv">10</span> | <span class="fu">Max</span>      |     <span class="fl">1.6</span> |        <span class="dv">5</span> |         <span class="dv">65</span> | f            |  <span class="dv">5</span> | German Shepherd</a>
<a class="sourceLine" id="cb37-15" title="15">(<span class="dv">10</span> <span class="kw">rows</span>)</a></code></pre></div>
<p>We could make our query more specific by selecting specific columns, adding a <code>WHERE</code> clause, or doing any number of operations that we could do in a normal <code>SELECT</code> query. Aside from an <code>INNER JOIN</code>, we could also do different types of <code>JOIN</code> operations. (Refer to this overview on <a href="https://www.postgresql.org/docs/9.6/functions-formatting.html">PostgreSQL JOINS</a> for more information.)</p>
<h2 id="what-we-learned-3">What we learned:</h2>
<ul>
<li>What a foreign key is/does</li>
<li>How to create a foreign key</li>
<li>How to alter/update an existing table</li>
<li>How to use the JOIN operation to get rows from two tables</li>
</ul>
<h2 id="helpful-links">Helpful links:</h2>
<ul>
<li><a href="https://www.postgresql.org/docs/9.6/functions-matching.html">PostgreSQL Docs: Constraints</a></li>
<li><a href="https://www.postgresql.org/docs/9.6/functions-aggregate.html">PostgreSQL Docs: Data Types &gt; Numeric Types</a></li>
<li><a href="https://www.essentialsql.com/include-single-quote-sql-query/">PostgreSQL Docs: Joins Between Tables</a></li>
<li><a href="https://www.postgresql.org/docs/9.6/functions-formatting.html">PostgreSQL Tutorial: PostgreSQL Joins</a></li>
</ul>
<hr />
<h1 id="writing-and-running-a-seed-file-in-psql">Writing And Running A Seed File In PSQL</h1>
<p>After a database is created, we need to populate it, or <em>seed</em> it, with data. Until now, we’ve used the command-line psql interface to create tables and insert rows into those tables. While that’s fine for small datasets, it would be cumbersome to add a large dataset using the command line.</p>
<p>In this reading, we’ll learn how to create and run a seed file, which makes the process of populating a database with test data much easier.</p>
<h2 id="creating-a-seed-file">Creating a seed file</h2>
<p>You can create a seed file by opening up VSCode or any text editor and saving a file with the <code>.sql</code> extension.</p>
<p>Let’s create a seed file called <code>seed-data.sql</code> that’s going to create a new table called <code>pies</code> and insert 50 pie rows into the table. Use the code below to create the seed file, and make sure to save your seed file on your machine.</p>
<p><em><strong>seed-data.sql</strong></em></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb38-1" title="1"><span class="kw">CREATE</span> <span class="kw">TABLE</span> pies (</a>
<a class="sourceLine" id="cb38-2" title="2">  flavor <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</a>
<a class="sourceLine" id="cb38-3" title="3">  price <span class="dt">FLOAT</span></a>
<a class="sourceLine" id="cb38-4" title="4">);</a>
<a class="sourceLine" id="cb38-5" title="5"></a>
<a class="sourceLine" id="cb38-6" title="6"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Apple&#39;</span>, <span class="fl">19.95</span>);</a>
<a class="sourceLine" id="cb38-7" title="7"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Caramel Apple Crumble&#39;</span>, <span class="fl">20.53</span>);</a>
<a class="sourceLine" id="cb38-8" title="8"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Blueberry&#39;</span>, <span class="fl">19.31</span>);</a>
<a class="sourceLine" id="cb38-9" title="9"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Blackberry&#39;</span>, <span class="fl">22.86</span>);</a>
<a class="sourceLine" id="cb38-10" title="10"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Cherry&#39;</span>, <span class="fl">22.32</span>);</a>
<a class="sourceLine" id="cb38-11" title="11"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Peach&#39;</span>, <span class="fl">20.45</span>);</a>
<a class="sourceLine" id="cb38-12" title="12"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Raspberry&#39;</span>, <span class="fl">20.99</span>);</a>
<a class="sourceLine" id="cb38-13" title="13"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Mixed Berry&#39;</span>, <span class="fl">21.45</span>);</a>
<a class="sourceLine" id="cb38-14" title="14"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Strawberry Rhubarb&#39;</span>, <span class="fl">24.81</span>);</a>
<a class="sourceLine" id="cb38-15" title="15"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Banana Cream&#39;</span>, <span class="fl">18.66</span>);</a>
<a class="sourceLine" id="cb38-16" title="16"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Boston Toffee&#39;</span>, <span class="fl">25.00</span>);</a>
<a class="sourceLine" id="cb38-17" title="17"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Banana Nutella&#39;</span>, <span class="fl">22.12</span>);</a>
<a class="sourceLine" id="cb38-18" title="18"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Bananas Foster&#39;</span>, <span class="fl">24.99</span>);</a>
<a class="sourceLine" id="cb38-19" title="19"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Boston Cream&#39;</span>, <span class="fl">23.75</span>);</a>
<a class="sourceLine" id="cb38-20" title="20"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Cookies and Cream&#39;</span>, <span class="fl">18.27</span>);</a>
<a class="sourceLine" id="cb38-21" title="21"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Coconut Cream&#39;</span>, <span class="fl">22.89</span>);</a>
<a class="sourceLine" id="cb38-22" title="22"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Chess&#39;</span>, <span class="fl">25.00</span>);</a>
<a class="sourceLine" id="cb38-23" title="23"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Lemon Chess&#39;</span>, <span class="fl">25.00</span>);</a>
<a class="sourceLine" id="cb38-24" title="24"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Key Lime&#39;</span>, <span class="fl">19.34</span>);</a>
<a class="sourceLine" id="cb38-25" title="25"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Lemon Meringue&#39;</span>, <span class="fl">19.58</span>);</a>
<a class="sourceLine" id="cb38-26" title="26"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Guava&#39;</span>, <span class="fl">18.92</span>);</a>
<a class="sourceLine" id="cb38-27" title="27"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Mango&#39;</span>, <span class="fl">19.55</span>);</a>
<a class="sourceLine" id="cb38-28" title="28"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Plum&#39;</span>, <span class="fl">20.21</span>);</a>
<a class="sourceLine" id="cb38-29" title="29"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Apricot&#39;</span>, <span class="fl">20.55</span>);</a>
<a class="sourceLine" id="cb38-30" title="30"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Gooseberry&#39;</span>, <span class="fl">23.54</span>);</a>
<a class="sourceLine" id="cb38-31" title="31"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Lingonberry&#39;</span>, <span class="fl">24.35</span>);</a>
<a class="sourceLine" id="cb38-32" title="32"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Pear Vanilla Butterscotch&#39;</span>, <span class="fl">25.13</span>);</a>
<a class="sourceLine" id="cb38-33" title="33"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Baked Alaska&#39;</span>, <span class="fl">25.71</span>);</a>
<a class="sourceLine" id="cb38-34" title="34"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Chocolate&#39;</span>, <span class="fl">19.00</span>);</a>
<a class="sourceLine" id="cb38-35" title="35"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Chocolate Mousse&#39;</span>, <span class="fl">21.46</span>);</a>
<a class="sourceLine" id="cb38-36" title="36"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Mexican Chocolate&#39;</span>, <span class="fl">28.33</span>);</a>
<a class="sourceLine" id="cb38-37" title="37"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Chocolate Caramel&#39;</span>, <span class="fl">26.67</span>);</a>
<a class="sourceLine" id="cb38-38" title="38"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Chocolate Chip Cookie Dough&#39;</span>, <span class="fl">18.65</span>);</a>
<a class="sourceLine" id="cb38-39" title="39"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Pecan&#39;</span>, <span class="fl">26.33</span>);</a>
<a class="sourceLine" id="cb38-40" title="40"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Bourbon Caramel Pecan&#39;</span>, <span class="fl">27.88</span>);</a>
<a class="sourceLine" id="cb38-41" title="41"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Chocolate Pecan&#39;</span>, <span class="fl">27.63</span>);</a>
<a class="sourceLine" id="cb38-42" title="42"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Pumpkin&#39;</span>, <span class="fl">20.91</span>);</a>
<a class="sourceLine" id="cb38-43" title="43"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Sweet Potato&#39;</span>, <span class="fl">20.75</span>);</a>
<a class="sourceLine" id="cb38-44" title="44"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Purple Sweet Potato&#39;</span>, <span class="fl">26.34</span>);</a>
<a class="sourceLine" id="cb38-45" title="45"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Cheesecake&#39;</span>, <span class="fl">28.99</span>);</a>
<a class="sourceLine" id="cb38-46" title="46"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Butterscotch Praline&#39;</span>, <span class="fl">29.78</span>);</a>
<a class="sourceLine" id="cb38-47" title="47"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Salted Caramel&#39;</span>, <span class="fl">30.32</span>);</a>
<a class="sourceLine" id="cb38-48" title="48"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Salted Honey&#39;</span>, <span class="fl">59.00</span>);</a>
<a class="sourceLine" id="cb38-49" title="49"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Sugar Cream&#39;</span>, <span class="fl">33.89</span>);</a>
<a class="sourceLine" id="cb38-50" title="50"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Mississippi Mud&#39;</span>, <span class="fl">28.67</span>);</a>
<a class="sourceLine" id="cb38-51" title="51"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Turtle Fudge&#39;</span>, <span class="fl">30.58</span>);</a>
<a class="sourceLine" id="cb38-52" title="52"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Fruit Loops&#39;</span>, <span class="fl">20.45</span>);</a>
<a class="sourceLine" id="cb38-53" title="53"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Black Forest&#39;</span>, <span class="fl">34.99</span>);</a>
<a class="sourceLine" id="cb38-54" title="54"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Maple Cream&#39;</span>, <span class="fl">35.88</span>);</a>
<a class="sourceLine" id="cb38-55" title="55"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Smores&#39;</span>, <span class="fl">26.43</span>);</a>
<a class="sourceLine" id="cb38-56" title="56"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Milk Bar&#39;</span>, <span class="fl">46.00</span>);</a>
<a class="sourceLine" id="cb38-57" title="57"></a>
<a class="sourceLine" id="cb38-58" title="58"><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> pies;</a></code></pre></div>
<h2 id="populating-a-database-via-left-caret">Populating a database via &lt; (“left caret”)</h2>
<p>Now that you have a seed file, you can insert it into a database with a simple command.</p>
<p>Create a database named “bakery”.</p>
<p>The syntax is <code>psql -d [database] &lt; [path_to_file/file.sql]</code>. The left caret (<code>&lt;</code>) takes the standard input from the file on the right (your seed file) and inputs it into the program on the left (<code>psql</code>).</p>
<p>Open up your terminal, and enter the following command. Make sure to replace <code>path_to_my_file</code> with the actual file path.</p>
<pre class="shell"><code>psql -d bakery &lt; path_to_my_file/seed-data.sql</code></pre>
<p>In the terminal, you should see a bunch of <code>INSERT</code> statements and the entire “pies” table printed out (from the <code>SELECT *</code> query in the seed file).</p>
<p>You can log into psql and use <code>\dt</code> to verify that your new table has been added to the database:</p>
<pre class="shell"><code>postgres=# \dt
List of relations
 Schema |     Name     | Type  |  Owner
 public | breeds       | table | appacademy
 public | pies         | table | appacademy
 public | puppies      | table | appacademy</code></pre>
<h2 id="populating-the-database-via-pipe">Populating the database via | (“pipe”)</h2>
<p>You could also use the “pipe” (<code>|</code>) to populate the database with your seed file.</p>
<p>The syntax is <code>cat [path_to_file/file.sql] | psql -d [database]</code>. ‘cat’ is a standard Unix utility that reads files sequentially, writing them to standard output. The “pipe” (<code>|</code>) takes the standard output of the command on the left and pipes it as standard input to the command on the right.</p>
<p>Try out this method in your terminal. If you have an existing “pies” table, you’ll need to drop this table before you can add it again:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">DROP</span> <span class="kw">TABLE</span> pies;</a></code></pre></div>
<p>Then, enter the following. Make sure to replace <code>path_to_my_file</code> with the actual file path.</p>
<pre class="shell"><code>cat path_to_my_file/seed-data.sql | psql -d postgres</code></pre>
<p>Again, you should see a bunch of <code>INSERT</code> statements and the entire “pies” table printed out (from the <code>SELECT *</code> query in the seed file).</p>
<p>You can log into psql and use <code>\dt</code> to verify that your new table has been added to the database:</p>
<pre class="shell"><code>postgres=# \dt
List of relations
 Schema |     Name     | Type  |  Owner
 public | friends      | table | postgres
 public | pies         | table | postgres
 public | puppies      | table | postgres</code></pre>
<h2 id="what-we-learned-4">What we learned:</h2>
<ul>
<li>What a seed file is</li>
<li>How to create a seed file</li>
<li>How to populate a database with a seed file using &lt;</li>
<li>How to populate a database with a seed file using |</li>
</ul>
<hr />
<h1 id="create-and-seed-a-database-project">Create And Seed A Database Project</h1>
<p>In our SQL readings, we installed PostgreSQL, and we learned how to create a new PostgreSQL database and how to create and run a seed file in our database.</p>
<p>In this project, you’ll practice seeding your database with a seed file that’s full of, well, <em>seeds</em>! Hopefully when you’re done, you’ll have <em>grown</em> your SQL knowledge.</p>
<h2 id="project-overview">Project overview</h2>
<p>Practice creating a new database and piping a seed file into your database.</p>
<ul>
<li>In Phase 1, you’ll create a new database.</li>
<li>In Phase 2, you’ll create a new seed data file.</li>
<li>In Phase 3, you’ll pipe your seed data in your database via <code>psql</code> on the command line.</li>
</ul>
<h2 id="phase-1-create-a-new-database">Phase 1: Create a new database</h2>
<p>First, log into <code>psql</code> on the command line as your user.</p>
<p>Second, create a new database in PostgreSQL called <code>farm</code> by using the following syntax:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb44-1" title="1"><span class="kw">CREATE</span> <span class="kw">DATABASE</span> [databasename];</a></code></pre></div>
<p><em>Note:</em> You can check to make sure you’ve created a new database by viewing the list of databases with <code>\l</code>.</p>
<h2 id="phase-2-create-a-seeds-seed-file">Phase 2: Create a seeds seed file</h2>
<p>Create a seed file full of seeds! Set up a SQL file with seed data that will produce two tables: an “edible_seeds” with 40 rows and a “flower_seeds” table with 20 rows.</p>
<p><strong>Edible Seeds</strong></p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>name</th>
<th>type</th>
<th>price_per_pound</th>
<th>in_stock</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Chia</td>
<td>Pseudocereal</td>
<td>6.95</td>
<td>yes</td>
</tr>
<tr class="even">
<td>2</td>
<td>Flax</td>
<td>Pseudocereal</td>
<td>6.90</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Amaranth</td>
<td>Pseudocereal</td>
<td>14.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>4</td>
<td>Quinoa</td>
<td>Pseudocereal</td>
<td>12.49</td>
<td>no</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Sesame</td>
<td>Pseudocereal</td>
<td>13.49</td>
<td>yes</td>
</tr>
<tr class="even">
<td>6</td>
<td>Hemp</td>
<td>Other</td>
<td>10.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Chickpea</td>
<td>Legume</td>
<td>7.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>8</td>
<td>Pea</td>
<td>Legume</td>
<td>7.50</td>
<td>no</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Soybean</td>
<td>Legume</td>
<td>12.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>10</td>
<td>Acorn</td>
<td>Nut</td>
<td>11.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Almond</td>
<td>Nut</td>
<td>13.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>12</td>
<td>Beech</td>
<td>Nut</td>
<td>10.94</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Chestnut</td>
<td>Nut</td>
<td>13.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>14</td>
<td>Water Chestnut</td>
<td>Nut</td>
<td>9.99</td>
<td>no</td>
</tr>
<tr class="odd">
<td>15</td>
<td>Macadamia</td>
<td>Nut</td>
<td>25.00</td>
<td>yes</td>
</tr>
<tr class="even">
<td>16</td>
<td>Pistachio</td>
<td>Nut</td>
<td>20.00</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>17</td>
<td>Pine nuts</td>
<td>Nut-like gymnosperm</td>
<td>23.00</td>
<td>yes</td>
</tr>
<tr class="even">
<td>18</td>
<td>Pecan</td>
<td>Nut</td>
<td>6.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>19</td>
<td>Juniper berries</td>
<td>Nut-like gymnosperm</td>
<td>11.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>20</td>
<td>Cashew</td>
<td>Nut</td>
<td>23.61</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>21</td>
<td>Hazelnut</td>
<td>Nut</td>
<td>25.49</td>
<td>yes</td>
</tr>
<tr class="even">
<td>22</td>
<td>Sunflower seed</td>
<td>Other</td>
<td>9.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>23</td>
<td>Poppy seed</td>
<td>Other</td>
<td>12.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>24</td>
<td>Barley</td>
<td>Cereal</td>
<td>9.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>25</td>
<td>Maize</td>
<td>Cereal</td>
<td>6.98</td>
<td>yes</td>
</tr>
<tr class="even">
<td>26</td>
<td>Oats</td>
<td>Cereal</td>
<td>9.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>27</td>
<td>Rice</td>
<td>Cereal</td>
<td>7.90</td>
<td>yes</td>
</tr>
<tr class="even">
<td>28</td>
<td>Rye</td>
<td>Cereal</td>
<td>9.87</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>29</td>
<td>Spelt</td>
<td>Cereal</td>
<td>7.50</td>
<td>yes</td>
</tr>
<tr class="even">
<td>30</td>
<td>Wheat berries</td>
<td>Cereal</td>
<td>2.50</td>
<td>no</td>
</tr>
<tr class="odd">
<td>31</td>
<td>Buckwheat</td>
<td>Pseudocereal</td>
<td>5.60</td>
<td>yes</td>
</tr>
<tr class="even">
<td>32</td>
<td>Jackfruit</td>
<td>Other</td>
<td>15.00</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>33</td>
<td>Durian</td>
<td>Other</td>
<td>8.26</td>
<td>no</td>
</tr>
<tr class="even">
<td>34</td>
<td>Lotus seed</td>
<td>Other</td>
<td>12.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>35</td>
<td>Ginko</td>
<td>Nut-like gymnosperm</td>
<td>12.80</td>
<td>yes</td>
</tr>
<tr class="even">
<td>36</td>
<td>Peanut</td>
<td>Legume</td>
<td>5.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>37</td>
<td>Pumpkin seed</td>
<td>Other</td>
<td>5.99</td>
<td>yes</td>
</tr>
<tr class="even">
<td>38</td>
<td>Watermelon seed</td>
<td>Other</td>
<td>6.99</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>39</td>
<td>Pomegranate seed</td>
<td>Other</td>
<td>27.63</td>
<td>yes</td>
</tr>
<tr class="even">
<td>40</td>
<td>Cacao bean</td>
<td>Other</td>
<td>12.99</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p>Use the following data types for your “edible_seeds” columns:</p>
<ul>
<li>id - SERIAL</li>
<li>name - VARCHAR that accepts 255 characters</li>
<li>type - VARCHAR that accepts 255 characters</li>
<li>price_per_pound - FLOAT or REAL</li>
<li>in_stock - BOOLEAN</li>
</ul>
<p><strong>Flower Seeds</strong></p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>name</th>
<th>main_color</th>
<th>seeds_per_packet</th>
<th>price_per_packet</th>
<th>in_stock</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Begonia Fiona Red</td>
<td>Red</td>
<td>25</td>
<td>4.95</td>
<td>yes</td>
</tr>
<tr class="even">
<td>2</td>
<td>Moonflower Seeds</td>
<td>White</td>
<td>25</td>
<td>2.95</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Easy Wave F1 Lavender Sky Blue Petunia Seeds</td>
<td>Lavender</td>
<td>10</td>
<td>4.25</td>
<td>yes</td>
</tr>
<tr class="even">
<td>4</td>
<td>Super Hero Spry Marigold Seeds</td>
<td>Marigold</td>
<td>50</td>
<td>2.95</td>
<td>no</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Zinnia Zinderella Lilac</td>
<td>Pink</td>
<td>25</td>
<td>3.95</td>
<td>yes</td>
</tr>
<tr class="even">
<td>6</td>
<td>Mini Ornamental Mint Seeds</td>
<td>Green</td>
<td>10</td>
<td>3.95</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Kabloom Light Pink Blast Calibrachoa</td>
<td>Green</td>
<td>10</td>
<td>4.95</td>
<td>yes</td>
</tr>
<tr class="even">
<td>8</td>
<td>Calibrachoa Kabloom Coral</td>
<td>Coral</td>
<td>10</td>
<td>4.95</td>
<td>no</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Fiesta del Sol Mexican Sunflower Seeds</td>
<td>Red</td>
<td>30</td>
<td>3.95</td>
<td>no</td>
</tr>
<tr class="even">
<td>10</td>
<td>Cosmos Apricot Lemonade</td>
<td>Yellow</td>
<td>25</td>
<td>3.95</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Zinderella Purple Zinnia Seeds</td>
<td>Purple</td>
<td>25</td>
<td>3.95</td>
<td>yes</td>
</tr>
<tr class="even">
<td>12</td>
<td>Fireball Marigold Seeds</td>
<td>Varies</td>
<td>25</td>
<td>3.95</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Gerbera Revolution Bicolor Red Lemon</td>
<td>Red</td>
<td>10</td>
<td>8.95</td>
<td>no</td>
</tr>
<tr class="even">
<td>14</td>
<td>Paradise Island Calibrachoa Fuseables Seeds</td>
<td>Varies</td>
<td>5</td>
<td>6.95</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>15</td>
<td>Cheyenne Spirit Coneflower Seeds</td>
<td>Varies</td>
<td>15</td>
<td>7.95</td>
<td>no</td>
</tr>
<tr class="even">
<td>16</td>
<td>Leucanthemum Madonna</td>
<td>White</td>
<td>25</td>
<td>4.95</td>
<td>no</td>
</tr>
<tr class="odd">
<td>17</td>
<td>Zinnia Zinderella Peach</td>
<td>Peach</td>
<td>25</td>
<td>3.95</td>
<td>yes</td>
</tr>
<tr class="even">
<td>18</td>
<td>Kabloom Orange Calibrachoa</td>
<td>Orange</td>
<td>10</td>
<td>4.95</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>19</td>
<td>Fountain Blue Lobelia Seeds</td>
<td>Blue</td>
<td>100</td>
<td>2.50</td>
<td>yes</td>
</tr>
<tr class="even">
<td>20</td>
<td>Envy Zinnia Seeds</td>
<td>Green</td>
<td>50</td>
<td>2.95</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p>Use the following data types for your “flower_seeds” columns:</p>
<ul>
<li>id - SERIAL</li>
<li>name - VARCHAR that accepts 300 characters</li>
<li>main_color - VARCHAR that accepts 100 characters</li>
<li>seeds_per_packet - INT</li>
<li>price_per_packet - FLOAT</li>
<li>in_stock - BOOLEAN</li>
</ul>
<p><em>Note:</em> Make sure to save your seed file on your machine so that you can pipe it into your database in the next phase!</p>
<h2 id="phase-3-pipe-your-seed-file-into-your-new-database">Phase 3: Pipe your seed file into your new database</h2>
<p>After you’ve saved your seed file, use the caret and pipe methods to seed your <code>farm</code> database with the data from the “edible_seeds” table. (<em>Note: Make sure you’ve quit <code>psql</code> first with <code>\q</code>.</em>)</p>
<p>There are two ways to seed your database:</p>
<h3 id="method-1.-seed-your-database-via-caret-method">Method 1. Seed your database via caret method</h3>
<div class="sourceCode" id="cb45"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb45-1" title="1">psql <span class="op">-</span>d [<span class="kw">database</span>] <span class="op">-</span>U [username] <span class="op">&lt;</span> [path_to_file<span class="op">/</span><span class="kw">file</span>.sql]</a></code></pre></div>
<h3 id="method-2.-seed-your-database-via-pipe-method">Method 2. Seed your database via pipe method</h3>
<div class="sourceCode" id="cb46"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb46-1" title="1">cat [path_to_file<span class="op">/</span><span class="kw">file</span>.sql] | psql <span class="op">-</span>d [<span class="kw">database</span>] <span class="op">-</span>U [username]</a></code></pre></div>
<p>Try both of these methods.</p>
<h3 id="if-you-want-to-seed-using-the-file-again-you-need-to-first-drop-the-tables.">If you want to seed using the file again, you need to first drop the tables.</h3>
<p>Access the database by:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb47-1" title="1">psql <span class="op">-</span>d [<span class="kw">database</span>] <span class="op">-</span>U [username]</a></code></pre></div>
<p>Then drop the tables:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb48-1" title="1"><span class="kw">DROP</span> <span class="kw">TABLE</span> [<span class="kw">table</span>];</a></code></pre></div>
<p>Then you can run the seed file again using any of the two above methods.</p>
<h3 id="check-to-make-sure-your-seed-file-has-actually-updated-the-farm-database">Check to make sure your seed file has actually updated the <code>farm</code> database</h3>
<ul>
<li>Log into <code>psql</code> again.</li>
<li>Connect to the <code>farm</code> database (syntax: <code>\c [database]</code>).</li>
<li>Make sure your “edible_seeds” table is filled with seeds: <code>SELECT * FROM «table name»;</code></li>
<li>Make sure your “flower_seeds” table is filled with seeds: <code>SELECT * FROM «table name»;</code></li>
</ul>
<hr />
<h1 id="solving-the-sql-menagerie">Solving The SQL Menagerie</h1>
<p>In our SQL readings, we learned how to write basic SQL queries and incorporate <code>WHERE</code> clauses to filter for more specific results. We also learned how to use a <code>JOIN</code> operation to get information from multiple tables.</p>
<p>In this project, put your SQL knowledge to the test and show off your querying skills.</p>
<p>We’ve put together a collection (let’s call it a <em>menagerie</em>) of SQL problems for you to solve below. Solve them all, and you’ll be the master of the menagerie!</p>
<h2 id="getting-started">Getting started</h2>
<p>Clone the starter repository from https://github.com/appacademy-starters/sql-select-exercises-starter.</p>
<h2 id="project-overview-1">Project overview</h2>
<ol type="1">
<li>In Phase 1, pipe the seed file into a new database.</li>
<li>In Phase 2, query the seed tables with basic <code>SELECT</code> statements.</li>
<li>In Phase 3, query the seed tables using <code>WHERE</code> clauses to get more specific rows back.</li>
<li>In Phase 4, use a <code>JOIN</code> operation to get data from both seed tables.</li>
<li>Bonuses! Go beyond what we learned in the readings to deepen your SQL query knowledge.</li>
</ol>
<h2 id="phase-1-pipe-in-a-seed-file-to-create-new-database-tables">Phase 1: Pipe in a seed file to create new database tables</h2>
<p>We’ve set up a seed file for you to use in this project called _<strong>cities_and_airports.sql_</strong> that will create two tables: a “cities” table and an “airports” table. These tables show the top 25 most populous U.S. cities and their airports, respectively. Pipe this file into your database, and use these tables for the rest of the project phases.</p>
<p>Go through the following steps:</p>
<ol type="1">
<li>Log into <code>psql</code>.</li>
<li>Create a new database called “travel”.</li>
<li>Pipe the <em>cities_and_airports.sql</em> seed file into the “travel” database.</li>
<li>Check that there’s data in both the “cities” and “airports” tables.</li>
</ol>
<h2 id="phase-2-write-basic-select-statements">Phase 2: Write basic SELECT statements</h2>
<p>Retrieve rows from a table using <code>SELECT</code> FROM SQL statements.</p>
<ol type="1">
<li><p>Write a SQL query that returns the city, state, and estimated population in 2018 from the “cities” table.</p></li>
<li><p>Write a SQL query that returns all of the airport names contained in the “airports” table.</p></li>
</ol>
<h2 id="phase-3-add-where-clauses">Phase 3: Add WHERE clauses</h2>
<p>Select specific rows from a table using WHERE and common operators.</p>
<ol type="1">
<li>Write a SQL query that uses a <code>WHERE</code> clause to get the estimated population in 2018 of the city of San Diego.</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause to get the city, state, and estimated population in 2018 of cities in this list: Phoenix, Jacksonville, Charlotte, Nashville.</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause to get the cities with an estimated 2018 population between 800,000 and 900,000 people. Show the city, state, and estimated population in 2018 columns.</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause to get the names of the cities that had an estimated population in 2018 of at least 1 million people (or 1,000,000 people).</li>
<li>Write a SQL query to get the city and estimated population in 2018 in number of millions (<em>i.e. without zeroes at the end: 1 million</em>), and that uses a <code>WHERE</code> clause to return only the cities in Texas.</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause to get the city, state, and estimated population in 2018 of cities that are NOT in the following states: New York, California, Texas.</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause with the <code>LIKE</code> operator to get the city, state, and estimated population in 2018 of cities that start with the letter “S”. (<em>Note: See the PostgreSQL doc on <a href="https://www.postgresql.org/docs/9.6/functions-matching.html">Pattern Matching</a> for more information.</em>)</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause to find the cities with either a land area of over 400 square miles OR a population over 2 million people (or 2,000,000 people). Show the city name, the land area, and the estimated population in 2018.</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause to find the cities with either a land area of over 400 square miles OR a population over 2 million people (or 2,000,000 people) – but not the cities that have both. Show the city name, the land area, and the estimated population in 2018.</li>
<li>Write a SQL query that uses a <code>WHERE</code> clause to find the cities where the population has increased by over 200,000 people from 2010 to 2018. Show the city name, the estimated population in 2018, and the census population in 2010.</li>
</ol>
<h2 id="phase-4-use-a-join-operation">Phase 4: Use a JOIN operation</h2>
<p>Retrieve rows from multiple tables joining on a foreign key.</p>
<p>The “airports” table has a foreign key called <code>city_id</code> that references the <code>id</code> column in the “cities” table.</p>
<ol type="1">
<li>Write a SQL query using an INNER JOIN to join data from the “cities” table with data from the “airports” table using the <code>city_id</code> foreign key. Show the airport names and city names only.</li>
<li>Write a SQL query using an INNER JOIN to join data from the “cities” table with data from the “airports” table to find out how many airports are in New York City using the city name. (<em>Note: Use the <a href="https://www.postgresql.org/docs/9.6/functions-aggregate.html">aggregate function</a> COUNT() to count the number of matching rows.</em>)</li>
</ol>
<h2 id="bonuses">Bonuses</h2>
<ol type="1">
<li><strong>Apostrophe:</strong> Write a SQL query to get all three ID codes (<em>the Federal Aviation Administration (FAA) ID, the International Air Transport Association (IATA) ID, and the International Civil Aviation Organization (ICAO) ID</em>) from the “airports” table for Chicago O’Hare International Airport. (<em>Note: You’ll need to escape the quotation mark in O’Hare. See <a href="https://www.essentialsql.com/include-single-quote-sql-query/">How to include a single quote in a SQL query</a>.</em>)</li>
<li><p><strong>Formatting Commas:</strong> Refactor Phase 2, Query #1 to turn the INT for estimated population in 2018 into a character string with commas. (<em>Note: See <a href="https://www.postgresql.org/docs/9.6/functions-formatting.html">Data Type Formatting Functions</a></em>)</p>
<ul>
<li>Phase 2, Query #1: Write a SQL query that returns the city, state, and estimated population in 2018 from the “cities” table.</li>
</ul></li>
<li><p><strong>Decimals and Rounding:</strong> Refactor Phase 3, Query #5 to turn number of millions from an integer into a decimal rounded to a precision of two decimal places. (<em>Note: See <a href="https://www.postgresql.org/docs/9.6/datatype-numeric.html">Numeric Types</a> and the <a href="https://www.postgresqltutorial.com/postgresql-round/">ROUND function</a>.</em>)</p>
<ul>
<li>Phase 3, Query #5: Write a SQL query to get the city and estimated population in 2018 in number of millions (<em>i.e. without zeroes at the end: 1 million</em>), and that uses a <code>WHERE</code> clause to return only the cities in Texas.</li>
</ul></li>
<li><strong>ORDER BY and LIMIT Clauses:</strong> Refactor Phase 3, Query #10 to return only one city with the biggest population increase from 2010 to 2018. Show the city name, the estimated population in 2018, and the census population in 2010 for that city. (_Note: You’ll do the same calculation as before, but instead of comparing it to 200,000, use the <a href="https://www.postgresql.org/docs/9.6/sql-select.html#SQL-ORDERBY">ORDER BY Clause</a> with the <a href="https://www.postgresql.org/docs/9.6/sql-select.html#SQL-LIMIT">LIMIT</a> Clause to sort the results and grab only the top result.)
<ul>
<li>Phase 3, Query #10: Write a SQL query that uses a <code>WHERE</code> clause to find the cities where the population has increased by over 200,000 people from 2010 to 2018. Show the city name, the estimated population in 2018, and the census population in 2010.</li>
</ul></li>
</ol>
