(window.webpackJsonp=window.webpackJsonp||[]).push([["deep-link-handler~8b1a6a8a"],{o0lc:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ERkP"),o=n.n(r),c=n("lZoD"),l=n("WWAs"),a=n("03Pf");const u=({children:e})=>{const t=Object(r.useRef)(0),n=Object(r.useCallback)(e=>{Object(a.b)(e,-t.current)},[t]);return o.a.createElement(c.c,{to:[l.a]},r=>(t.current=r.getTotalHeight(),e({scrollToElement:n})))};u.displayName="DocumentScroller"},p4JA:function(e,t,n){"use strict";n.r(t),n.d(t,"DeepLinkHandler",(function(){return d}));var r=n("ERkP"),o=n.n(r),c=n("daKX"),l=n("hpu0"),a=n("3VMZ"),u=n("o0lc");const i=["mousedown","keydown","wheel","touchstart"],d=e=>{const{scrollTargetId:t,refOfNodeToWatchForChange:n}=e;let d=null,w=null,b=0,E=!1,h=0;const f=Object(r.useRef)(()=>{});Object(r.useEffect)(()=>{if(!t||t.length<1||!n)return;Object(l.b)().start({name:a.a.FOLLOW_DEEP_LINK,id:t});const e=n.current;return null!=e&&(O(),L(e)),()=>{T("Canceled by unmount")}},[n.current]);const O=()=>{if(null===t)return;let e="";try{e=decodeURIComponent(t)}catch(n){Object(c.a)("hashfragment").error`Error: Badly formed deep link ${t}`}if(!d&&e&&(d=document.getElementById(e)||document.querySelector(`[name="${CSS.escape(e)}"]`),!d)){let t,n=Number.MAX_VALUE;document.querySelectorAll("H1, H2, H3, H4, H5, H6").forEach(r=>{if(r.textContent){const o=r.textContent.replace(/\s/g,""),c=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$"),l=e.match(c);l&&l.index&&l.index<n&&(t=r,n=l.index)}}),t&&(d=t)}d&&!s(d)&&(e=>{0!==b&&window.clearTimeout(b),b=window.setTimeout(m,2e3,f.current,()=>{b=0},e)})(d)},p=()=>{window.clearTimeout(h),h=window.setTimeout(()=>{w&&(w.disconnect(),Object(l.b)().fail({name:a.a.FOLLOW_DEEP_LINK,error:new Error("Deep link target never found")}))},2e4),O()},L=e=>{null===w&&(w=new MutationObserver(p),w.observe(e,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),E||(i.forEach(e=>{window.addEventListener(e,g,!0)}),E=!0))},g=()=>{T("Canceled by user")},T=e=>{Object(l.b)().abort({name:a.a.FOLLOW_DEEP_LINK,reason:e}),w&&(w.disconnect(),w=null),E&&(i.forEach(e=>{window.removeEventListener(e,g,!0)}),E=!1),0!==h&&(window.clearTimeout(h),h=0),0!==b&&(window.clearTimeout(b),b=0)};return o.a.createElement(u.a,null,({scrollToElement:e})=>(f.current=e,null))},s=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},m=(e,t,n)=>{n&&(e(n),Object(l.b)().succeed({name:a.a.FOLLOW_DEEP_LINK})),t()}}}]);
//# sourceMappingURL=deep-link-handler~8b1a6a8a.BPnzFGE5vE.js.map