(window.webpackJsonp=window.webpackJsonp||[]).push([["navigation-search-dialog~b59ad437"],{"06eB":function(e,t,r){var n=r("ey2t"),o=r("qnX1"),a=r("eYkv"),i=r("UV1p"),c=r("R6B+"),u=r("hoKw"),s=Date.prototype.getTime;function l(e,t,r){var y=r||{};return!!(y.strict?a(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?y.strict?a(e,t):e==t:function(e,t,r){var a,y;if(typeof e!=typeof t)return!1;if(p(e)||p(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var h=i(e),d=i(t);if(h!==d)return!1;if(h||d)return e.source===t.source&&c(e)===c(t);if(u(e)&&u(t))return s.call(e)===s.call(t);var b=f(e),m=f(t);if(b!==m)return!1;if(b||m){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(typeof e!=typeof t)return!1;try{var v=n(e),g=n(t)}catch(P){return!1}if(v.length!==g.length)return!1;for(v.sort(),g.sort(),a=v.length-1;a>=0;a--)if(v[a]!=g[a])return!1;for(a=v.length-1;a>=0;a--)if(y=v[a],!l(e[y],t[y],r))return!1;return!0}(e,t,y))}function p(e){return null==e}function f(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=l},"0n68":function(e,t,r){"use strict";var n=r("5L5q"),o=r("OsbC"),a=o("%Function.prototype.apply%"),i=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(i,a);e.exports=function(){return c(n,i,arguments)},e.exports.apply=function(){return c(n,a,arguments)}},"0yzI":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("HxRv"),o=r("578M"),a=r("TdBM"),i=r("GK6R"),c=r("DFXi"),u=r("duz6");function s(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"abTestDataCache",null),h(this,"permissionsDataCache",null),h(this,"aggregatorClient",void 0),h(this,"recentIssuesCache",void 0),h(this,"recentPeopleCache",void 0),h(this,"recentBoardsProjectsFiltersCache",void 0),h(this,"recentBoardsProjectsFiltersPlansCache",void 0),h(this,"recentProjectsCache",void 0),h(this,"isUserAnonymous",void 0),h(this,"search",(function(t,n,o,i,c){var u=r.searchForScope(t,n,o,[a.c.JiraIssue],e.ITEM_RESULT_LIMIT,!1,i),s=c?[a.c.JiraBoardProjectFilterPlan]:[a.c.JiraBoardProjectFilter],l=c?e.PROJECT_BOARD_FILTER_PLAN_LIMIT:e.PROJECT_BOARD_FILTER_LIMIT,p=0===n.length?r.searchForScope(t,n,o,s,l,!1,i):{};return f(f({},u),p)})),this.aggregatorClient=new n.a(t),this.recentPeopleCache=new c.a((function(e){return r.searchForPeopleScope("",e,!0)})),this.recentIssuesCache=new c.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[a.c.JiraIssue],e.ITEM_RESULT_LIMIT,!0)[a.c.JiraIssue]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(a.c.JiraIssue));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.recentBoardsProjectsFiltersCache=new c.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[a.c.JiraBoardProjectFilter],e.PROJECT_BOARD_FILTER_LIMIT,!0)[a.c.JiraBoardProjectFilter]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(a.c.JiraBoardProjectFilter));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.recentBoardsProjectsFiltersPlansCache=new c.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[a.c.JiraBoardProjectFilterPlan],e.PROJECT_BOARD_FILTER_PLAN_LIMIT,!0)[a.c.JiraBoardProjectFilterPlan]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(a.c.JiraBoardProjectFilterPlan));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.recentProjectsCache=new c.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[a.c.JiraProject],e.PROJECT_RESULT_LIMIT,!0)[a.c.JiraProject]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(a.c.JiraProject));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.isUserAnonymous=t.isUserAnonymous}var t,r,u,s,p;return t=e,(r=[{key:"getRecent",value:function(e,t){var r=e.get(t),n=r.fromCache,o=r.value;return i.a.from(o.then((function(e){return f(f({},e),{},{isCached:n})})))}},{key:"getRecentIssues",value:function(e){return this.getRecent(this.recentIssuesCache,e)}},{key:"getRecentProjects",value:function(e){return this.getRecent(this.recentProjectsCache,e)}},{key:"getRecentBoardsProjectsFilters",value:function(e){return this.getRecent(this.recentBoardsProjectsFiltersCache,e)}},{key:"getRecentBoardsProjectsFiltersPlans",value:function(e){return this.getRecent(this.recentBoardsProjectsFiltersPlansCache,e)}},{key:"getProductPermissions",value:(p=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.permissionsDataCache){e.next=4;break}return e.next=3,this.aggregatorClient.getProductPermissions(t,"jira.nav-v3");case 3:this.permissionsDataCache=e.sent;case 4:return e.abrupt("return",this.permissionsDataCache);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getAbTestData",value:(s=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.abTestDataCache){e.next=2;break}return e.abrupt("return",this.abTestDataCache);case 2:return e.next=4,this.aggregatorClient.getAbTestData(a.c.JiraIssue,"jira.nav-v3");case 4:return t=e.sent,this.abTestDataCache=t,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getRecentPeople",value:function(e){return this.getRecent(this.recentPeopleCache,e)}},{key:"searchPeople",value:function(e,t){return i.a.from(this.searchForPeopleScope(e,t,!1))}},{key:"searchForPeopleScope",value:function(t,r,n,o){if(this.isUserAnonymous)return Promise.resolve({items:[],timings:0,totalSize:0});var i=this.searchForScope(t,[],r,[a.c.People],e.PEOPLE_RESULT_LIMIT,n,o)[a.c.People];if(!i)throw new Error("Failed to retrieve results for scope ".concat(a.c.People));return i.promise()}},{key:"searchProjects",value:function(t,r){var n=this.searchForScope(t,[],r,[a.c.JiraProject],e.ITEM_RESULT_LIMIT,!1)[a.c.JiraProject];if(!n)throw new Error("Failed to retrieve results for scope ".concat(a.c.JiraProject));return n}},{key:"searchForScope",value:function(e,t,r,n,c,u,s){var l=s?[{"@type":"queryParams",queryVersion:s}]:[],p=[],y=null,d=null;t.forEach((function(e){switch(e.type){case"project":y||(y={"@type":"projects",projectIds:[]},p.push(y)),y.projectIds.push(e.id);break;case"assignee":d||(d={"@type":"assignees",accountIds:[]},p.push(d)),d.accountIds.push(e.id)}}));var m=this.aggregatorClient.search({query:e,context:r,scopes:n,modelParams:l,resultLimit:c,filters:p,experience:"jira.nav-v3"});return n.reduce((function(e,t){return f(f({},e),{},h({},t,i.a.from(m.then((function(e){var r=e.response,n=e.requestDurationMs,i=r.retrieveScope(t);if(!i)throw new Error("Expected a response but did not get any for scope: ".concat(t));if(i.error)throw Object(o.a)(i.error);return t===a.c.JiraIssue?function(e,t,r){var n=e.results,o=e.size;return{items:n.map((function(e){if(e.attributes["@type"]!==a.a.issue)throw new Error("Encountered incorrect result data shape.");return{resultId:e.id,name:e.name,href:e.url,contentType:a.b.JiraIssue,attributes:f(f({},e.attributes),{},{isRecentResult:t}),isCached:t}})),timings:r,totalSize:o||n.length}}(i,u,n):t===a.c.JiraBoardProjectFilter||t===a.c.JiraBoardProjectFilterPlan?b(i.results,u,n):t===a.c.JiraProject?function(e,t,r){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(a.c.JiraProject));return{items:e.map((function(e){return{resultId:e.id,name:e.name,href:e.url,contentType:a.b.JiraProject,attributes:e.attributes,isCached:t}})),timings:r,totalSize:e.length}}(i.results,u,n):t===a.c.People?function(e,t,r){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(a.c.People));return{items:e.map((function(e){return{resultId:e.id,name:e.name,href:"/jira/people/".concat(e.id),contentType:a.b.JiraPeople,attributes:{"@type":a.a.people,avatarUrl:e.avatarUrl,userId:e.id},isCached:t}})),timings:r,totalSize:e.length}}(i.results,u,n):void 0})))))}),{})}}])&&y(t.prototype,r),u&&y(t,u),e}();function b(e,t,r){return{items:e.map((function(e){if(![a.a.board,a.a.project,a.a.filter,a.a.plan].includes(e.attributes["@type"]))throw new Error("Encountered incorrect result data shape.");var r=function(e){switch(e){case a.a.issue:return a.b.JiraIssue;case a.a.project:return a.b.JiraProject;case a.a.board:return a.b.JiraBoard;case a.a.filter:return a.b.JiraFilter;case a.a.plan:return a.b.JiraPlan;case a.a.people:return a.b.JiraPeople;default:throw new u.a(e)}}(e.attributes["@type"]);return{resultId:e.id,name:e.name,href:e.url,contentType:r,attributes:e.attributes,isCached:t}})),timings:r,totalSize:e.length}}h(d,"ITEM_RESULT_LIMIT",30),h(d,"PROJECT_BOARD_FILTER_LIMIT",6),h(d,"PROJECT_BOARD_FILTER_PLAN_LIMIT",8),h(d,"PROJECT_RESULT_LIMIT",10),h(d,"PEOPLE_RESULT_LIMIT",10)},"48gJ":function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},"578M":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t="undefined",r=e.message?e.message:e;if(r&&(t=String(r),"object"===n(r)))try{t=JSON.stringify(e)}catch(o){}return new Error(t)}r.d(t,"a",(function(){return o}))},"5L5q":function(e,t,r){"use strict";var n=r("8iDC");e.exports=Function.prototype.bind||n},"5kY4":function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return m}));var n=r("ERkP"),o=r("eWMb"),a=r("r7bb"),i=r("DFXi"),c=r("Icb0");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,c,"next",e)}function c(e){f(a,n,o,i,c,"throw",e)}i(void 0)}))}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(){function e(t){var r=this,n=t.accountId,o=t.baseUrl;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"serviceConfig",void 0),d(this,"currentUserCache",void 0),d(this,"accountId",void 0),d(this,"getCurrentUser",(function(){return r.currentUserCache.get().value})),d(this,"getUserSupplier",y(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.makeRequest("/rest/api/3/user");case 2:return t=e.sent,n=t.result,o=t.durationMs,e.abrupt("return",p(p({},n),{},{timings:o}));case 6:case"end":return e.stop()}}),e)})))),this.serviceConfig={url:o},this.accountId=n,this.currentUserCache=new i.a(this.getUserSupplier)}var t,r,n,c;return t=e,(r=[{key:"makeRequest",value:(c=y(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={path:t,queryParams:{accountId:this.accountId,expand:"applicationRoles"}},e.abrupt("return",Object(a.a)(o.utils.requestService(this.serviceConfig,r)));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})}])&&h(t.prototype,r),n&&h(t,n),e}(),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(n.useState)(!1),o=u(r,2),a=o[0],i=o[1],s=Object(n.useState)(t),l=u(s,2),p=l[0],f=l[1],y=Object(c.b)(),h=y.currentUserClient;return Object(n.useEffect)((function(){if(e&&!a){var t=!0;return null==h||h.getCurrentUser().then((function(e){t&&!a&&(f({id:e.accountId,name:e.displayName,avatarUrl:e.avatarUrls["24x24"],email:e.emailAddress,hasSoftwareAccess:e.applicationRoles.items.some((function(e){return"jira-software"===e.key}))}),i(!0))})).catch((function(){})),function(){t=!1}}}),[h,a,e]),p}},"8iDC":function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,a=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==a.call(t))throw new TypeError(n+t);for(var r,i=o.call(arguments,1),c=function(){if(this instanceof r){var n=t.apply(this,i.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(e,i.concat(o.call(arguments)))},u=Math.max(0,t.length-i.length),s=[],l=0;l<u;l++)s.push("$"+l);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(c),t.prototype){var p=function(){};p.prototype=t.prototype,r.prototype=new p,p.prototype=null}return r}},AS9K:function(e,t,r){"use strict";var n;r.d(t,"m",(function(){return n})),r.d(t,"f",(function(){return o})),r.d(t,"h",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"i",(function(){return c})),r.d(t,"k",(function(){return u})),r.d(t,"j",(function(){return s})),r.d(t,"l",(function(){return l})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return y})),r.d(t,"e",(function(){return h})),r.d(t,"g",(function(){return d})),function(e){e.ConfluencePageBlogAttachment="confluence.page,blogpost,attachment",e.ConfluencePageBlog="confluence.page,blogpost",e.ConfluenceSpace="confluence.space",e.People="cpus.user",e.UserConfluence="urs.user-confluence"}(n||(n={}));var o="generic-container-result",a="person-result",i="confluence-object-result",c="recent-confluence",u="result-confluence",s="recent-person",l="result-person",p="confluence-page",f="confluence-blogpost",y="confluence-attachment",h="confluence-space",d="person"},BmjO:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return u})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return p}));var n,o=r("ERkP"),a=r.n(o),i=r("l1C2");!function(e){e.jira="JIRA",e.confluence="CONFLUENCE"}(n||(n={}));var c=a.a.createContext({products:[],activeIndex:0}),u=function(e){var t=e.children,r=e.products,n=e.activeIndex,o=void 0===n?0:n;return Object(i.f)(c.Provider,{value:{products:r,activeIndex:Math.min(r.length-1,Math.max(0,o))}},t)},s=function(){return Object(o.useContext)(c).products},l=function(){return Object(o.useContext)(c).products[0]},p=function(){var e=Object(o.useContext)(c);return e.products[e.activeIndex]}},CmXO:function(e,t,r){"use strict";var n=r("zT+L").supportsDescriptors,o=r("IlOi"),a=Object.getOwnPropertyDescriptor,i=Object.defineProperty,c=TypeError,u=Object.getPrototypeOf,s=/a/;e.exports=function(){if(!n||!u)throw new c("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(s),r=a(t,"flags");return r&&r.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},DFXi:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return i}));var i=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_TIMEOUT_IN_MS;n(this,e),a(this,"timeoutMs",void 0),a(this,"nextCacheRefreshTime",Date.now()),a(this,"currentValue",void 0),a(this,"supplier",void 0),this.timeoutMs=o,this.supplier=t,this.currentValue=null,r&&(this.currentValue=r,this.updateNextRefreshTime())}var t,r,i;return t=e,(r=[{key:"get",value:function(){if(!this.currentValue||Date.now()>=this.nextCacheRefreshTime){this.updateNextRefreshTime();try{var e=this.supplier.apply(this,arguments);if(this.currentValue=e,this.currentValue)return{fromCache:!1,value:this.currentValue}}catch(t){this.invalidate()}if(!this.currentValue)throw new Error("Failed to initialise a value for the cache")}return{fromCache:!0,value:this.currentValue}}},{key:"invalidate",value:function(){this.nextCacheRefreshTime=Date.now()}},{key:"updateNextRefreshTime",value:function(){this.nextCacheRefreshTime=Date.now()+this.timeoutMs}}])&&o(t.prototype,r),i&&o(t,i),e}();a(i,"DEFAULT_TIMEOUT_IN_MS",9e5)},F3Ih:function(e,t,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,i=r("cTt9"),c=Object.prototype.propertyIsEnumerable,u=!c.call({toString:null},"toString"),s=c.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===a.call(e),n=i(e),c=t&&"[object String]"===a.call(e),f=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=s&&r;if(c&&e.length>0&&!o.call(e,0))for(var d=0;d<e.length;++d)f.push(String(d));if(n&&e.length>0)for(var b=0;b<e.length;++b)f.push(String(b));else for(var m in e)h&&"prototype"===m||!o.call(e,m)||f.push(String(m));if(u)for(var v=function(e){if("undefined"==typeof window||!y)return p(e);try{return p(e)}catch(t){return!1}}(e),g=0;g<l.length;++g)v&&"constructor"===l[g]||!o.call(e,l[g])||f.push(l[g]);return f}}e.exports=n},GK6R:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)})(e)}function s(e,t,r){return(s=l()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&p(o,r.prototype),o}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,e);var t,r,n=(t=o,r=l(),function(){var e,n=f(t);if(r){var o=f(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return i(this,e)});function o(){var e;a(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return y(c(e=n.call.apply(n,[this].concat(r))),"isCancelled",!0),e}return o}(u(Error)))("Promise is cancelled"),d=function(){function e(t){var r=this;a(this,e),y(this,"cancellablePromiseInternal",void 0),y(this,"cancelInternal",(function(){throw new Error("Programming error, cancelling promise is not properly rejected")})),y(this,"promise",(function(){return r.cancellablePromiseInternal})),y(this,"cancel",(function(){return r.cancelInternal()})),this.cancellablePromiseInternal=Promise.race([t,new Promise((function(e,t){r.cancelInternal=function(){return t(h)}}))])}var t,r,o;return t=e,o=[{key:"from",value:function(t){return new e(t)}}],(r=null)&&n(t.prototype,r),o&&n(t,o),e}();t.a=d},HxRv:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("eWMb"),o=r("r7bb");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,u,"next",e)}function u(e){c(a,n,o,i,u,"throw",e)}i(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){function e(t){var r=t.url,n=t.cloudId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"serviceConfig",void 0),l(this,"cloudId",void 0),this.serviceConfig={url:r},this.cloudId=n}var t,r,a,c,p,f,y;return t=e,(r=[{key:"getAbTestData",value:(y=u(regeneratorRuntime.mark((function t(r,n){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={cloudId:this.cloudId,scopes:[r],experience:n},t.next=3,this.makeRequest(e.EXPERIMENT_URL_PATH,o);case 3:return a=t.sent,i=a.scopes.find((function(e){return e.id===r})),c=i?Promise.resolve(i.abTest):Promise.resolve(null),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"getProductPermissions",value:(f=u(regeneratorRuntime.mark((function t(r,n){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==r.length){t.next=2;break}return t.abrupt("return",Promise.resolve(r));case 2:return t.prev=2,t.next=5,this.makeRequest(e.SCOPES_API_URL,{cloudId:this.cloudId,productIds:r.map((function(e){return e.toLowerCase()})),experience:n});case 5:return o=t.sent,a=Object.keys(o.products),t.abrupt("return",Promise.resolve(a.filter((function(e){return o.products[e].length>0})).map((function(e){return e.toUpperCase()}))));case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",Promise.resolve([]));case 13:case"end":return t.stop()}}),t,this,[[2,10]])}))),function(e,t){return f.apply(this,arguments)})},{key:"search",value:(p=u(regeneratorRuntime.mark((function t(r){var n,a,c,u,s,l,p,f,y,h,d,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.query,a=r.context,c=r.scopes,u=r.modelParams,s=r.resultLimit,l=r.filters,p=void 0===l?[]:l,f=r.experience,y=i(i({query:n,cloudId:this.cloudId,limit:s,scopes:c,filters:p,searchSession:a},u.length>0?{modelParams:u}:{}),{},{experience:f}),t.next=4,Object(o.a)(this.makeRequest(e.QUICKSEARCH_API_URL,y));case 4:return h=t.sent,d=h.result,b=h.durationMs,t.abrupt("return",{response:{rawData:d,retrieveScope:function(e){return d.scopes.find((function(t){return t.id===e}))||null}},requestDurationMs:b});case 8:case"end":return t.stop()}}),t,this)}))),function(e){return p.apply(this,arguments)})},{key:"makeRequest",value:(c=u(regeneratorRuntime.mark((function e(t,r){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={path:t,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}},e.next=3,n.utils.requestService(this.serviceConfig,o);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})}])&&s(t.prototype,r),a&&s(t,a),e}();l(p,"EXPERIMENT_URL_PATH","experiment/v1"),l(p,"QUICKSEARCH_API_URL","quicksearch/v1"),l(p,"SCOPES_API_URL","scopes/v1")},Icb0:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var n=r("ERkP"),o=r("06eB"),a=r.n(o),i=r("lSUb"),c=r("5kY4"),u=r("0yzI"),s=r("vT//"),l=r("l1C2");var p="Jira search client has not been instantiated. This is most likely because you are missing a JiraSearchClientProvider.",f="gateway/api/collaboration",y=Object(i.default)((function(e){return new s.a({collaborationGraphUrl:e.collaborationGraphUrl,cloudId:e.cloudId})}),a.a),h=Object(n.createContext)({});function d(e){var t=e.aggregatorUrl,r=e.cloudId,o=e.isUserAnonymous,a=e.collaborationGraphUrl,i=e.children,s=e.baseUrl,p=e.accountId,d=Object(n.useMemo)((function(){return new u.a({url:t,cloudId:r,isUserAnonymous:o})}),[t,r,o]),b=y({collaborationGraphUrl:a||f,cloudId:r}),m=Object(n.useMemo)((function(){return p?new c.a({accountId:p,baseUrl:s}):void 0}),[p,s]);return Object(l.f)(h.Provider,{value:{searchClient:d,collabGraphClient:b,currentUserClient:m,cloudId:r}},i)}function b(){var e=Object(n.useContext)(h),t=e.searchClient,r=e.collabGraphClient,o=e.currentUserClient,a=e.cloudId;if(!t)throw new Error(p);return{searchClient:t,collabGraphClient:r,currentUserClient:o,cloudId:a}}},IlOi:function(e,t,r){"use strict";var n=r("YZE+"),o=r("zT+L").supportsDescriptors,a=Object.getOwnPropertyDescriptor,i=TypeError;e.exports=function(){if(!o)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=a(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},OsbC:function(e,t,r){"use strict";var n=TypeError,o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(m){o=null}var a=function(){throw new n},i=o?function(){try{return a}catch(e){try{return o(arguments,"callee").get}catch(t){return a}}}():a,c=r("V+Bs")(),u=Object.getPrototypeOf||function(e){return e.__proto__},s=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":c?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":s&&c&&Symbol.asyncIterator?s[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":c?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":c?Symbol:void 0,"%SymbolPrototype%":c?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":i,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":n,"%TypeErrorPrototype%":n.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=r("5L5q").call(Function.call,String.prototype.replace),y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,d=function(e){var t=[];return f(e,y,(function(e,r,n,o){t[t.length]=n?f(o,h,"$1"):r||e})),t},b=function(e,t){if(!(e in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[e]&&!t)throw new n("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=d(e),a=b("%"+(r.length>0?r[0]:"")+"%",t),i=1;i<r.length;i+=1)if(null!=a)if(o&&i+1>=r.length){var c=o(a,r[i]);if(!t&&!(r[i]in a))throw new n("base intrinsic for "+e+" exists, but the property is not available.");a=c?c.get||c.value:a[r[i]]}else a=a[r[i]];return a}},"R6B+":function(e,t,r){"use strict";var n=r("zT+L"),o=r("0n68"),a=r("YZE+"),i=r("IlOi"),c=r("CmXO"),u=o(a);n(u,{getPolyfill:i,implementation:a,shim:c}),e.exports=u},RTsd:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("HxRv"),o=r("578M"),a=r("AS9K"),i=r("GK6R"),c=r("DFXi");function u(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,c,"next",e)}function c(e){u(a,n,o,i,c,"throw",e)}i(void 0)}))}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=Promise.resolve({items:[],timings:0}),d=function(){function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"aggregatorClient",void 0),y(this,"collaborationGraphClient",void 0),y(this,"isCollabGraphEnabled",void 0),y(this,"isUserAnonymous",void 0),y(this,"bootstrapPeopleCache",void 0),y(this,"abTestDataCache",null),y(this,"permissionsDataCache",null),y(this,"searchWithFilters",(function(t,r,n,c){var u,s=[a.m.ConfluencePageBlogAttachment],l=[],p=null,f=null;r.forEach((function(e){switch(e.type){case"space":p||(p={"@type":"spaces",spaceKeys:[]},l.push(p)),p.spaceKeys.push(e.id);break;case"contributor":f||(f={"@type":"contributors",accountIds:[]},l.push(f)),f.accountIds.push(e.id)}}));var d=o.aggregatorClient.search({query:t,context:n,scopes:s,modelParams:c,resultLimit:e.ITEM_RESULT_LIMIT,filters:l,experience:"confluence.nav-v3"});return y(u={},a.m.ConfluencePageBlogAttachment,i.a.from(d.then((function(e){var t=e.response,r=e.requestDurationMs;return o.mapConfItem(t.retrieveScope(a.m.ConfluencePageBlogAttachment),r)})))),y(u,a.m.ConfluenceSpace,i.a.from(h)),y(u,a.m.People,i.a.from(h)),u})),y(this,"recentPeopleSupplier",(function(t){return o.isUserAnonymous?Promise.resolve({items:[],timings:0}):o.isCollabGraphEnabled?o.collaborationGraphClient.getUsers().then((function(e){return o.mapCollabGraphPeople(e)})):o.aggregatorClient.search({query:"",context:t,scopes:[a.m.UserConfluence],modelParams:[],resultLimit:e.PEOPLE_RESULT_LIMIT,experience:"confluence.nav-v3"}).then((function(e){var t=e.response,r=e.requestDurationMs;return o.mapUrsPeople(t.retrieveScope(a.m.UserConfluence),r)}))})),this.aggregatorClient=new n.a(t),this.isUserAnonymous=t.isUserAnonymous,this.bootstrapPeopleCache=new c.a(this.recentPeopleSupplier),this.collaborationGraphClient=r,this.isCollabGraphEnabled=t.isCollaborationGraphEnabled}var t,r,u,l,d;return t=e,(r=[{key:"search",value:function(t,r,n,o){var c,u=this,s=[{"@type":"queryParams",queryVersion:o}];if(r.length>0)return this.searchWithFilters(t,r,n,s);var l=[a.m.ConfluencePageBlogAttachment,a.m.ConfluenceSpace,a.m.People],p=this.aggregatorClient.search({query:t,context:n,scopes:l,modelParams:s,resultLimit:e.ITEM_RESULT_LIMIT,filters:[],experience:"confluence.nav-v3"});return y(c={},a.m.ConfluencePageBlogAttachment,i.a.from(p.then((function(e){var t=e.response,r=e.requestDurationMs;return u.mapConfItem(t.retrieveScope(a.m.ConfluencePageBlogAttachment),r)})))),y(c,a.m.ConfluenceSpace,i.a.from(p.then((function(e){var t=e.response,r=e.requestDurationMs;return u.mapConfSpace(t.retrieveScope(a.m.ConfluenceSpace),r)})))),y(c,a.m.People,i.a.from(p.then((function(e){var t=e.response,r=e.requestDurationMs;return u.mapCpusPeople(t.retrieveScope(a.m.People),r)})))),c}},{key:"searchSpaces",value:function(t,r){var n=this,o=[a.m.ConfluenceSpace],c=this.aggregatorClient.search({query:t,context:r,scopes:o,modelParams:[],resultLimit:e.SPACE_RESULT_LIMIT,filters:[],experience:"confluence.nav-v3"});return i.a.from(c.then((function(e){var t=e.response,r=e.requestDurationMs;return n.mapConfSpace(t.retrieveScope(a.m.ConfluenceSpace),r)})))}},{key:"searchUsers",value:function(t,r){var n=this,o=[a.m.People],c=this.aggregatorClient.search({query:t,context:r,scopes:o,modelParams:[],resultLimit:e.PEOPLE_RESULT_LIMIT,filters:[],experience:"confluence.nav-v3"});return i.a.from(c.then((function(e){var t=e.response,r=e.requestDurationMs;return n.mapCpusPeople(t.retrieveScope(a.m.People),r)})))}},{key:"getRecentPeople",value:function(e){var t=this.bootstrapPeopleCache.get(e),r=t.fromCache,n=t.value;return new i.a(n.then((function(e){return p(p({},e),{},{isCached:r})})))}},{key:"getProductPermissions",value:(d=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.permissionsDataCache){e.next=4;break}return e.next=3,this.aggregatorClient.getProductPermissions(t,"confluence.nav-v3");case 3:this.permissionsDataCache=e.sent;case 4:return e.abrupt("return",this.permissionsDataCache);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"getAbTestData",value:(l=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.abTestDataCache){e.next=2;break}return e.abrupt("return",this.abTestDataCache);case 2:return e.next=4,this.aggregatorClient.getAbTestData(a.m.ConfluencePageBlogAttachment,"confluence.nav-v3");case 4:return t=e.sent,this.abTestDataCache=t,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"mapConfItem",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(a.m.ConfluencePageBlogAttachment));if(e.error)throw Object(o.a)(e.error);return{items:e.results.map((function(e){return{resultId:e.content.id,name:(t=e.title,t.replace(/@@@hl@@@|@@@endhl@@@/g,"")),href:"".concat(e.baseUrl).concat(e.url),containerName:e.container.title,analyticsType:a.k,contentType:"confluence-".concat(e.content.type),resultType:a.c,containerId:e.content.space&&e.content.space.id?e.content.space.id:"UNAVAILABLE",iconClass:e.iconCssClass,lastModified:e.lastModified,isRecentResult:!1};var t})),totalSize:void 0!==e.size?e.size:e.results.length,timings:t}}},{key:"mapUrsPeople",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(a.m.UserConfluence));if(e.error)throw Object(o.a)(e.error);return{items:e.results.map((function(e){return{resultType:a.h,resultId:"people-".concat(e.id),userId:e.id,name:e.name,href:"/people/".concat(e.id),avatarUrl:e.avatarUrl,contentType:a.g,analyticsType:a.l,mentionName:e.nickname||"",presenceMessage:""}})),timings:t}}},{key:"mapCpusPeople",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(a.m.People));if(e.error)throw Object(o.a)(e.error);return{items:e.results.map((function(e){var t=e.nickname||e.name;return{resultType:a.h,resultId:"people-".concat(e.account_id),userId:e.account_id,name:e.name,href:"/people/".concat(e.account_id),avatarUrl:e.picture,contentType:a.g,analyticsType:a.l,mentionName:t,presenceMessage:e.job_title||""}})),timings:t}}},{key:"mapCollabGraphPeople",value:function(e){return{items:e.collaborationGraphEntities.map((function(e){return{resultId:e.userProfile.account_id,userId:e.userProfile.account_id,name:e.userProfile.name,href:e.userProfile.name,analyticsType:a.j,mentionName:e.userProfile.name,presenceMessage:e.userProfile.name,resultType:a.h,avatarUrl:e.userProfile.picture,contentType:a.g}})),timings:e.timings}}},{key:"mapConfSpace",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(a.m.ConfluenceSpace));if(e.error)throw Object(o.a)(e.error);return{items:e.results.map((function(e){return{resultId:"space-".concat(e.space.key),avatarUrl:"".concat(e.baseUrl).concat(e.space.icon.path),name:e.container.title,href:"".concat(e.baseUrl||"").concat(e.container.displayUrl),analyticsType:a.k,resultType:a.f,contentType:a.e,key:e.space.key}})),timings:t}}}])&&f(t.prototype,r),u&&f(t,u),e}();y(d,"ITEM_RESULT_LIMIT",30),y(d,"SPACE_RESULT_LIMIT",10),y(d,"PEOPLE_RESULT_LIMIT",10)},TdBM:function(e,t,r){"use strict";var n,o,a;function i(e){return Object.prototype.hasOwnProperty.call(e,"url")}r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return a})),function(e){e.JiraIssue="jira.issue",e.JiraBoardProjectFilter="jira.board,project,filter",e.JiraBoardProjectFilterPlan="jira.board,project,filter,plan",e.JiraProject="jira.project",e.People="urs.user-jira"}(n||(n={})),function(e){e.JiraIssue="jira-issue",e.JiraBoard="jira-board",e.JiraProject="jira-project",e.JiraFilter="jira-filter",e.JiraPlan="jira-plan",e.JiraPeople="jira-people"}(o||(o={})),function(e){e.issue="issue",e.board="board",e.project="project",e.filter="filter",e.plan="plan",e.people="people"}(a||(a={}))},UV1p:function(e,t,r){"use strict";var n,o,a,i=r("V+Bs")()&&"symbol"==typeof Symbol.toStringTag;if(i){n=Function.call.bind(RegExp.prototype.exec),o={};var c=function(){throw o};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var u=Object.prototype.toString;e.exports=i?function(e){if(!e||"object"!=typeof e)return!1;try{n(e,a)}catch(t){return t===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u.call(e)}},"V+Bs":function(e,t,r){"use strict";(function(t){var n=t.Symbol,o=r("48gJ");e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,r("fRV1"))},VZRV:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var n=r("HbGN"),o=r("Czhu"),a=r("ERkP"),i=r.n(a),c=r("L21V"),u=r("Ppyz"),s=r.n(u),l=r("9m+Y");const p=Object(c.f)({now:{id:"time-ago.time.now",defaultMessage:"now",description:"Word for time that is currently happening (timestamp for events which happened < 5 seconds ago)"},onPreposition:{id:"time-ago.prepositions.on",defaultMessage:"on {datetime}",description:"Date preposition. e.g. on January 1st 1970"}}),f=[{format:()=>i.a.createElement(c.b,Object(o.a)({},p.now))},{threshold:5,unit:"second"},{threshold:45,factor:60,unit:"minute"},{threshold:150,factor:60,granularity:5,unit:"minute"},{threshold:2700,factor:3600,unit:"hour"},{threshold:86400,format:({date:e,locale:t,usePrepositions:r,dateFormatOptions:n})=>{const a=e.toLocaleDateString(t,Object(o.a)({year:"numeric",month:"long",day:"numeric"},n));return r?i.a.createElement(c.b,Object(o.a)(Object(o.a)({},p.onPreposition),{},{values:{datetime:a}})):a}}],y=e=>{let t=f.length-1;for(;t>0&&e<(f[t].threshold||e);)t--;return t},h=e=>(Date.now()-e.getTime())/1e3,d=({date:e,usePrepositions:t,dateFormatOptions:r})=>{const n=Object(l.b)().locale,o=new Date(e),a=h(o),i=y(a),c=f[i].format;if(c)return c({date:o,locale:n,usePrepositions:t,dateFormatOptions:r});const u=new s.a(n,{units:f[i].unit,style:"numeric"}),p=f[i].granularity||1,d=f[i].factor||1;return u.format(new Date((new Date).getTime()-Math.round(a/d/p)*p*d*1e3))},b=e=>{let{date:t}=e,r=Object(n.a)(e,["date"]);const[c,u]=Object(a.useState)(0),s=new Date(t),l=h(s),p=y(l);return Object(a.useEffect)(()=>{if(p!=f.length-1){const e=(f[p+1].threshold||l)-l,t=setTimeout(()=>{u(e=>e+1)},1e3*e);return()=>clearTimeout(t)}},[p]),i.a.createElement(d,Object(o.a)({date:t},r))}},WA38:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("Czhu"),o=r("HbGN"),a=r("ERkP"),i=r.n(a),c=(r("aWzz"),r("KIs4")),u=r("M/rd"),s=r("frZf");const l=e=>{const{href:t,to:r}=e,a=Object(o.a)(e,["href","to"]),l=r||t;return i.a.createElement(c.a,null,({featureFlags:t})=>{const r=l&&0!==l.indexOf("/")?"/"+l:l,o=t["confluence.frontend.people.directory"]&&!r.startsWith(s.a)?`${s.a}${r}`:r;return i.a.createElement(u.a,Object(n.a)(Object(n.a)({},e),{},{href:o},a))})}},"YZE+":function(e,t,r){"use strict";var n=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},cTt9:function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},duz6:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function i(e,t,r){return(i=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return l}));var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,r,n=(t=a,r=c(),function(){var e,n=s(t);if(r){var a=s(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return o(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n.call(this,"Unreachable code was reachable, value: ".concat(e))}return a}(a(Error))},eYkv:function(e,t,r){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},ey2t:function(e,t,r){"use strict";var n=Array.prototype.slice,o=r("cTt9"),a=Object.keys,i=a?function(e){return a(e)}:r("F3Ih"),c=Object.keys;i.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?c(n.call(e)):c(e)}):Object.keys=i;return Object.keys||i},e.exports=i},fDDX:function(e,t,r){"use strict";var n=r("ERkP"),o=r.n(n),a=r("RTsd"),i=r("lSUb"),c=r("06eB"),u=r.n(c),s=r("eWMb"),l=r("r7bb"),p=r("GK6R"),f=r("DFXi"),y=r("AS9K"),h=r("vNrm");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){m(a,n,o,i,c,"next",e)}function c(e){m(a,n,o,i,c,"throw",e)}i(void 0)}))}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(){function e(t,r){var n=this,o=t.url,a=t.isCollaborationGraphEnabled;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,"baseUrl",void 0),P(this,"serviceConfig",void 0),P(this,"recentItemCache",void 0),P(this,"recentSpaceCache",void 0),P(this,"isCollabGraphEnabled",void 0),P(this,"collaborationGraphClient",void 0),P(this,"recentItemsSupplier",v(regeneratorRuntime.mark((function e(){var t,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.serviceConfig.url,r=n.createRecentRequestPromise("rest/recentlyviewed/1.0/recent"),e.next=4,r;case 4:return o=e.sent,a=o.result,i=o.durationMs,c=a.filter((function(e){return!!e.title})).map((function(e){return j(e,t)})),e.abrupt("return",{items:c,totalSize:c.length,timings:i});case 9:case"end":return e.stop()}}),e)})))),P(this,"recentSpacesSupplier",(function(){return n.isCollabGraphEnabled?n.collaborationGraphClient.getContainers([h.b]).then((function(e){return function(e,t){return{items:e.collaborationGraphEntities.map((function(e){return{id:e.containerDetails.id,key:e.containerDetails.key,icon:e.containerDetails.iconUrl,name:e.containerDetails.name}})).map((function(e){return w(e,t)})),timings:e.timings}}(e,n.baseUrl)})):n.createRecentRequestPromise("rest/recentlyviewed/1.0/recent/spaces").then((function(e){var t=e.result,r=e.durationMs;return{items:t.map((function(e){return w(e,n.baseUrl)})),timings:r}}))})),this.serviceConfig={url:o},this.baseUrl=o,this.recentItemCache=new f.a(this.recentItemsSupplier),this.recentSpaceCache=new f.a(this.recentSpacesSupplier),this.collaborationGraphClient=r,this.isCollabGraphEnabled=a}var t,r,n;return t=e,(r=[{key:"getRecent",value:function(e){var t=e.get(),r=t.fromCache,n=t.value;return p.a.from(n.then((function(e){return b(b({},e),{},{isCached:r})})))}},{key:"getRecentItems",value:function(){return this.getRecent(this.recentItemCache)}},{key:"getRecentSpaces",value:function(){return this.getRecent(this.recentSpaceCache)}},{key:"createRecentRequestPromise",value:function(e){var t={path:e},r=s.utils.requestService(this.serviceConfig,t);return Object(l.a)(r)}}])&&g(t.prototype,r),n&&g(t,n),e}();function j(e,t){return{resultId:String(e.id),name:e.title||"",href:"".concat(t).concat(e.url),containerName:e.space,analyticsType:y.i,resultType:y.c,contentType:"confluence-".concat(e.contentType),iconClass:e.iconClass,containerId:e.spaceKey,isRecentResult:!0,lastModified:void 0}}function w(e,t){return{resultId:e.id,name:e.name,key:e.key,href:"".concat(t,"/spaces/").concat(e.key),avatarUrl:e.icon,analyticsType:y.i,resultType:y.f,contentType:y.e}}var S=r("vT//"),C=r("l1C2");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return F}));var T={collaborationGraphUrl:"gateway/api/collaboration",useCollaborationGraphForRecents:!1},A=Object(i.default)((function(e,t){return new a.a(e,t)}),u.a),x=Object(i.default)((function(e,t){return new O(e,t)}),u.a),k=Object(i.default)((function(e){return new S.a({collaborationGraphUrl:e.collaborationGraphUrl,cloudId:e.cloudId})}),u.a),U=o.a.createContext({}),D=new Error("Could not find all required Clients, make sure ConfluenceClientsProvider is created further up the tree"),_=function(e){var t=e.children,r=e.config,n=E(E({},T),r),o=n.baseUrl,a=n.cloudId,i=n.collaborationGraphUrl,c=n.aggregatorUrl,u=n.isUserAnonymous,s=n.useCollaborationGraphForRecents,l=k({collaborationGraphUrl:i,cloudId:a});return Object(C.f)(U.Provider,{value:{searchClient:A({isUserAnonymous:u,url:c,cloudId:a,isCollaborationGraphEnabled:s},l),recentClient:x({url:o,isCollaborationGraphEnabled:s},l),collabGraphClient:l,cloudId:a}},t)},F=function(){var e=o.a.useContext(U);if(!e.searchClient||!e.recentClient)throw D;return e}},h74R:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("ERkP"),o=r.n(n),a=r("l1C2");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=function(e){return o.a.forwardRef((function(t,r){return Object(a.f)(e,i({},t,{forwardRef:r}))}))}},hoKw:function(e,t,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(a?function(e){try{return n.call(e),!0}catch(t){return!1}}(e):"[object Date]"===o.call(e))}},qM2f:function(e,t,r){"use strict";r.r(t);var n=r("HbGN"),o=r("zjfJ"),a=r("Czhu"),i=r("ERkP"),c=r.n(i),u=r("L21V"),s=r("RWLP"),l=r("wORz"),p=r("ZJnE"),f=r("h74R"),y=r("l1C2"),h=c.a.lazy((function(){return Promise.all([r.e("afp~af75c846"),r.e(18),r.e(23),r.e(147)]).then(r.bind(null,"RPtG"))})),d=Object(f.a)((function(e){return Object(y.f)(i.Suspense,{fallback:Object(y.f)(p.a,{theme:e.theme})},Object(y.f)(h,e))})),b=r("BmjO");var m=d,v=r("VZRV"),g=r("KIs4"),P=r("oN9k"),O=r("gScn"),j=r("fDDX"),w=r("Icb0"),S=r("frZf");const C=({children:e,userId:t,cloudId:r})=>{const n={isUserAnonymous:!t,aggregatorUrl:"/gateway/api/xpsearch-aggregator",collaborationGraphUrl:"/gateway/api/collaboration",cloudId:r,accountId:t};return c.a.createElement(j.a,{config:Object(a.a)(Object(a.a)({},n),{},{baseUrl:S.a})},c.a.createElement(w.a,Object(a.a)(Object(a.a)({},n),{},{baseUrl:`${window.location.protocol}//${window.location.hostname}`}),e))};var I=r("WA38"),E=r("M/rd");const R=e=>class extends i.Component{constructor(...t){super(...t),Object(o.a)(this,"handleClick",t=>{var r;!e||(r=t)&&(r.metaKey||r.shiftKey||r.ctrlKey)||e()}),Object(o.a)(this,"getLinkComponent",e=>e&&e.startsWith("/people/")?I.a:E.a)}render(){const{children:e,href:t,target:r,className:n}=this.props,o=this.getLinkComponent(t);return i.createElement(o,{href:t,onClick:this.handleClick,target:r,className:n},e)}};var T=r("gQ5V"),A=r("H5qd");const x=r.n(A).a`query UserContextQuery{user(current:true){id displayName emails{value isPrimary}}}`,k=({children:e})=>c.a.createElement(T.b,{query:x},({data:t,loading:r})=>{const n=t&&t.user&&t.user.displayName,o=(t&&t.user&&t.user.emails||[]).filter(e=>e.isPrimary).map(e=>e.value).find(Boolean);return e({isLoading:r,data:{email:o,name:n}})});r.d(t,"SEARCH_SPOTLIGHT_KEY",(function(){return U})),r.d(t,"NavigationSearchDialog",(function(){return M}));const U="search-spotlight",D=Object(u.f)({lastUpdatedDate:{id:"navigation-search-dialog.last-updated-date",defaultMessage:"Updated {datetime}",description:"Describes when the item was last updated, e.g. 'Updated 23 Jan'"}}),_=e=>{const t=c.a.createElement(v.b,{date:e,dateFormatOptions:{month:"short"}});return c.a.createElement(u.b,Object(a.a)(Object(a.a)({},D.lastUpdatedDate),{},{values:{datetime:t}}))};class F extends c.a.Component{constructor(e){super(e),Object(o.a)(this,"searchInput",void 0),Object(o.a)(this,"state",{isOpen:!1}),Object(o.a)(this,"openDialog",e=>{e&&(e.preventDefault(),this.searchInput.current&&this.searchInput.current.focus()),this.setState({isOpen:!0})}),Object(o.a)(this,"closeDialog",()=>{this.setState({isOpen:!1})}),Object(o.a)(this,"onNavigate",e=>{this.props.push(e)}),Object(o.a)(this,"getSearchDialog",e=>{let{confluenceFeatures:t}=e,r=Object(n.a)(e,["confluenceFeatures"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{name:U},c.a.createElement("div",null,c.a.createElement(m,Object(a.a)({products:[b.b.confluence,b.b.jira],jiraFeatures:{hasSoftwareAccess:!0}},r)))),c.a.createElement(s.a,{engagementId:U}))}),this.searchInput=Object(i.createRef)()}render(){const{isOpen:e}=this.state,{theme:t}=this.props;return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,({cloudId:r,userId:n})=>c.a.createElement(C,{cloudId:r,userId:n},c.a.createElement(k,null,({data:r,isLoading:n})=>n?c.a.createElement(p.a,null):this.getSearchDialog({isExpanded:e,onOpen:this.openDialog,onClose:this.closeDialog,linkComponent:R(this.closeDialog),formatDate:_,ref:this.searchInput,theme:t,user:{name:r&&r.name,email:r&&r.email},onNavigate:this.onNavigate})))),c.a.createElement(P.a,{accelerator:["/","g g"],listener:this.openDialog}))}}const M=Object(O.a)(F)},qnX1:function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,a=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o.call(e)},i=function(e){return!!a(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o.call(e)&&"[object Function]"===o.call(e.callee)},c=function(){return a(arguments)}();a.isLegacyArguments=i,e.exports=c?a:i},r7bb:function(e,t,r){"use strict";function n(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}r.d(t,"a",(function(){return o}));var o=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Date.now(),e.next=3,t;case 3:return n=e.sent,o=Date.now()-r,e.abrupt("return",{result:n,durationMs:o});case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function c(e){n(i,o,a,c,u,"next",e)}function u(e){n(i,o,a,c,u,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()},vNrm:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));var n="confluenceSpace",o="jiraProject"},"vT//":function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return y}));var n=r("eWMb"),o=r("r7bb"),a=r("DFXi");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,c,"next",e)}function c(e){u(a,n,o,i,c,"throw",e)}i(void 0)}))}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=10,y=function(){function e(t){var r=this,n=t.collaborationGraphUrl,o=t.cloudId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"serviceConfig",void 0),p(this,"cloudId",void 0),p(this,"spacesCache",void 0),p(this,"usersCache",void 0),p(this,"getContainers",(function(e){return r.spacesCache.get(e).value})),p(this,"getUsers",(function(){return r.usersCache.get().value})),p(this,"getContainersSupplier",function(){var t=s(regeneratorRuntime.mark((function t(n){var o,a,i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={containerTypes:n,context:{principalId:"context",siteId:r.cloudId,contextType:"quickSearch"},maxNumberOfResults:f,userId:"context",expanded:!0},t.next=3,r.makeRequest(e.CONTAINER_URL_PATH,o);case 3:return a=t.sent,i=a.result,u=a.durationMs,t.abrupt("return",c(c({},i),{},{timings:u}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p(this,"getUsersSupplier",s(regeneratorRuntime.mark((function t(){var n,o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={context:{principalId:"context",siteId:r.cloudId,contextType:"quickSearch"},maxNumberOfResults:f,userId:"context",expanded:!0},t.next=3,r.makeRequest(e.USER_URL_PATH,n);case 3:return o=t.sent,a=o.result,i=o.durationMs,t.abrupt("return",c(c({},a),{},{timings:i}));case 7:case"end":return t.stop()}}),t)})))),this.serviceConfig={url:n},this.cloudId=o,this.spacesCache=new a.a(this.getContainersSupplier),this.usersCache=new a.a(this.getUsersSupplier)}var t,r,i,u;return t=e,(r=[{key:"makeRequest",value:(u=s(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={path:t,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}},e.abrupt("return",Object(o.a)(n.utils.requestService(this.serviceConfig,a)));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})}])&&l(t.prototype,r),i&&l(t,i),e}();p(y,"CONTAINER_URL_PATH","v1/collaborationgraph/user/container"),p(y,"USER_URL_PATH","v1/collaborationgraph/user/user")},"zT+L":function(e,t,r){"use strict";var n=r("ey2t"),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,i=Array.prototype.concat,c=Object.defineProperty,u=c&&function(){var e={};try{for(var t in c(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(r){return!1}}(),s=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===a.call(o)&&n())&&(u?c(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},a=n(t);o&&(a=i.call(a,Object.getOwnPropertySymbols(t)));for(var c=0;c<a.length;c+=1)s(e,a[c],t[a[c]],r[a[c]])};l.supportsDescriptors=!!u,e.exports=l}}]);
//# sourceMappingURL=navigation-search-dialog~b59ad437.6EzBfrFSFH.js.map