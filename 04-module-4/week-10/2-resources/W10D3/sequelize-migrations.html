<h1 id="sequelize-migrations">Sequelize Migrations</h1>
<h2 id="obtaining-the-query-interface">Obtaining the query interface</h2>
<p>First, we must obtain the query interface to communiate with the database.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> <span class="op">{</span> Sequelize<span class="op">,</span> DataTypes <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;sequelize&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">const</span> sequelize <span class="op">=</span> <span class="kw">new</span> <span class="at">Sequelize</span>(<span class="co">/* ... */</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">const</span> queryInterface <span class="op">=</span> <span class="va">sequelize</span>.<span class="at">getQueryInterface</span>()<span class="op">;</span></a></code></pre></div>
<h2 id="creating-a-table-with-sequelize">Creating a Table with Sequelize</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">queryInterface</span>.<span class="at">createTable</span>(<span class="st">&#39;TableName&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">columnName1</span><span class="op">:</span> <span class="va">DataTypes</span>.<span class="at">STRING</span><span class="op">,</span> <span class="co">// We must include the DataType that we expect for this column</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">columnName2</span><span class="op">:</span> <span class="op">{</span>  <span class="co">// The following is an object containing optional agruments for sequelize.</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="co">// These are called query options</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="dt">type</span><span class="op">:</span> <span class="va">DataTypes</span>.<span class="at">BOOLEAN</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-6" title="6">    <span class="dt">defaultValue</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-7" title="7">    <span class="dt">allowNull</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="adding-a-column-to-a-table">Adding a column to a table</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="va">queryInterface</span>.<span class="at">addColumn</span>(<span class="st">&#39;TableName&#39;</span><span class="op">,</span> <span class="st">&#39;columnName&#39;</span><span class="op">,</span> <span class="op">{</span> <span class="dt">type</span><span class="op">:</span> <span class="va">DataTypes</span>.<span class="at">STRING</span> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="updating-a-column">Updating a column</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="va">queryInterface</span>.<span class="at">changeColumn</span>(<span class="st">&#39;TableName&#39;</span><span class="op">,</span> <span class="st">&#39;columnName&#39;</span><span class="op">,</span> <span class="op">{</span>  <span class="co">// The following values are what will be used in the new column</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="dt">type</span><span class="op">:</span> <span class="va">DataTypes</span>.<span class="at">FLOAT</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="dt">defaultValue</span><span class="op">:</span> <span class="fl">3.14</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="dt">allowNull</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="removing-a-column">Removing a column</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="va">queryInterface</span>.<span class="at">removeColumn</span>(<span class="st">&#39;TableName&#39;</span><span class="op">,</span> <span class="st">&#39;columnName&#39;</span><span class="op">,</span> <span class="op">{</span> <span class="co">/* query options */</span> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
