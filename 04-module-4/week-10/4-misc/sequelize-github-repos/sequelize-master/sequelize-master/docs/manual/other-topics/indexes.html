<h1 id="indexes">Indexes</h1>
<p>Sequelize supports adding indexes to the model definition which will be created on <a href="../class/lib/sequelize.js~Sequelize.html#instance-method-sync"><code>sequelize.sync()</code></a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> User <span class="op">=</span> <span class="va">sequelize</span>.<span class="at">define</span>(<span class="st">&#39;User&#39;</span><span class="op">,</span> <span class="op">{</span> <span class="co">/* attributes */</span> <span class="op">},</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">indexes</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="co">// Create a unique index on email</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">      <span class="dt">unique</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">      <span class="dt">fields</span><span class="op">:</span> [<span class="st">&#39;email&#39;</span>]</a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="op">},</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="co">// Creates a gin index on data with the jsonb_path_ops operator</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="op">{</span></a>
<a class="sourceLine" id="cb1-11" title="11">      <span class="dt">fields</span><span class="op">:</span> [<span class="st">&#39;data&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-12" title="12">      <span class="dt">using</span><span class="op">:</span> <span class="st">&#39;gin&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-13" title="13">      <span class="dt">operator</span><span class="op">:</span> <span class="st">&#39;jsonb_path_ops&#39;</span></a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="op">},</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="co">// By default index name will be [table]_[fields]</span></a>
<a class="sourceLine" id="cb1-17" title="17">    <span class="co">// Creates a multi column partial index</span></a>
<a class="sourceLine" id="cb1-18" title="18">    <span class="op">{</span></a>
<a class="sourceLine" id="cb1-19" title="19">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;public_by_author&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-20" title="20">      <span class="dt">fields</span><span class="op">:</span> [<span class="st">&#39;author&#39;</span><span class="op">,</span> <span class="st">&#39;status&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-21" title="21">      <span class="dt">where</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-22" title="22">        <span class="dt">status</span><span class="op">:</span> <span class="st">&#39;public&#39;</span></a>
<a class="sourceLine" id="cb1-23" title="23">      <span class="op">}</span></a>
<a class="sourceLine" id="cb1-24" title="24">    <span class="op">},</span></a>
<a class="sourceLine" id="cb1-25" title="25"></a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="co">// A BTREE index with an ordered field</span></a>
<a class="sourceLine" id="cb1-27" title="27">    <span class="op">{</span></a>
<a class="sourceLine" id="cb1-28" title="28">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;title_index&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-29" title="29">      <span class="dt">using</span><span class="op">:</span> <span class="st">&#39;BTREE&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-30" title="30">      <span class="dt">fields</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb1-31" title="31">        <span class="st">&#39;author&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-32" title="32">        <span class="op">{</span></a>
<a class="sourceLine" id="cb1-33" title="33">          <span class="dt">attribute</span><span class="op">:</span> <span class="st">&#39;title&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-34" title="34">          <span class="dt">collate</span><span class="op">:</span> <span class="st">&#39;en_US&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-35" title="35">          <span class="dt">order</span><span class="op">:</span> <span class="st">&#39;DESC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-36" title="36">          <span class="dt">length</span><span class="op">:</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb1-37" title="37">        <span class="op">}</span></a>
<a class="sourceLine" id="cb1-38" title="38">      ]</a>
<a class="sourceLine" id="cb1-39" title="39">    <span class="op">}</span></a>
<a class="sourceLine" id="cb1-40" title="40">  ]</a>
<a class="sourceLine" id="cb1-41" title="41"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
