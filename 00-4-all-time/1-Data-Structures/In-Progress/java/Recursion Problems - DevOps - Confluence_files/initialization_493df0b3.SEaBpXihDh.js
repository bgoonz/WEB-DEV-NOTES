(window.webpackJsonp=window.webpackJsonp||[]).push([["initialization~493df0b3","fallback-mode-top-frame~91f4305a"],{"+xrG":function(n,e,t){"use strict";t.r(e);var o=t("HGgJ"),i=t("Jygk"),a=t.n(i);const r=(n,e)=>{if(!n)return;const t=new window.MutationObserver(e);return t.observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),t};function d(n,e,t){let o;return function(){const i=this,a=arguments,r=function(){o=null,t||n.apply(i,a)},d=t&&!o;clearTimeout(o),o=setTimeout(r,e),d&&n.apply(i,a)}}var c=(n,e)=>{const t=d(e,50),o=n.querySelectorAll("img");[].forEach.call(o,n=>{"true"!==n.dataset.fallbackImgLoadedListener&&(n.addEventListener("load",t),n.dataset.fallbackImgLoadedListener="true")})},l=(n,e,t)=>{let i,a=!1;document.addEventListener("click",n=>{n.srcElement&&"A"===n.srcElement.tagName&&(a=!0,i=n.srcElement.href,Object(o.a)(i,t,t=>{e(t),n.preventDefault(),a=!1}))}),window.addEventListener("beforeunload",()=>{a&&(a=!1,n(i))})},s=n=>{const e=d(n,50);window.addEventListener("resize",e)},u=t("Czhu"),f=t("jqY8");const p=n=>{const e=(n=>e=>{const t=Object(f.f)();let o=t.origin;o||(o=`${t.protocol}//${t.hostname}${t.port?":"+t.port:""}`),Object(f.c)().parent.postMessage(Object(u.a)(Object(u.a)({},e),{},{bridgeId:n}),o)})(n);return{onIframeLoaded:n=>{e((n=>({type:"iframeDOMContentLoaded",location:n}))(n))},pushLocationToParent:n=>{e((n=>({type:"postNextIframeLocation",nextLocation:n}))(n))},updateLocationToParent:n=>{e((n=>({type:"postUpdateIframeLocation",nextLocation:n}))(n))},updateIframeSize:()=>{e((()=>{const n=a.a.document.body.getBoundingClientRect();return{type:"postIframeSize",width:n.width,height:n.height}})())},updateIframeAnchor:n=>{e((n=>({type:"postUpdateIframeAnchor",anchor:n}))(n))}}};var g=t("z6J1"),w=t("frZf");function b(n){a.a.top.location=n}function m(n){!function(n){if(!n.key||"e"!==n.key.toLowerCase()||(e=n.target,-1!==["INPUT","TEXTAREA","BUTTON","SELECT"].indexOf(e.tagName)))return;var e;const{contentType:t,pageId:o}=Object(g.a)(a.a,document);w.a&&o&&t&&("page"===t?b(`${w.a}/pages/editpage.action?pageId=${o}`):"blogpost"===t&&b(`${w.a}/pages/editblogpost.action?pageId=${o}`))}(n)}t.d(e,"start",(function(){return y}));const y=(n,e)=>{const i=t=>{n.top.location=t,e.write("<style>body { display:none!important }</style>\x3c!--")},{isFallbackModeIframe:a,isIframeAllowed:d,isViewPageContentOnly:u,isWhitelisted:f,bridgeId:w,isSpaceOverview:b,isOverflowAllowed:y}=Object(g.a)(n,e),{onIframeLoaded:h}=p(w),v=f||d;if(a){if(u){const n=e.createElement("base");n.target="_top",e.getElementsByTagName("head")[0].appendChild(n)}v||i(n.location.href),d&&!f&&(e.addEventListener("DOMContentLoaded",()=>{t("HEvi"),t("6t7U"),t("04PE"),b&&e.querySelector("body").classList.add("space-overview"),y&&e.querySelector("html").classList.add("allow-overflow"),((n,e,t)=>{const{pushLocationToParent:o,updateIframeSize:i,updateIframeAnchor:a}=p(n),d=t.location.href;l(o,a,d),r(e.body,()=>{i(),c(e.body,i)}),s(i),c(e.body,i),i()})(w,e,n),h(n.location.href),e.querySelector("body").classList.add("dom-is-ready")}),e.addEventListener("keydown",m),n.addEventListener("load",()=>{Object(o.a)(n.location.href,n.location.href),e.querySelector("body").classList.add("document-has-loaded")}))}else if(u){const e=n.location.href,t=e.split("#")[1];let o=e.replace("/content-only/","/pages/").replace(/&iframeId=(.*)$/,"").replace(/#(.*)$/,"");o+=t?"#"+t:"",i(o)}}},"04PE":function(n,e,t){var o=t("8cg5");"string"==typeof o&&(o=[[n.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,i);o.locals&&(n.exports=o.locals)},"6t7U":function(n,e,t){var o=t("GQu/");"string"==typeof o&&(o=[[n.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,i);o.locals&&(n.exports=o.locals)},"8cg5":function(n,e,t){(n.exports=t("PBB4")(!1)).push([n.i,"body.cq-body {\n    overflow-y: visible;\n    background: #fff;\n    height: auto !important;\n    min-height: 500px;\n}\n\nbody.cq-body .aui-page-panel {\n    border-bottom: 0;\n}\n\nbody.cq-body .cq-page-header .aui-page-header-inner,\nbody.cq-body .cq-page-main .aui-page-panel-inner {\n    max-width: 1000px;\n    width: 100%;\n}\n\nbody.cq-body .cq-page-main .aui-page-panel-inner.cq-inner-no-fixed-width {\n    max-width: 100%;\n}\n\nbody.cq-body .onboarding {\n    position: relative;\n    padding-top: 110px;\n    width: 100%;\n}\n\nbody.cq-body .onboarding h1 {\n    text-transform: uppercase;\n    color: #707070;\n    font-size: 12px;\n    font-weight: bold;\n}\n\nbody.cq-body .onboarding .ask-question-image-container {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    margin-left: -60px;\n}\n\nbody.cq-body .onboarding .aui {\n    margin-top: 20px;\n}\n\n\nbody.cq-body #full-height-container {\n    height: auto;\n    background-color: #fff;\n}\n\n",""])},"GQu/":function(n,e,t){(n.exports=t("PBB4")(!1)).push([n.i,"body.confluence-inline-tasks {\n    padding-top: 10px;\n}\n\nbody.page-gadget.confluence-inline-tasks #main {\n    width: 100%;\n    padding-left: 10px;\n}\n",""])},HEvi:function(n,e,t){var o=t("L9TW");"string"==typeof o&&(o=[[n.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,i);o.locals&&(n.exports=o.locals)},HGgJ:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var o=t("Jygk"),i=t.n(o);function a(n,e,t){const[o]=e.split("#"),[a,r]=n.split("#");r&&a===o&&((n,e)=>{let t=n;0===n.indexOf("#")&&(t=n.substring(1));let o=i.a.document.getElementById(t);o||(o=i.a.document.querySelector(`[name="${t}"]`)),(n=>{if(!n)return;const e=n.style.display;n.style.display="inline-block",n.scrollIntoView(),n.style.display=e})(o),e&&e()})(r,t)}},L9TW:function(n,e,t){(n.exports=t("PBB4")(!1)).push([n.i,"html, body.page-gadget {\n    height: auto;\n    overflow: hidden;\n}\n\n.allow-overflow {\n    overflow: auto;\n}\n\n.allow-overflow body {\n    background-color: #fff;\n}\n\n.allow-overflow .aui-page-panel,\n.allow-overflow .ap-container iframe {\n    border: 0;\n}\n\nbody.page-gadget {\n    background: #fff;\n    opacity: 1;\n\n    /* We need a padding so the inline comments tooltip has some room to appear in the first line within fallback mode */\n    padding-top: 60px;\n}\n\nbody.page-gadget #page {\n    position: relative;\n}\n\nbody.page-gadget #main {\n    padding: 0;\n    position: static;\n\n    /* bring padding around iframe into content inside iframe so that inline-comment panel shows pretty */\n    width: calc(100% - 110px); /* 110px = (35px + 20px) * 2 */\n    margin: 0 auto;\n}\n\n/* custome style for fallback mode content in SpaceOverView */\nbody.page-gadget.space-overview #main {\n    width: calc(100% - 40px); /* 40px = 20px * 2 */\n}\n\nbody.page-gadget #main.aui-page-panel {\n    border-bottom: 0;\n}\n\nbody.page-gadget #page,\nbody.page-gadget #full-height-container {\n    height: auto;\n}\nbody.theme-default #full-height-container {\n    background-color: #fff;\n}\n\n",""])},jqY8:function(n,e,t){"use strict";function o(){return"undefined"!=typeof window?window.location:void 0}function i(){if("undefined"==typeof window||!window.location)return;let n=window.location.origin;return n||(n=`${window.location.protocol}//${window.location.hostname}${window.location.port?":"+window.location.port:""}`),n}function a(){"undefined"!=typeof window&&window.location.reload()}function r(n){return"undefined"==typeof window||window.confirm(n)}function d(...n){"undefined"!=typeof window&&window.addEventListener.apply(window,n)}function c(...n){"undefined"!=typeof window&&window.removeEventListener.apply(window,n)}function l(){return"undefined"==typeof window?0:window.pageYOffset}function s(){return"undefined"==typeof window?0:window.innerHeight}function u(...n){if(window&&window.require)return window.require.apply(window,n)}function f(){return window}t.d(e,"f",(function(){return o})),t.d(e,"g",(function(){return i})),t.d(e,"i",(function(){return a})),t.d(e,"b",(function(){return r})),t.d(e,"a",(function(){return d})),t.d(e,"j",(function(){return c})),t.d(e,"h",(function(){return l})),t.d(e,"e",(function(){return s})),t.d(e,"d",(function(){return u})),t.d(e,"c",(function(){return f}))},ogbR:function(n,e,t){"use strict";t.r(e);var o=t("axEa"),i=t("U63R"),a=t("8TdO"),r=t("pa2z"),d=t("hpu0");var c=t("BX6b"),l=t("cld1"),s=t("EfWO"),u=t.n(s),f=t("fYnN"),p=t.n(f),g=t("Jygk"),w=t.n(g);function b(n,e){const t=p.a.get(n);return"off"===e||"useFrontendBuildVersion"===n&&!e?p.a.remove(n):e&&p.a.set(n,e),p.a.get(n)!==t}var m=t("+xrG");t.d(e,"initialization",(function(){return h}));const y=Object(o.a)();function h(n){const{featureFlags:e,cloudId:o,environment:s,shard:f}=n;e["confluence.frontend.cookie.based.branch.deployment"]&&function(){const n=u.a.parse(w.a.location.href,!0);let e=null,t=null;if(n.query&&(n.query.useFrontendBranch||n.query.useFrontendBuildVersion)){e=n.query.useFrontendBranch,t=n.query.useFrontendBuildVersion;const o=b("useFrontendBranch",e),i=b("useFrontendBuildVersion",t);(o||i)&&w.a.location.assign(u.a.format({pathname:n.pathname,query:n.query,hash:n.hash}))}}(),Object(a.a)(),e["confluence.frontend.experience-tracker.improved-aborting"]&&Object(d.b)().enableImprovedAborting(),Object(m.start)(window,window.document),e["confluence.frontend.new-sentry-client"]&&Object(c.a)(),e["confluence.frontend.sentry-sla-failures"]&&Object(c.b)(),Object(c.c)().updateContext({releaseId:"localhost"===window.location.hostname?void 0:Object(r.a)().FRONTEND_VERSION,tenantId:o,shard:f,environment:"localhost"===window.location.hostname?"DEVELOPMENT":s}),Object(l.initializeAnalyticsClient)({cloudId:n.cloudId,userId:n.userIdForAnalytics,locale:n.locale,environment:n.environment,featureFlagClient:n.featureFlagClient,shouldFilterEvents:n.featureFlags["confluence.frontend.filter-events"]}),y.push({name:"BackgroundInitialization",task:()=>{window.__CONFLUENCE_SUPPORT=()=>{const n={version:Object(r.a)().FRONTEND_VERSION,tinymce:window.tinymce?`${window.tinymce.majorVersion}.${window.tinymce.minorVersion}`:void 0,activeEditor:!(!window.tinymce||!window.tinymce.activeEditor)||void 0};return JSON.stringify(n)},Promise.all([t.e("web-vitals~2dcfd565").then(t.bind(null,"7t6h")),t.e("web-vitals~2dcfd565").then(t.t.bind(null,"ELgO",7))]).then(([{getTTFB:n,getFCP:e,getLCP:t,getCLS:o},i])=>{const a=Object(c.c)(),r=({name:n,value:e})=>{a.submitPerformanceMetric(n.toLowerCase(),e)};n(r),e(r),t(r),o(r),i.getFirstConsistentlyInteractive().then(n=>{a.submitPerformanceMetric("tti",n)})}).catch(n=>Object(c.c)().submitError(n,{attribution:"unknown"})),t.e("service-worker-client~493df0b3").then(t.bind(null,"QPsM")).then(({register:n})=>{n()}),t.e("legacy-components~21833f8f").then(t.bind(null,"KkmZ")).then(({initializeLegacyMessageQueue:n})=>{n()}),t.e("legacy-components~21833f8f").then(t.bind(null,"VG8/")).then(({setupLegacyAnalytics:n})=>{n()})},priority:i.a.BACKGROUND})}},z6J1:function(n,e,t){"use strict";var o={};function i(n,e){const t=n.getElementsByName(e)[0];return t&&t.getAttribute("content")||""}e.a=(n,e)=>{const t=n.location.href,a="true"===i(e,"ajs-iframe-allowed-for-spa")||!1,r=void 0!==n.__SKIP_FALLBACK_MODE__&&n.__SKIP_FALLBACK_MODE__||(d=t,Object.keys(o).filter(n=>-1!==d.indexOf(o[n])).length>0);var d;return{spaceKey:i(e,"confluence-space-key"),isIframeAllowed:a,isWhitelisted:r,isViewPageContentOnly:t.indexOf("/content-only/")>-1,isFallbackModeIframe:function(n){if(n.top===n.self)return!1;const e=n.frameElement&&n.frameElement.getAttribute("data-is-fallback-mode-iframe");return!(!e||"true"!==e)}(n),bridgeId:function(n){return n.frameElement&&n.frameElement.getAttribute("data-bridge-id")}(n),isSpaceOverview:t.indexOf("isSpaceOverview=true")>0,isOverflowAllowed:-1!==decodeURIComponent(function(n){return n.location&&n.location.search?n.location.search.substr(1).split("&").reduce((n,e)=>{const[t,o]=e.split("=");return n[t]=decodeURIComponent(o),n},{}):{}}(n).addonUrl||t).indexOf("/customcontent/"),darkFeatures:(i(e,"ajs-enabled-dark-features")||"").split(","),contentType:i(e,"ajs-content-type")||"",pageId:i(e,"ajs-page-id")}}}}]);
//# sourceMappingURL=initialization~493df0b3.SEaBpXihDh.js.map