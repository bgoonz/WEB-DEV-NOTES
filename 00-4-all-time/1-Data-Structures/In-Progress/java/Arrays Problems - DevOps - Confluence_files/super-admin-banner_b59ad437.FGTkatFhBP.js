(window.webpackJsonp=window.webpackJsonp||[]).push([["super-admin-banner~b59ad437","super-admin-expiration~dade3008","super-admin-satisfaction-survey~0a2efa80"],{"/MSF":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return c}));var n=i("EfWO"),a=i("ERkP"),s=i.n(a),r=i("L21V");const o="https://support.atlassian.com/contact/#/",c=({showHostname:e,children:t})=>s.a.createElement("a",{href:o,target:"_blank"},s.a.Children.count(t)?t:(e=>e?Object(n.parse)(o).hostname:s.a.createElement(r.b,{id:"error-boundary.description.support-link",description:"The text of the link which will lead the user to the Atlassian Support web site",defaultMessage:"Atlassian Support"},e=>e))(e))},B5Kc:function(e,t,i){"use strict";var n=i("zjfJ"),a=i("ERkP"),s=i.n(a),r=(i("aWzz"),i("gQ5V")),o=i("L21V"),c=i("lZoD"),d=i("/MSF"),u=i("qhEF"),l=i("wKA4"),p=i("n9CL"),m=i("H5qd");const h=i.n(m).a`mutation DisableSuperAdmin{disableSuperAdmin{user{id confluence{roles{isSuperAdmin}}}}}`;i.d(t,"a",(function(){return S}));const f=Object(o.f)({disableSuperAdminErrorTitle:{id:"super-admin.disable.super.admin.error.title",defaultMessage:"Something went wrong",description:"Title for the error if disabling Super Admin fails"},disableSuperAdminErrorDescription:{id:"super-admin.disable.super.admin.error.description-with-link",defaultMessage:"If this keeps happening, let us know at {atlassianSupportLink}",description:"Description for the error if disabling Super Admin fails"}});class b extends a.Component{constructor(...e){super(...e),Object(n.a)(this,"handleMutationComplete",e=>t=>{var i;const{handleMutationCompleteCallback:n}=this.props;(null!=(i=t)&&null!=(i=i.disableSuperAdmin)&&null!=(i=i.user)&&null!=(i=i.confluence)&&null!=(i=i.roles)?i.isSuperAdmin:i)||!1?this.handleMutationError(e)():(Object(l.b)(),Object(p.f)(),n(),window.location.reload())}),Object(n.a)(this,"handleMutationError",e=>()=>{const{intl:t,handleMutationErrorCallback:i}=this.props;e.showErrorFlag({title:t.formatMessage(f.disableSuperAdminErrorTitle),description:t.formatMessage(f.disableSuperAdminErrorDescription,{atlassianSupportLink:s.a.createElement(d.b,{showHostname:!0})})}),i()}),Object(n.a)(this,"render",()=>s.a.createElement(c.c,{to:[u.a]},e=>s.a.createElement(r.a,{mutation:h,onCompleted:this.handleMutationComplete(e),onError:this.handleMutationError(e)},t=>this.props.children(t,e))))}}Object(n.a)(b,"defaultProps",{handleMutationCompleteCallback:()=>{},handleMutationErrorCallback:()=>{}});const S=Object(o.g)(b)},IkOR:function(e,t,i){"use strict";i.r(t);var n=i("zjfJ"),a=i("ERkP"),s=i.n(a),r=i("lbXe"),o=(i("aWzz"),i("oayO")),c=i("SRtI"),d=i("B5Kc"),u=i("L21V"),l=i("KsTJ"),p=i("n9CL");class m extends a.Component{constructor(...e){super(...e),Object(n.a)(this,"state",{countdown:0,interval:void 0}),Object(n.a)(this,"startCountdown",()=>{this.props.initialCountdown>0&&this.setState({countdown:this.props.initialCountdown},()=>this.setState({interval:setInterval(this.intervalHandler,1e3)}))}),Object(n.a)(this,"stopCountdown",()=>{clearInterval(this.state.interval)}),Object(n.a)(this,"intervalHandler",()=>{this.state.countdown>0?this.decrementCountdown():this.stopCountdown()}),Object(n.a)(this,"decrementCountdown",()=>{this.setState({countdown:this.state.countdown-1})})}componentDidMount(){this.startCountdown()}componentWillUnmount(){this.stopCountdown()}render(){return this.state.countdown}}const h=Object(u.f)({timeoutSuperAdminTitle:{id:"super-admin.timeout.super.admin.title",defaultMessage:"Still there?",description:"Title for the flag for Admin Key expiry notification"},superAdminTimerFlagAction:{id:"super-admin.timer.flag.action",defaultMessage:"Keep using admin key",description:"Text for the action on Super Admin timeout flag"}}),f=l.default.div`
  font-weight: bold;
  display: inline;
`,b=()=>{};class S extends a.Component{constructor(...e){super(...e),Object(n.a)(this,"state",{flagId:void 0}),Object(n.a)(this,"handleAKTimeout",(e,t,i)=>{Object(p.b)(Object(p.c)())({beforeNotify:()=>this.waitFor1Second(()=>{i&&this.hideFlag(t),this.handleAKTimeout(e,t,!1)}),afterNotify:n=>this.waitFor1Second(()=>{i||this.showFlag(t,n),this.handleAKTimeout(e,t,!0)}),afterExpiry:()=>e(),noTimeout:b})}),Object(n.a)(this,"waitFor1Second",e=>{setTimeout(e,1e3)}),Object(n.a)(this,"showFlag",(e,t)=>{const{intl:i}=this.props;e.showWarningFlag({title:i.formatMessage(h.timeoutSuperAdminTitle),description:this.renderFlagDescription(t),actions:[{content:i.formatMessage(h.superAdminTimerFlagAction),onClick:this.onClickKeepUsing(e)}]}).then(e=>this.setState({flagId:e.id}))}),Object(n.a)(this,"renderFlagDescription",e=>s.a.createElement(u.b,{id:"super-admin.timeout.super.admin.description",defaultMessage:"Due to inactivity, you will be signed out in {counter}.",description:"Description  for the flag for Admin Key expiry notification",values:{counter:s.a.createElement(f,null,s.a.createElement(u.b,{id:"super-admin.timeout.super.admin.description.counter",defaultMessage:"{counter} seconds",description:"Part of description for the flag for Admin Key expiry notification",values:{counter:s.a.createElement(m,{initialCountdown:Object(p.d)(e)})}}))}})),Object(n.a)(this,"onClickKeepUsing",e=>()=>{Object(p.e)(),this.fireAdminKeyExtendedAnalyticsEvent(),this.hideFlag(e)}),Object(n.a)(this,"fireAdminKeyExtendedAnalyticsEvent",()=>{this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{source:"superAdminExpiration",action:"extended",actionSubject:"adminKeySession"}}).fire()})}componentDidMount(){const{disableSuperAdminTrigger:e,flags:t}=this.props;this.handleAKTimeout(e,t,!1)}hideFlag(e){void 0!==this.state.flagId&&e.hideFlag(this.state.flagId)}render(){return null}}const g=Object(r.a)()(Object(u.g)(S)),y=Object(u.f)({sessionExpirationTitle:{id:"super-admin.session.expiration.title",defaultMessage:"Access to restricted pages has ended",description:"Title for Super admin session expiration flag"},sessionExpirationDescription:{id:"super-admin.session.expiration.description",defaultMessage:"You’ve been inactive for a while. To keep things secure, we’ve ended your access to restricted pages.",description:"Description for Super admin session expiration flag"}});class v extends a.Component{constructor(...e){super(...e),Object(n.a)(this,"showFlag",()=>{const{flags:e,intl:t}=this.props;e.showInfoFlag({title:t.formatMessage(y.sessionExpirationTitle),description:t.formatMessage(y.sessionExpirationDescription)})})}componentDidMount(){o.a.getAndRemoveItem(c.b.SUPERADMIN_SESSION_EXPIRED)&&this.showFlag()}render(){return null}}const E=Object(u.g)(v);i.d(t,"SuperAdminExpiration",(function(){return O}));class A extends a.Component{constructor(...e){super(...e),Object(n.a)(this,"fireAdminKeyExpiredAnalyticsEvent",()=>{this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{source:"superAdminExpiration",action:"expired",actionSubject:"adminKeySession"}}).fire()}),Object(n.a)(this,"deleteStoredRestrictedPage",()=>o.a.removeItem(c.b.RESTRICTED_PAGE_CONFIRMED)),Object(n.a)(this,"fireAdminKeyExpiryFailedAnalyticsEvent",()=>this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"failed",actionSubject:"exitAdminKeySession",source:"superAdminExpiration"}}).fire()),Object(n.a)(this,"setAKSessionExpired",()=>o.a.setItem(c.b.SUPERADMIN_SESSION_EXPIRED,!0,Object(p.a)(new Date,10))),Object(n.a)(this,"render",()=>s.a.createElement(d.a,{handleMutationCompleteCallback:()=>{this.fireAdminKeyExpiredAnalyticsEvent(),this.deleteStoredRestrictedPage(),this.setAKSessionExpired()},handleMutationErrorCallback:()=>(this.fireAdminKeyExpiryFailedAnalyticsEvent(),Promise.resolve())},(e,t)=>s.a.createElement(a.Fragment,null,s.a.createElement(g,{flags:t,disableSuperAdminTrigger:e}),s.a.createElement(E,{flags:t}))))}}const O=Object(r.a)()(A)},LjTg:function(e,t,i){"use strict";var n=i("aWzz"),a=i.n(n),s=i("1U1M"),r=i("wKA4"),o=i("H5qd");const c=i.n(o).a`query IsSuperAdmin{user(current:true){id confluence{roles{isSuperAdmin}}}}`;i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return u}));const d=()=>{var e,t,i;const n=Object(r.a)(),{loading:a,error:o,data:d}=Object(s.d)(c,{skip:!n});return n?{loading:a,error:o,isSuperAdmin:Boolean(null==d||null===(e=d.user)||void 0===e||null===(t=e.confluence)||void 0===t||null===(i=t.roles)||void 0===i?void 0:i.isSuperAdmin)}:{loading:!1,isSuperAdmin:!1}},u=({children:e})=>{const{isSuperAdmin:t,loading:i,error:n}=d();return e({loading:i,error:n,isSuperAdmin:t})};u.propTypes={children:a.a.func.isRequired}},"OC/i":function(e,t,i){"use strict";i.r(t),i.d(t,"SuperAdminBannerComponent",(function(){return O})),i.d(t,"SuperAdminBanner",(function(){return j}));var n=i("zjfJ"),a=i("ERkP"),s=i.n(a),r=(i("aWzz"),i("L21V")),o=i("KsTJ"),c=i("lZoD"),d=i("kH24"),u=i("OOEx"),l=i.n(u),p=i("lbXe"),m=i("WWAs"),h=i("oayO"),f=i("SRtI"),b=i("wKA4"),S=i("LjTg"),g=i("yJma"),y=i("B5Kc"),v=i("IkOR");const E=o.default.div`
  width: 100%;
`,A=o.default.a`
  color: inherit;
  cursor: pointer;
  font-weight: normal;
  margin-left: 5px;
  text-decoration: underline;
`;class O extends a.Component{constructor(...e){super(...e),Object(n.a)(this,"state",{surveyIsVisible:!1}),Object(n.a)(this,"componentDidMount",()=>{const e=h.a.getItemAsBoolean(f.b.SUPERADMIN_SURVEY_REQUESTED);e&&this.setState({surveyIsVisible:e})}),Object(n.a)(this,"showSurvey",e=>{h.a.getItemAsBoolean(f.b.SUPERADMIN_SURVEY_SUBMITTED)||(h.a.setItem(f.b.SUPERADMIN_SURVEY_REQUESTED,"true"),e&&this.setState({surveyIsVisible:!0}))}),Object(n.a)(this,"hideSurvey",()=>{h.a.removeItem(f.b.SUPERADMIN_SURVEY_REQUESTED),this.setState({surveyIsVisible:!1})}),Object(n.a)(this,"hideBanner",e=>(e.hide("SuperAdminBanner"),null)),Object(n.a)(this,"fireAdminKeyExitAnalyticsEvent",()=>this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:"adminKeyExit",source:"superAdminBanner"}}).fire()),Object(n.a)(this,"fireAdminKeyExitFailedAnalyticsEvent",()=>this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"failed",actionSubject:"exitAdminKeySession",source:"superAdminBanner"}}).fire()),Object(n.a)(this,"deleteStoredRestrictedPage",()=>h.a.removeItem(f.b.RESTRICTED_PAGE_CONFIRMED)),Object(n.a)(this,"handleMutationCompleteCallback",()=>{this.showSurvey(!1),this.deleteStoredRestrictedPage(),this.fireAdminKeyExitAnalyticsEvent()}),Object(n.a)(this,"handleMutationErrorCallback",()=>Promise.resolve(this.fireAdminKeyExitFailedAnalyticsEvent())),Object(n.a)(this,"renderBanner",e=>{const t=s.a.createElement(l.a,{size:"medium",secondaryColor:"fill"}),i=this,n=t=>{if(t){const n=t.clientHeight;i.setState({bannerHeight:n}),e.show("SuperAdminBanner",n)}};return s.a.createElement(y.a,{handleMutationCompleteCallback:this.handleMutationCompleteCallback,handleMutationErrorCallback:this.handleMutationErrorCallback},e=>s.a.createElement(a.Fragment,null,s.a.createElement(E,null,s.a.createElement(d.a,{appearance:"warning",icon:t,isOpen:!0,innerRef:n},s.a.createElement(r.b,{id:"super-admin.banner.message",description:"Message in the banner to notify users of super admin mode",defaultMessage:"You’re using admin key, which gives you temporary access to restricted pages."}),s.a.createElement(A,{onClick:e},s.a.createElement(r.b,{id:"super-admin.banner.exit",description:"Click to action in banner to allow users to exit super admin mode",defaultMessage:"Stop using admin key"}))))))})}renderQuery(e){return Object(b.a)()?s.a.createElement(S.a,null,({loading:t,error:i,isSuperAdmin:n})=>t||i?null:n?this.renderBanner(e):this.hideBanner(e)):null}render(){return s.a.createElement(c.c,{to:[m.a]},e=>s.a.createElement(a.Fragment,null,this.renderQuery(e),this.state.surveyIsVisible?s.a.createElement(g.SuperAdminSatisfactionSurvey,{onDone:this.hideSurvey}):null,s.a.createElement(v.SuperAdminExpiration,null)))}}const j=Object(p.a)()(Object(r.g)(O))},WWAs:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return c}));var n=i("Czhu"),a=i("zjfJ"),s=i("lZoD"),r=i("+FBq");const o=(e,t)=>t.indexOf(t.filter(t=>t.name===e)[0]);class c extends s.a{constructor(...e){super(...e),Object(a.a)(this,"state",{banners:[],isTopNavEnabled:!1}),Object(a.a)(this,"_updateServerRenderedBanners",e=>{0===e?this.hide("ServerRenderedBanners"):this.show("ServerRenderedBanners",e)}),Object(a.a)(this,"setTopNavEnabled",e=>{this.state.isTopNavEnabled!==e&&this.setState(t=>Object(n.a)(Object(n.a)({},t),{},{isTopNavEnabled:e}))}),Object(a.a)(this,"show",(e,t)=>{const i=o(e,this.state.banners);-1===i?this.setState(i=>{const a=[...i.banners];return a.push({name:e,height:t}),Object(n.a)(Object(n.a)({},i),{},{banners:a})}):this.state.banners[i].height!==t&&this.setState(e=>{const a=[...e.banners];return a[i].height=t,Object(n.a)(Object(n.a)({},e),{},{banners:a})})}),Object(a.a)(this,"hide",e=>{const t=o(e,this.state.banners);t>-1&&this.setState(e=>{const i=[...e.banners];return i.splice(t,1),Object(n.a)(Object(n.a)({},e),{},{banners:i})})}),Object(a.a)(this,"getTotalHeight",e=>{const t=this.state.isTopNavEnabled&&!1!==(e&&e.includeTopNav);return this.state.banners.reduce((e,t)=>e+t.height,t?r.c:0)})}}},kH24:function(e,t,i){"use strict";var n=i("ERkP"),a=i.n(n),s=i("KsTJ"),r=i("3IV/"),o=i("w301"),c=i("BMbf"),d=i("ZgvQ");const u=Object(o.a)("appearance",{error:{light:r.R400,dark:r.R300},warning:{light:r.Y300,dark:r.Y300},announcement:{light:r.N500,dark:r.N500}}),l=s.default.div`
  max-height: ${({appearance:e})=>"announcement"===e?"88px":"52px"};
  overflow: ${({appearance:e})=>"announcement"===e?"scroll":"visible"};
  background-color: ${u};
`,p=(r.R400,r.N0,Object(o.a)("appearance",{error:{light:r.N0,dark:r.DN40},warning:{light:r.N700,dark:r.DN40},announcement:{light:r.N0,dark:r.N0}})),m=s.default.div`
  align-items: center;
  background-color: ${u};
  color: ${p};
  display: flex;
  fill: ${u};
  font-weight: 500;
  justify-content: center;
  padding: ${Object(d.multiply)(c.h,1.5)}px;
  text-align: center;
  ${""}

  margin: auto;
  ${({appearance:e})=>"announcement"===e?"max-width: 876px;":""} transition: color ${"0.25s ease-in-out"};

  a,
  a:visited,
  a:hover,
  a:active,
  a:focus {
    color: ${p};
    text-decoration: underline;
  }
`,h=s.default.span`
  align-items: center;
  display: flex;
  flex-direction: column;
  flex: 0 0 auto;
`,f=s.default.div`
  max-height: ${e=>e.isOpen?e.bannerHeight:0}px;
  overflow: hidden;
  transition: max-height ${"0.25s ease-in-out"};
`,b=s.default.span`
  flex: 0 1 auto;
  padding: ${Object(d.divide)(c.h,2)}px;
  ${({appearance:e})=>"announcement"===e?"":s.css`
        text-overflow: ellipsis;
        white-space: nowrap;
      `};
  overflow: hidden;
`;class S extends a.a.Component{constructor(){super(...arguments),this.state={height:0},this.getHeight=()=>{this.containerRef&&this.setState({height:this.containerRef.clientHeight})},this.innerRef=e=>{this.containerRef=e,this.props.innerRef&&this.props.innerRef(e),this.getHeight()}}render(){const{appearance:e,children:t,icon:i,isOpen:n,testId:s}=this.props;return a.a.createElement(f,{bannerHeight:this.state.height,isOpen:n},a.a.createElement(l,{innerRef:this.innerRef,appearance:e,"aria-hidden":!n,role:"alert","data-testid":s},a.a.createElement(m,{appearance:e},a.a.createElement(h,null,i),a.a.createElement(b,{appearance:e},t))))}}S.defaultProps={appearance:"warning",isOpen:!1};t.a=S},n9CL:function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"f",(function(){return u})),i.d(t,"e",(function(){return l}));var n=i("daKX");const a=Object(n.a)("super-admin"),s="confluence.super.admin.timeout",r=e=>Math.round((e-(new Date).getTime())/1e3),o=(e,t)=>new Date(e.getTime()+1e3*t),c=e=>({beforeNotify:t,afterNotify:i,afterExpiry:n,noTimeout:a})=>{if(e){const a=r(e),s=a<=60;return a>0?s?i(e):t(e):n(e)}return a()},d=()=>localStorage.getItem(s),u=()=>{localStorage.removeItem(s)},l=()=>{var e,t;(e=>{try{localStorage.setItem(s,e)}catch(t){a.error`Unable to set local storage. key = "${s}", value = "${e}"`}})((e=new Date,t=10,o(e,60*t)).getTime())}},ntAl:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return r}));var n=i("RfuI");const a=Object(n.a)({id:"ejl3d",name:"SatisfactionSurveyFlag",loader:async()=>(await Promise.all([i.e("atlaskit~66e23772"),i.e("vendors~4134d62c"),i.e(0),i.e(1),i.e("satisfaction-survey~b59ad437")]).then(i.bind(null,"EyvQ"))).SatisfactionSurveyFlag}),s=Object(n.a)({id:"Y43Qa",name:"SatisfactionSurveyComponent",loader:async()=>(await Promise.all([i.e("atlaskit~66e23772"),i.e("vendors~4134d62c"),i.e(0),i.e(1),i.e("satisfaction-survey~b59ad437")]).then(i.bind(null,"d1uF"))).SatisfactionSurveyComponent}),r=Object(n.a)({id:"s1vEV",name:"SatisfactionSurveyModal",loader:async()=>(await Promise.all([i.e("atlaskit~66e23772"),i.e("vendors~4134d62c"),i.e(0),i.e(1),i.e("satisfaction-survey~b59ad437")]).then(i.bind(null,"FA/R"))).SatisfactionSurveyModal})},yJma:function(e,t,i){"use strict";i.r(t);var n=i("zjfJ"),a=i("ERkP"),s=i.n(a),r=(i("aWzz"),i("L21V")),o=i("lbXe"),c=i("cGYM"),d=i("ntAl"),u=i("oayO"),l=i("SRtI");const p=Object(r.f)({superAdminSatisfactionSurveyTitle:{id:"super-admin.satisfaction.survey.title",defaultMessage:"How was your admin key experience?",description:"Title for Admin Key Satisfaction Survey, shown after exiting Admin Key mode"},superAdminSatisfactionSurveyFinalTitle:{id:"super-admin.satisfaction.survey.final.title",defaultMessage:"Thank you",description:"Final title for Admin Key Satisfaction Survey after submission"},superAdminSatisfactionSurveyFinalDescription:{id:"super-admin.satisfaction.survey.final.description",defaultMessage:"Your feedback has been submitted",description:"Final Description for Admin Key Satisfaction Survey after submission"},superAdminSatisfactionSurveyReactionTerrible:{id:"super-admin.satisfaction.survey.reaction.terrible",defaultMessage:"Terrible",description:"Reaction icon tooltip for terrible"},superAdminSatisfactionSurveyReactionBad:{id:"super-admin.satisfaction.survey.reaction.bad",defaultMessage:"Bad",description:"Reaction icon tooltip for bad"},superAdminSatisfactionSurveyReactionOkay:{id:"super-admin.satisfaction.survey.reaction.okay",defaultMessage:"Okay",description:"Reaction icon tooltip for okay"},superAdminSatisfactionSurveyReactionGreat:{id:"super-admin.satisfaction.survey.reaction.great",defaultMessage:"Great",description:"Reaction icon tooltip for great"},superAdminSatisfactionSurveyReactionAmazing:{id:"super-admin.satisfaction.survey.reaction.amazing",defaultMessage:"Amazing",description:"Reaction icon tooltip for amazing"},superAdminSatisfactionSurveyQuestionBad:{id:"super-admin.satisfaction.survey.question.bad",defaultMessage:"We're sorry to hear that. What went wrong? (optional)",description:"Prompt for additional feedback when the user is unhappy"},superAdminSatisfactionSurveyQuestionGood:{id:"super-admin.satisfaction.survey.question.good",defaultMessage:"Thanks! What did you like about it? What could be improved? (optional)",description:"Prompt for additional feedback when the user is happy"},superAdminSatisfactionSurveyButtonSubmit:{id:"super-admin.satisfaction.survey.button.submit",defaultMessage:"Submit",description:"Button to submit the survey"},superAdminSatisfactionSurveyButtonClose:{id:"super-admin.satisfaction.survey.button.close",defaultMessage:"Close",description:"Button to close the survey without submitting"}});i.d(t,"SuperAdminSatisfactionSurveyComponent",(function(){return m})),i.d(t,"SuperAdminSatisfactionSurvey",(function(){return h}));class m extends a.Component{constructor(...e){super(...e),Object(n.a)(this,"state",{eventSent:!1}),Object(n.a)(this,"initializeText",()=>{if(!this.formQuestions){const{intl:e}=this.props;this.title=e.formatMessage(p.superAdminSatisfactionSurveyTitle),this.finalTitle=e.formatMessage(p.superAdminSatisfactionSurveyFinalTitle),this.finalDescription=e.formatMessage(p.superAdminSatisfactionSurveyFinalDescription),this.submitButtonText=e.formatMessage(p.superAdminSatisfactionSurveyButtonSubmit),this.closeButtonText=e.formatMessage(p.superAdminSatisfactionSurveyButtonClose),this.reactionTitles=[e.formatMessage(p.superAdminSatisfactionSurveyReactionTerrible),e.formatMessage(p.superAdminSatisfactionSurveyReactionBad),e.formatMessage(p.superAdminSatisfactionSurveyReactionOkay),e.formatMessage(p.superAdminSatisfactionSurveyReactionGreat),e.formatMessage(p.superAdminSatisfactionSurveyReactionAmazing)];const t=e.formatMessage(p.superAdminSatisfactionSurveyQuestionBad),i=e.formatMessage(p.superAdminSatisfactionSurveyQuestionGood);this.formQuestions=[t,t,i,i,i]}}),Object(n.a)(this,"fireAnalyticsEvent",({reaction:e=null,feedback:t="",submitted:i=!1})=>{const{createAnalyticsEvent:n}=this.props;t=i?t:"",n({type:"sendTrackEvent",data:{action:"submitted",actionSubject:"adminKeyFeedbackSurvey",attributes:{reaction:i&&e?e.value:0,feedback:Object(c.a)(t)},source:"adminKeyCsatSurvey"}}).fire()}),Object(n.a)(this,"markUserAsSubmitted",()=>{u.a.setItem(l.b.SUPERADMIN_SURVEY_SUBMITTED,"true",259200)}),Object(n.a)(this,"handleInteraction",async e=>{const{onDone:t}=this.props,{eventSent:i}=this.state;i||(this.fireAnalyticsEvent(e),e.submitted&&this.markUserAsSubmitted(),await this.setState({eventSent:!0})),e.dismissed&&t()})}render(){const{eventSent:e}=this.state;return this.initializeText(),s.a.createElement(d.b,{size:"medium",title:this.title,description:"",finalTitle:this.finalTitle,finalDescription:this.finalDescription,reactionTitles:this.reactionTitles,formQuestions:this.formQuestions,submitButtonText:this.submitButtonText,closeButtonText:this.closeButtonText,onInteraction:this.handleInteraction,isOnFinalStage:e,autoHideTime:-1,autoHideFinalTime:2e3})}}const h=Object(o.a)()(Object(r.g)(m))}}]);
//# sourceMappingURL=super-admin-banner~b59ad437.FGTkatFhBP.js.map