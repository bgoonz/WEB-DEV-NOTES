(window.webpackJsonp=window.webpackJsonp||[]).push([["copy-space-permissions~b59ad437"],{"/MSF":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n("EfWO"),i=n("ERkP"),o=n.n(i),r=n("L21V");const s="https://support.atlassian.com/contact/#/",c=({showHostname:e,children:t})=>o.a.createElement("a",{href:s,target:"_blank"},o.a.Children.count(t)?t:(e=>e?Object(a.parse)(s).hostname:o.a.createElement(r.b,{id:"error-boundary.description.support-link",description:"The text of the link which will lead the user to the Atlassian Support web site",defaultMessage:"Atlassian Support"},e=>e))(e))},"/yy9":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const a=100,i=350,o=700},"0L74":function(e,t,n){"use strict";var a=n("Czhu"),i=n("ERkP"),o=n.n(i),r=n("L21V"),s=n("1U1M"),c=n("KsTJ"),l=n("z9P0"),u=n("YkBR"),p=n("6n9r"),d=n("pm4f"),m=n("KQKp"),f=n("H5qd"),h=n.n(f),b=n("uMk2"),g=n("mu/F");const y=h.a`query CopySpacePermissionsSelectorQuery{...EditionFragment ...UserPrivilegeFragment}${b.a}${g.a}`,E=c.default.div`
  margin-top: 7px;
`,O=c.default.label`
  display: inline-block;
  margin-right: 15px;
  padding: 5px 0 0 0;
  text-align: right;
  width: 130px;
  word-wrap: break-word;
`,S={display:"inline-block",marginTop:"2px",width:"300px"},v={container:e=>Object(a.a)(Object(a.a)({},e),S)};var j=n("V4Gf"),w=n("6+Wb"),I=n("rx1S"),P=n("ZUFC"),C=n("+352"),k=n("mvtW"),M=n("46jh"),N=n("xkEZ"),T=n("X2PC");const A=Object(N.b)({attribution:T.a.MISSION_CONTROL})(Object(M.a)((function({analyticsEventSourceName:e}){return o.a.createElement(P.a,{autoFocus:!1,appearanceType:C.l.FLAT,body:o.a.createElement(r.b,{id:"copy-space-permissions.upsell.message",defaultMessage:"Quickly copy your unique permissions from another space with Premium",description:"Message to the user about copy space permissions",tagName:"p"}),upgradeEditionActionSubjectId:"copySpacePermissionsUpsellTryNow",learnMoreLinkActionSubjectId:"copySpacePermissionsUpsellLearnMore",source:e,targetEdition:k.a.PREMIUM,title:o.a.createElement(r.b,{id:"copy-space-permissions.upsell.title",defaultMessage:"Upgrade to copy permissions",description:"Title for the Copy Space Permissions upsell section"})})})));var x=n("3IV/");const{N0:R,N200:_}=x,F=c.default.div`
  font-size: 14px;
`,L=c.default.div`
  color: ${e=>e.isSelected?""+R:""+_};
  font-size: 12px;
`,D=c.default.div`
  padding: 3px 4px;
`,U=({label:e,description:t,isSelected:n})=>o.a.createElement(D,null,o.a.createElement(F,null,e),o.a.createElement(L,{isSelected:n},t)),B=Object(r.g)((function({analyticsEventSourceName:e,options:t,defaultValue:n,intl:i,label:s,onChange:c,onMenuOpen:l,showUpsell:u,value:p,isDisabled:d}){const m=[{label:i.formatMessage(z.onlyVisibleToMe),description:i.formatMessage(z.onlyVisibleToMeDescription),value:j.a.ONLY_VISIBLE_TO_ME},{label:i.formatMessage(z.defaultPermissions),description:i.formatMessage(z.defaultPermissionsDescription),value:j.a.DEFAULT_PERMISSIONS},{label:i.formatMessage(z.copyPermissions),description:i.formatMessage(z.copyPermissionsDescription),value:j.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE},{label:"",value:"",alternateComponent:o.a.createElement(A,{analyticsEventSourceName:e}),isDisabled:!0}].filter(({value:e})=>""===e?u:-1!==t.indexOf(e)),f=o.a.createElement(I.a,{className:"single-select",classNamePrefix:"option-select",components:{Option:V},defaultValue:m.find(e=>e.value===n),formatOptionLabel:H,id:"copy-space-perms-option-select",isDisabled:d||1===m.length,maxMenuHeight:350,onChange:e=>{"function"==typeof c&&c(e.value)},onMenuOpen:()=>{"function"==typeof l&&l()},options:m,placeholder:i.formatMessage(z.placeholder),styles:v,value:m.find(e=>e.value===p)});return s?o.a.createElement("div",null,o.a.createElement(O,{htmlFor:"copy-space-perms-option-select"},o.a.createElement(r.b,Object(a.a)({},s))),f):f})),H=(e,{context:t,selectValue:n})=>{if("menu"===t){var a;const t=null!=(a=n)&&null!=(a=a[0])?a.value:a,i=!!t&&t===e.value;return o.a.createElement(U,{label:e.label,description:e.description,isSelected:i})}return e.label},V=e=>{const{data:t,innerProps:n,innerRef:i}=e;return t.alternateComponent?o.a.createElement("div",Object(a.a)({ref:i},n),t.alternateComponent):o.a.createElement(w.z.Option,Object(a.a)({},e))},z=Object(r.f)({placeholder:{id:"copy-space-permissions.selector.placeholder",defaultMessage:"Select an option",description:"The placeholder of the dropdown inviting the user to select the 'Copy space permissions' option to apply to a target space"},defaultPermissions:{id:"copy-space-permissions.selector.items.default",defaultMessage:"Default permissions",description:"The dropdown option for when the user wants to use the default set of permissions for this space"},defaultPermissionsDescription:{id:"copy-space-permissions.selector.items.default.description",defaultMessage:"Use the space permissions set by your admin",description:"Description text for the dropdown option for when the user wants to use the default set of permissions for this space"},onlyVisibleToMe:{id:"copy-space-permissions.selector.items.private",defaultMessage:"Only visible to me",description:"The dropdown option for when the user wants to make this space private"},onlyVisibleToMeDescription:{id:"copy-space-permissions.selector.items.private.description",defaultMessage:"Only you can view this space",description:"Description text for the dropdown option for when the user wants to make this space private"},copyPermissions:{id:"copy-space-permissions.selector.items.copy.from.existing.space",defaultMessage:"Copy permissions from another space",description:"The dropdown option for when the user wants to copy the permissions from an existing space into this space"},copyPermissionsDescription:{id:"copy-space-permissions.selector.items.copy.from.existing.space.description",defaultMessage:"Use the permissions from a similar space",description:"Description text for the dropdown option for when the user wants to copy the permissions from an existing space into this space"}});var Y=n("XLlT");const K=({label:e,onChange:t,filterSourceSpaceOptions:n,placeholder:i,validationState:s="default"})=>o.a.createElement(E,null,e&&o.a.createElement(O,{htmlFor:"copy-space-perms-space-select"},o.a.createElement(r.b,Object(a.a)({},e))),o.a.createElement("div",{style:S},o.a.createElement(Y.a,{id:"copy-space-perms-space-select",onChange:t,placeholder:i&&o.a.createElement(r.b,Object(a.a)({},i)),showDefaultSpace:!1,showSpaceLabel:!1,validationState:s,filterOption:n})));n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return J})),n.d(t,"c",(function(){return X}));const W=Object(r.f)({sourceSpaceSelectorPlaceholder:{id:"copy-space-permissions.space-selector.placeholder",defaultMessage:"Choose a space",description:"The placeholder text for the dropdown where the user selects the space to copy permissions from into another space"},sourceSpaceSelectorLabel:{id:"copy-space-permissions.space-selector.prompt",defaultMessage:"Copy from",description:"The label for the dropdown where the user selects the space to copy permissions from into another space"},sourceSpaceValidationError:{id:"copy-space-permissions.option-select.source-space.validation-error",defaultMessage:"This space can't be used as a source.",description:"The validation message appearing with an invalid source space selection, for users selecting a permission set to copy in Copy Space Permissions UI"}}),q={isRestricted:!1,key:"",name:""},G=c.default.div`
  margin-left: 10px;
`,$=c.default.div`
  align-items: center;
  display: flex;
  flex-direction: row;
`,Q=c.default.div`
  color: #de350b;
  min-height: 20px;
`;function J({analyticsEventSourceName:e,defaultOption:t,isDisabled:n,label:c,onChange:f,options:h,renderApplyButton:b,showUpsell:g,filterSourceSpaceOptions:E,sourceSpaceSelectorValidationState:v="default"}){const[w,I]=Object(i.useState)(t),[P,C]=Object(i.useState)(q),{createAnalyticsEvent:k}=Object(l.a)(),{data:M}=Object(s.d)(y),N=Object(i.useMemo)(()=>{const t=Object(p.a)(M),n=Object(d.a)(M);return Object(u.a)(k,e,Object(a.a)(Object(a.a)({},t&&{edition:t}),n&&{userPrivilege:n}))},[k,e,M]);return"default"===v&&Boolean(P.key)&&!X(w,P)&&(v="error"),o.a.createElement(i.Fragment,null,o.a.createElement($,null,o.a.createElement(B,{analyticsEventSourceName:e,isDisabled:n,label:c,onChange:e=>{I(e),P!==q&&C(q),Object(m.i)(N,m.e,Object(m.j)(e)),f({option:e,sourceSpace:q})},onMenuOpen:()=>{Object(m.i)(N,m.e,m.f)},options:h,showUpsell:g,value:w}),"function"==typeof b?o.a.createElement(G,null,b({isDisabled:n||!w||!X(w,P)||"error"===v,createAnalyticsEvent:N})):null),w===j.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE?o.a.createElement(i.Fragment,null,o.a.createElement(K,{onChange:({isRestricted:e,spaceKey:t,spaceName:n})=>{if(P.key!==t||P.name!==n){const a={isRestricted:e,key:t,name:n};C(a),Object(m.i)(N,m.h,m.g),f({option:w,sourceSpace:a})}},label:c?W.sourceSpaceSelectorLabel:void 0,placeholder:W.sourceSpaceSelectorPlaceholder,validationState:v,filterSourceSpaceOptions:E}),c?o.a.createElement(O,null):null,o.a.createElement(Q,{style:S},"error"===v?o.a.createElement(r.b,Object(a.a)({},W.sourceSpaceValidationError)):null)):null)}function X(e,t){return e!=j.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE||t&&Boolean(t.key)&&!t.isRestricted}},"0gjq":function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=void 0;var i=n("FzbR");function o(e){if(void 0!==e)return"boolean"==typeof e?{capture:e}:e}t.bindAll=function(e,t,n){var r=t.map((function(t){var r=function(e,t){return null==t?e:a(a({},e),{options:a(a({},o(t)),o(e.options))})}(t,n);return i.bind(e,r)}));return function(){r.forEach((function(e){return e()}))}}},"1jzs":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ERkP");const i="undefined"==typeof window?a.useEffect:a.useLayoutEffect},"2t+H":function(e,t,n){"use strict";let a;n.d(t,"a",(function(){return a})),function(e){e.NON_ADMIN="nonAdmin",e.PRODUCT_ADMIN="productAdmin",e.SITE_ADMIN="siteAdmin"}(a||(a={}))},"54Mv":function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),i=n.n(a),o=n("7nmT"),r=n.n(o),s=n("Czhu"),c=n("L21V"),l=n("KsTJ"),u=n("+352"),p=n("mvtW"),d=n("ANgl"),m=n("dIe6"),f=n("6z9Z"),h=n("3VMZ"),b=n("ewfN"),g=n("Ua4J"),y=n("+6Tk"),E=n("zJ/j"),O=n("hpu0"),S=n("KQKp"),v=n("gQ5V"),j=n("wn7R"),w=n("kbI0"),I=n("MqVv"),P=n("cJDk"),C=n("/MSF"),k=n("T+Mg"),M=n("oayO"),N=n("SRtI"),T=n("V4Gf");const A={option:void 0,sourceSpaceName:""},x=Object(c.f)({["title"+T.a.ONLY_VISIBLE_TO_ME]:{id:"copy-space-permissions.from-existing-space.completion-flag.title.only-visible-to-me",defaultMessage:"Visibility restricted to you",description:"The title of the flag which notifies the user that a target space has successfully been made private"},["title"+T.a.DEFAULT_PERMISSIONS]:{id:"copy-space-permissions.from-existing-space.completion-flag.title.default-permissions",defaultMessage:"Default permissions set",description:"The title of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the default permissions"},["title"+T.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE]:{id:"copy-space-permissions.from-existing-space.completion-flag.title.copy-permissions-from-another-space",defaultMessage:"Space permissions copied",description:"The title of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the permissions of a specific source space"},["description"+T.a.ONLY_VISIBLE_TO_ME]:{id:"copy-space-permissions.from-existing-space.completion-flag.description.only-visible-to-me",defaultMessage:"Your space is now visible only to you",description:"The description of the flag which notifies the user that a target space has successfully been made private"},["description"+T.a.DEFAULT_PERMISSIONS]:{id:"copy-space-permissions.from-existing-space.completion-flag.description.default-permissions",defaultMessage:"Your space is now using the default space permissions",description:"The description of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the default permissions"},["description"+T.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE]:{id:"copy-space-permissions.from-existing-space.completion-flag.description.copy-permissions-from-another-space",defaultMessage:"Your space is now using the permissions from the <b>{sourceSpaceName}</b> space",description:"The description of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the permissions of a specific source space"}}),R=Object(k.a)(({flags:e})=>{const[t,n]=Object(a.useState)(A),{option:o,sourceSpaceName:r}=t;return Object(a.useEffect)(()=>{const e=M.a.getItem(N.b.COPIED_SPACE_PERMISSIONS);if(e){const a=e.indexOf(":"),i=e.substring(0,-1===a?void 0:a);if(i in T.a){const o=T.a[i],r=-1===a?"":e.substring(a+1);t.option===o&&t.sourceSpaceName===r||n({option:o,sourceSpaceName:r})}else M.a.removeItem(N.b.COPIED_SPACE_PERMISSIONS),n(A)}},[]),Object(a.useEffect)(()=>{o&&e.showSuccessFlag({title:i.a.createElement(c.b,Object(s.a)({},x["title"+o])),description:i.a.createElement(c.a,Object(s.a)(Object(s.a)({},x["description"+o]),{},{values:{sourceSpaceName:r}})),onClose:_})},[e,o,r]),null});function _(){M.a.removeItem(N.b.COPIED_SPACE_PERMISSIONS)}var F=n("H5qd"),L=n.n(F);const D=L.a`mutation CopyPermissionsFromAnotherSpace($sourceKey:String!$targetKey:String!){copySpacePermissions(sourceSpaceKey:$sourceKey targetSpaceKey:$targetKey){status}}`,U=L.a`mutation DefaultPermissions($spaceKey:String!){copyDefaultSpacePermissions(spaceKey:$spaceKey){status}}`,B=Object(c.f)({["heading"+T.a.ONLY_VISIBLE_TO_ME]:{id:"copy-space-permissions.from-existing-space.confirmation.heading.only-visible-to-me",defaultMessage:"Restrict visibility to you?",description:"The title of the modal dialog which asks the user for confirmation before really making the target space private"},["heading"+T.a.DEFAULT_PERMISSIONS]:{id:"copy-space-permissions.from-existing-space.confirmation.heading.default-permissions",defaultMessage:"Use default permissions?",description:"The title of the modal dialog which asks the user for confirmation before really overwriting with the default permissions"},["heading"+T.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE]:{id:"copy-space-permissions.from-existing-space.confirmation.heading.copy-permissions-from-another-space",defaultMessage:"Copy space permissions?",description:"The title of the modal dialog which asks the user for confirmation before really copying/overwriting space permissions"},["body"+T.a.ONLY_VISIBLE_TO_ME]:{id:"copy-space-permissions.from-existing-space.confirmation.body.only-visible-to-me",defaultMessage:"You’re about to make your space visible only to you. This will override all permissions on the space. <b>It can’t be undone.<b>",description:"The body of the modal dialog which asks the user for confirmation before really making the target space private"},["body"+T.a.DEFAULT_PERMISSIONS]:{id:"copy-space-permissions.from-existing-space.confirmation.body.default-permissions",defaultMessage:"You’re about to use the default space permissions set by your admin. The default permissions will override all permissions on your space. <b>This can’t be undone.<b>",description:"The body of the modal dialog which asks the user for confirmation overwriting with the default permissions"},["body"+T.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE]:{id:"copy-space-permissions.from-existing-space.confirmation.body.copy-permissions-from-another-space",defaultMessage:"You’re about to copy the permissions from <b>{sourceSpaceName}</b>. The permissions from <b>{sourceSpaceName}</b> will override all permissions on your space. <b>This can’t be undone.<b>",description:"The body of the modal dialog which asks the user for confirmation before really copying/overwriting space permissions"},cancel:{id:"copy-space-permissions.from-existing-space.confirmation.cancel",defaultMessage:"Cancel",description:"The text of the button of the modal dialog which cancels the copy/overwrite of space permissions"},["apply"+T.a.ONLY_VISIBLE_TO_ME]:{id:"copy-space-permissions.from-existing-space.confirmation.apply.only-visible-to-me",defaultMessage:"Restrict visibility",description:"The text of the button of the modal dialog which applies/confirms making the target space private"},["apply"+T.a.DEFAULT_PERMISSIONS]:{id:"copy-space-permissions.from-existing-space.confirmation.apply.default-permissions",defaultMessage:"Use defaults",description:"The text of the button of the modal dialog which applies/confirms the overwrite with the default permissions"},["apply"+T.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE]:{id:"copy-space-permissions.from-existing-space.confirmation.apply.copy-permissions-from-another-space",defaultMessage:"Copy permissions",description:"The text of the button of the modal dialog which applies/confirms the copy/overwrite of space permissions"},errorFlagTitle:{id:"copy-space-permissions.from-existing-space.confirmation.error-flag.title",defaultMessage:"Couldn't change space permissions",description:"The title of the Flag which notifies the user that the attempt to change the space permissions has failed"},errorFlagDescription:{id:"copy-space-permissions.from-existing-space.confirmation.error-flag.description",defaultMessage:"If this keeps happening, let us know at {atlassianSupportLink}",description:"The description of the Flag which notifies the user that the attempt to change the space permissions has failed"}});function H(e){const{onClose:t,selection:{option:n,sourceSpace:o}}=e,[r,l]=Object(a.useState)(!0),u=(e,a)=>{if(l(!1),!e){const e={selectedOption:n};a?Object(O.c)(h.a.COPY_SPACE_PERMISSIONS,a,e):Object(O.b)().abort({name:h.a.COPY_SPACE_PERMISSIONS,reason:"Canceled by user",attributes:e})}"function"==typeof t&&t(e,a)};return i.a.createElement(w.b,null,r&&i.a.createElement(I.a,{appearance:"warning",components:{Footer:()=>i.a.createElement(P.d,null,i.a.createElement("div",null)," ",i.a.createElement(V,Object(s.a)(Object(s.a)({},e),{},{onClose:u})))},heading:i.a.createElement(c.b,Object(s.a)({},B["heading"+n])),width:"small",onClose:()=>u(!1)},i.a.createElement(c.a,Object(s.a)(Object(s.a)({},B["body"+n]),{},{values:{sourceSpaceName:o.name||o.key}}))))}const V=Object(k.a)(({flags:e,selection:{option:t,sourceSpace:{key:n,name:a=n}},onClose:o,targetSpaceKey:r})=>{let l,u;switch(t){case T.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE:n&&r&&(l=D,u={sourceKey:n,targetKey:r});break;case T.a.DEFAULT_PERMISSIONS:r&&(l=U,u={spaceKey:r});break;case void 0:return null}const p=()=>o(!1);if(l){const n=()=>{try{M.a.setItem(N.b.COPIED_SPACE_PERMISSIONS,function(e,t){let n=Object.keys(T.a).find(t=>T.a[t]===e);return n&&t&&(n+=":"+t),n}(t,a))}finally{o(!0)}},r=t=>{o(!1,t),e.showErrorFlag({title:i.a.createElement(c.b,Object(s.a)({},B.errorFlagTitle)),description:i.a.createElement(c.b,Object(s.a)(Object(s.a)({},B.errorFlagDescription),{},{values:{atlassianSupportLink:i.a.createElement(C.b,{showHostname:!0})}}))})};return i.a.createElement(v.a,{mutation:l,variables:u,onCompleted:n,onError:r},(e,{loading:n})=>i.a.createElement(z,{loading:n,onApplyClick:e,onCancelClick:p,option:t}))}return i.a.createElement(z,{onCancelClick:p,option:t})});function z({loading:e,onApplyClick:t,onCancelClick:n,option:a}){const o="function"!=typeof t,r="function"!=typeof n;return i.a.createElement(j.a,null,i.a.createElement(E.a,{appearance:"default",autoFocus:o,isDisabled:r,onClick:n},i.a.createElement(c.b,Object(s.a)({},B.cancel))),i.a.createElement(E.a,{appearance:"warning",autoFocus:!o,isDisabled:o,isLoading:e,onClick:e?void 0:t},i.a.createElement(c.b,Object(s.a)({},B["apply"+a]))))}function Y({createAnalyticsEvent:e,selection:t,targetSpaceKey:n,onClick:o,isDisabled:r}){const{option:s}=t,[l,u]=Object(a.useState)(!1);return i.a.createElement(a.Fragment,null,i.a.createElement(E.a,{appearance:"primary",isDisabled:r,onClick:()=>{Object(S.i)(e,S.d,S.a),u(!0),"function"==typeof o&&o()}},i.a.createElement(c.b,{id:"copy-space-permissions.from-existing-space.apply.button",defaultMessage:"Apply",description:"The label for the button that initiates the copying of space permissions"})),l&&i.a.createElement(H,{onClose:t=>{const n=t?S.c:S.b;Object(S.i)(e,S.d,n),u(!1),t&&(Object(O.b)().succeed({name:h.a.COPY_SPACE_PERMISSIONS,attributes:{selectedOption:s}}),window.location.reload())},selection:t,targetSpaceKey:n}))}var K=n("0L74");const W=l.default.div`
  margin-bottom: 20px;
  margin-top: 10px;
`,q=l.default.div`
  font-weight: bold;
  margin-bottom: 10px;
`,G={option:void 0,sourceSpace:K.b},$=Object(c.f)({optionSelectLabel:{id:"copy-space-permissions.for-existing-space.option-select.label",defaultMessage:"Override all permissions",description:"The label for the dropdown where the user to selects which set of permissions to copy into a target space: default, private, etc."}});function Q({analyticsEventSourceName:e,edition:t,targetSpaceKey:n}){const o=Object(a.useMemo)(()=>Object(T.b)(t).filter(e=>e!==T.a.ONLY_VISIBLE_TO_ME),[t]),r=1===o.length?o[0]:G.option,[l,d]=Object(a.useState)(Object(s.a)(Object(s.a)({},G),{},{option:r})),[m,b]=Object(a.useState)(!1),g=Object(y.a)(u.m),E=Object(a.useContext)(f.a),O=(e=l.option)=>{if(!m){b(!0);const t=()=>b(!1);E.start({name:h.a.COPY_SPACE_PERMISSIONS,attributes:{selectedOption:e},onAbort:t,onFailure:t,onSuccess:t})}},S=t===p.a.FREE;let v="default";l.option===T.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE&&l.sourceSpace.key===n&&(v="error");return i.a.createElement(W,null,i.a.createElement(q,null,i.a.createElement(c.b,Object(s.a)({},$.optionSelectLabel))),i.a.createElement(K.a,{analyticsEventSourceName:e,options:o,defaultOption:r,label:void 0,onChange:({option:e,sourceSpace:t})=>{l.option===e&&l.sourceSpace===t||(e&&-1===o.indexOf(e)&&(e=void 0),O(e),d({option:e,sourceSpace:t}))},filterSourceSpaceOptions:({spaceKey:e})=>e!==n,renderApplyButton:e=>i.a.createElement(Y,{createAnalyticsEvent:e.createAnalyticsEvent,isDisabled:S||e.isDisabled||!n||"error"===v,onClick:O,selection:l,targetSpaceKey:n}),showUpsell:g&&t===p.a.STANDARD,sourceSpaceSelectorValidationState:v}),i.a.createElement(R,null))}function J({analyticsEventSourceName:e}){return i.a.createElement(g.a.Consumer,null,({getHref:t})=>{const n=function(e){const t=b.SPACE_PERMISSION.match(e());return t?t.params.spaceKey:null}(t);return n?i.a.createElement(d.a,null,({loading:t,error:a,edition:o})=>t?null:a?i.a.createElement(m.a,{error:a}):o?i.a.createElement(Q,{analyticsEventSourceName:e,edition:o,targetSpaceKey:n}):null):null})}n.d(t,"CopySpacePermissionsForExistingSpacePortal",(function(){return X}));const X=()=>{const[e,t]=Object(a.useState)(!1);if(Object(a.useEffect)(()=>{document.getElementById("copy-space-permissions-portal-container")&&t(!0)},[]),e){const e=document.getElementById("copy-space-permissions-portal-container");if(e)return r.a.createPortal(i.a.createElement(J,{analyticsEventSourceName:"viewSpacePerms"}),e)}return null}},"6HGh":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("ERkP"),i=n.n(a),o=n("KsTJ"),r=n("93GD"),s=n.n(r),c=n("5kGD"),l=n("3IV/"),u=n("bg0W"),p=n("WEdt"),d=n("+352"),m=n("mvtW");const f=o.default.div`
  width: ${({width:e})=>e}px;
  flex: 0 0 auto;
`,h=o.default.div`
  display: flex;
  flex-direction: column;
`,b=o.default.div`
  ${Object(p.h400)()};
  margin-top: 0;
`,g=o.default.div`
  margin-top: 8px;
`,y=o.default.div`
  margin-top: 16px;
`,E=o.default.div`
  background-color: ${l.N0};

  border-radius: 3px;
  display: flex;

  margin: 0 auto;

  ${({appearanceType:e})=>{switch(e){case d.l.DEFAULT:return o.css`
          padding: 16px 25px;
          ${u.e100};
          max-width: 710px;
        `;case d.l.FLAT:return o.css`
          padding: 16px 25px;
          max-width: 710px;
        `;case d.l.INLINE:return o.css`
          width: 352px;
          font-size: 14px;
        `;case d.l.INLINE_MODAL:return o.css`
          max-width: 400px;
          ${b} {
            ${Object(p.h600)()};
            margin-top: 0;
          }

          ${g} {
            margin-top: 16px;
          }

          ${y} {
            margin-top: 96px;
            display: flex;
          }
        `}}}
`;function O({actions:e,appearanceType:t=d.l.DEFAULT,body:n,edition:a,title:o}){return i.a.createElement(c.a,{mode:"light"},i.a.createElement(E,{appearanceType:t},a===m.a.PREMIUM&&i.a.createElement(f,{width:"40"},i.a.createElement(s.a,{label:"",primaryColor:l.B400})),i.a.createElement(h,null,i.a.createElement(b,null,o),"string"==typeof n?i.a.createElement(g,{dangerouslySetInnerHTML:{__html:n}}):i.a.createElement(g,null,n),e&&i.a.createElement(y,{className:"actionButtons"},e))))}},A46D:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));const a="cubic-bezier(0.15,1,0.3,1)",i="cubic-bezier(0.2,0,0,1)",o="cubic-bezier(0.8,0,0,0.8)"},ANgl:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),i=n.n(a),o=n("1U1M"),r=n("rc7/"),s=n("F4Ur"),c=n("t0Ff"),l=n("6n9r");function u({children:e}){const{data:t,loading:n,error:u}=Object(o.d)(c.a);let p;return u&&(Object(r.b)(u)?Object(s.a)(u):p=u),i.a.createElement(a.Fragment,null,e({edition:Object(l.a)(t),error:p,loading:n}))}},BGTi:function(e,t,n){"use strict";n("HbGN"),n("cxan"),n("fGyu"),n("pkwY");var a=n("9fIP"),i=n("MMYH"),o=n("K/z8"),r=n("sRHE"),s=n("8K1b"),c=n("pWxA"),l=n("zjfJ"),u=n("ERkP"),p=n.n(u),d=n("lSUb"),m=n("l1C2"),f=(n("7nmT"),n("aWzz"),n("4wDe"),n("fjh6")),h=(n("5IAQ"),n("KD1n"),n("jynR"),n("8CuW")),b=n("zEpV"),g=(u.Component,Object(h.a)(f.a));t.a=g},FzbR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bind=void 0,t.bind=function(e,t){var n=t.type,a=t.listener,i=t.options;return e.addEventListener(n,a,i),function(){e.removeEventListener(n,a,i)}}},KQKp:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return f}));var a=n("V4Gf");const i="selectDropdown",o="spaceSelect",r="button",s="copySpacePermissionsSpacePermissionsDropdownOpen",c=new Map([[a.a.ONLY_VISIBLE_TO_ME,"copySpacePermissionsMakePrivate"],[a.a.DEFAULT_PERMISSIONS,"copySpacePermissionsUseDefaults"],[a.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE,"copySpacePermissionsCopyFromExisting"]]),l=e=>c.get(e)||"",u="copySpacePermissionsSourceSpaceSelected",p="copySpacePermissionsApplyPermissions",d="copySpacePermissionsCancelApply",m="copySpacePermissionsConfirmApply",f=(e,t,n)=>{e({type:"sendUIEvent",data:{action:"clicked",actionSubject:t,actionSubjectId:n}}).fire()}},MV18:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ERkP"),i=n("6z9Z");function o({name:e,attributes:t}){const n=Object(a.useContext)(i.a);return Object(a.useEffect)(()=>n.succeed({name:e,attributes:t}),[e,t,n]),null}},PLaw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("ERkP")),i=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(i.default,r({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ChevronDownIcon";var c=s;t.default=c},V4Gf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("mvtW");let i;!function(e){e.ONLY_VISIBLE_TO_ME="OnlyVisibleToMe",e.DEFAULT_PERMISSIONS="DefaultPermissions",e.COPY_PERMISSIONS_FROM_ANOTHER_SPACE="CopyPermissionsFromAnotherSpace"}(i||(i={}));const o={[a.a.FREE]:[i.DEFAULT_PERMISSIONS],[a.a.STANDARD]:[i.DEFAULT_PERMISSIONS,i.ONLY_VISIBLE_TO_ME],[a.a.PREMIUM]:[i.DEFAULT_PERMISSIONS,i.COPY_PERMISSIONS_FROM_ANOTHER_SPACE,i.ONLY_VISIBLE_TO_ME]};function r(e){switch(e){case a.a.PREMIUM:case a.a.STANDARD:return o[e];case a.a.FREE:default:return o[a.a.FREE]}}},W98l:function(e,t,n){"use strict";n.r(t),n.d(t,"CopySpacePermissionsForNewSpace",(function(){return S}));var a=n("ERkP"),i=n.n(a),o=n("7nmT"),r=n.n(o),s=n("L21V"),c=n("KsTJ"),l=n("+352"),u=n("ANgl"),p=n("mvtW"),d=n("dIe6"),m=n("+6Tk"),f=n("0L74"),h=n("V4Gf");const b=Object(s.f)({optionSelectLabel:{id:"copy-space-permissions.for-new-space.option-select.label",defaultMessage:"Space permissions",description:"The label for the dropdown where the user to selects which set of permissions to use for a new space: default, private, etc."}}),g=c.default.div`
  margin-top: 2px;
  position: absolute;
`,y=c.default.div`
  position: fixed;
`,E=()=>i.a.createElement("style",null,"\n      /********************************************************************/\n      /* Begin section for Copy Space Permissions on Create Space Dialog  */\n      /********************************************************************/\n\n      #create-dialog .dialog-wizard-page-main {\n        padding-top: 10px;\n      }\n\n      #create-dialog .dialog-wizard-page-description {\n        padding-top: 10px;\n      }\n\n      #create-dialog .error {\n        margin-top: 3px;\n      }\n\n      /* Force the Team Space Template's Team Member field to have maximum height of 2 rows.\n        The unmodified version of this field has unlimited height, which gets ugly especially\n        with the additional Copy Space Permissions now below it. */\n      #create-dialog ul.select2-choices {\n        max-height: 54px;\n        overflow: auto;\n      }\n   "),O=e=>{var t;return null!=(t=e)&&null!=(t=t.constructor)?t.name:t},S=()=>{const[e,t]=Object(a.useState)(!1),[,n]=Object(a.useState)(0),o=Object(m.a)(l.m),s=()=>{n(Date.now())},c=({option:e,sourceSpace:t})=>{(e=>{const t=document.getElementById("permission-private");if("HTMLInputElement"===O(t)){t.checked=e}})(e===h.a.ONLY_VISIBLE_TO_ME),(e=>{const t=document.getElementById("copy-space-permissions-key-for-create");if("HTMLInputElement"===O(t)){t.value=e}})(t.key),((e,t)=>{const n=document.getElementById("copy-space-permissions-fields-valid");if("HTMLInputElement"===O(n)){const a=n;a.value=e&&Object(f.c)(e,t)?"true":"",a.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}})(e,t)},S=()=>{!e&&document.getElementById("new-space-permissions-portal-container")&&t(!0),s()};if(Object(a.useEffect)(()=>{e&&document.getElementById("new-space-permissions-portal-container")&&((()=>{const e=document.getElementById("space-form-permissions");e&&e.classList.add("hidden")})(),(()=>{const e=document.getElementById("new-space-permissions-portal-container");if(e){const t=e.parentElement;t&&t.appendChild(e)}})(),document.querySelectorAll("#create-dialog textarea").forEach(e=>{"HTMLTextAreaElement"===O(e)&&(e.style.resize="none")}),(()=>{const e=document.getElementById("team-description");if("HTMLTextAreaElement"===O(e)){e.rows=2}})(),(()=>{const e=document.getElementById("team-members");e&&!e.classList.contains("portal-change-listener")&&(e.classList.add("portal-change-listener"),e.onchange=()=>s())})())}),Object(a.useEffect)(()=>{const e=window.legacyMessageQueue;e&&"function"==typeof e.push&&e.push({type:"ATLASSIAN_CONFLUENCE_NEW_SPACE_REGISTER_CALLBACK",payload:S})},[]),e){const e=document.getElementById("new-space-permissions-portal-container");if(e)return r.a.createPortal(i.a.createElement(u.a,null,({edition:e,error:t,loading:n})=>n?null:t?i.a.createElement(d.a,{error:t}):e?i.a.createElement(g,null,i.a.createElement(y,null,i.a.createElement(f.a,{analyticsEventSourceName:"createSpaceModal",defaultOption:h.a.DEFAULT_PERMISSIONS,isDisabled:e===p.a.FREE,label:b.optionSelectLabel,onChange:c,options:Object(h.b)(e),showUpsell:o&&e===p.a.STANDARD})),i.a.createElement(E,null)):null),e)}return null}},Xcdj:function(e,t,n){"use strict";var a=n("Czhu"),i=n("ERkP"),o=n.n(i),r=n("l1C2"),s=n("bhMQ"),c=n("/yy9"),l=n("ZIFe"),u=n("pwfR");n("1jzs");const p=Object(i.createContext)(()=>({isReady:!0,delay:0,ref:()=>{}})),d=()=>{const e=function(){const e=Object(i.useRef)("");return e.current||(e.current="_"+(Number(String(Math.random()).slice(2))+Date.now()+Math.round(performance.now())).toString(36)),e.current}();return Object(i.useContext)(p)(e)};t.a=({children:e,animationTimingFunction:t,enteringAnimation:n,exitingAnimation:p,isPaused:m,onFinish:f,duration:h=c.a})=>{const b=d(),{isExiting:g,onFinish:y,appear:E}=Object(u.b)(),O=Object(l.b)(),S=m||!b.isReady,v=g?0:b.delay,j=g?"exiting":"entering",[w,I]=Object(i.useState)(E);return Object(i.useEffect)(()=>{let e=!1;if(!S){if(E)return I(!0),O(()=>{"exiting"===j&&y&&y(),e||I(!1),f&&f(j)},g?.5*h:h+v),()=>{e=!0};f&&f(j)}},[y,j,g,h,v,S,O]),o.a.createElement(r.b,null,({css:i})=>e({ref:b.ref,className:w?i(Object(a.a)({animationName:""+Object(r.g)(g&&p||n),animationTimingFunction:t(j),animationDelay:v+"ms",animationFillMode:g?"forwards":"backwards",animationDuration:(g?.5*h:h)+"ms",animationPlayState:S?"paused":"running"},Object(s.b)())):""},j))}},YkBR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("Czhu");function i(e,t,n){return i=>{const{data:o}=i;if(!o)throw new Error("payload.data should be defined");return e(Object(a.a)(Object(a.a)({},i),{},{data:Object(a.a)(Object(a.a)({},o),{},{source:t,attributes:Object(a.a)(Object(a.a)({},n),o.attributes)})}))}}},ZIFe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("ERkP");const i=e=>{switch(e.cleanup){case"next-effect":return;case"unmount":default:return[]}},o=(e={cleanup:"unmount"})=>{const t=Object(a.useRef)([]);return Object(a.useEffect)(()=>()=>{t.current.length&&(t.current.forEach(e=>cancelAnimationFrame(e)),t.current=[])},i(e)),Object(a.useCallback)(e=>{const n=requestAnimationFrame(a=>{t.current=t.current.filter(e=>e!==n),e(a)});t.current.push(n)},[])},r=(e={cleanup:"unmount"})=>{const t=Object(a.useRef)([]);return Object(a.useEffect)(()=>()=>{t.current.length&&(t.current.forEach(e=>clearTimeout(e)),t.current=[])},i(e)),Object(a.useCallback)((e,n,...a)=>{const i=setTimeout(()=>{t.current=t.current.filter(e=>e!==i),e()},n,...a);t.current.push(i)},[])}},ZUFC:function(e,t,n){"use strict";var a=n("Czhu"),i=n("zjfJ"),o=n("ERkP"),r=n.n(o),s=n("L21V"),c=n("lbXe"),l=n("zJ/j"),u=(n("aWzz"),n("wn7R"));const p=e=>{const t=r.a.Children.toArray(e.children);return r.a.createElement(u.a,null,t)};var d=n("+352"),m=n("46jh"),f=n("9ZX9"),h=n("2q8g"),b=n.n(h),g=n("psri"),y=n.n(g),E=n("1U1M"),O=n("z9P0"),S=n("T+Mg"),v=n("oayO"),j=n("SRtI"),w=n("a0gl"),I=n("dIe6"),P=n("t0Ff"),C=n("6n9r"),k=n("mvtW"),M=n("mTU2"),N=n("FdbS");const T=Object(S.a)(({analyticsProps:e,autoFocus:t,onUpFlowOpen:n,targetEdition:i=k.a.STANDARD,flags:c})=>{const[u,p]=Object(o.useState)(!1),{data:m,loading:f,error:h}=Object(E.d)(P.a),g=Object(C.a)(m),{cloudId:S}=Object(w.a)(),{createAnalyticsEvent:T}=Object(O.a)();return f?null:r.a.createElement(r.a.Fragment,null,h?r.a.createElement(I.a,{error:h}):null,r.a.createElement(l.a,{appearance:"primary",autoFocus:t,onClick:async()=>{const t=await(async()=>{const e=await v.a.getItem(j.b.GROWTH_EXPERIMENT_REQUEST_UPGRADE_SENT);if("true"===e){const e=y()(i.toString().toLowerCase());c.showWarningFlag({title:r.a.createElement(s.b,Object(a.a)({},M.a.requestUpgradeAlreadySentWarningTitle)),description:r.a.createElement(s.b,Object(a.a)(Object(a.a)({},M.a.requestUpgradeAlreadySentWarningDescription),{},{values:{edition:e}}))})}else p(!0);return e})(),{actionSubjectId:n,attributes:o,source:l}=e;o&&(o.currentEdition=g,o.targetEdition=i,o.requestUpgradeNotificationSent=t),T({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:n,source:l,attributes:o}}).fire()}},r.a.createElement(s.b,Object(a.a)({},M.a.requestUpgradeButton))),u?r.a.createElement(N.UpFlowComponent,{canChangeEdition:!1,cloudId:S,currentEdition:g,flow:"request-upgrade",product:"confluence",targetEdition:i,touchpointId:e.source,onClose:()=>{b()(n)||p(!1)},onOpen:n,epMessageId:d.o}):null)});var A=n("r89S"),x=n("6HGh"),R=n("TSpG"),_=n("HKB3"),F=n("Uo/y"),L=n("LEcB");const D=Object(s.g)((function({canShowUpgradeButton:e,children:t,intl:n,isSiteAdmin:a,secondaryLink:i}){const{IN_CONTEXT_MODAL:r,END_USER_REQUEST:s}=R.a,{cohort:c}=Object(L.a)(r,_.b,_.a.NOT_ENROLLED),{cohort:l,fireExposureEvent:u}=Object(L.a)(s,_.b,_.a.NOT_ENROLLED),p=Object(F.a)(n&&n.locale),d=c===_.a.EXPERIMENT,m=l===_.a.EXPERIMENT;Object(o.useEffect)(()=>{!a&&d&&p&&u()},[a,d,p,u]);let f=!1,h=!1,b=!0,g=!0;return e&&(a?f=!0:d&&p&&(h=m),(f||h)&&(b=!i,g=!1)),t({showUpgradeTryNowButton:f,showUpgradeRequestButton:h,showLearnMore:b,learnMoreIsPrimaryCTA:g})}));n.d(t,"a",(function(){return B}));class U extends o.Component{constructor(...e){super(...e),Object(i.a)(this,"generateCTAAnalyticsProps",e=>{const{grandfathered:t,isSiteAdmin:n,source:a}=this.props;return{actionSubjectId:e,source:a,attributes:{isGrandfathered:Boolean(t),isSiteAdmin:n}}}),Object(i.a)(this,"triggerLinkClickAnalytics",(e,t)=>{const{createAnalyticsEvent:n}=this.props;if(n){const{actionSubjectId:i,attributes:o,source:r}=this.generateCTAAnalyticsProps(e);n({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:i,source:r,attributes:Object(a.a)(Object(a.a)({},o),{},{linkMessage:t})}}).fire()}}),Object(i.a)(this,"handleSecondaryLinkClick",()=>{const e=this.props.secondaryLink;e&&(this.triggerLinkClickAnalytics(e.actionSubjectId,e.messageDescriptor.defaultMessage),"function"==typeof e.onClick&&e.onClick())})}componentDidMount(){const{createAnalyticsEvent:e}=this.props;if(e){const{attributes:t,source:n}=this.generateCTAAnalyticsProps("");e({type:"sendScreenEvent",data:{name:"changeEditionGatewayScreen",attributes:Object(a.a)(Object(a.a)({},t),{},{source:n})}}).fire()}}renderButtons(){const{autoFocus:e,isSiteAdmin:t,canShowUpgradeButton:n,learnMoreLinkActionSubjectId:i,upgradeEditionActionSubjectId:c,upgradeRequestEditionActionSubjectId:u,secondaryLink:p,onUpFlowOpen:d,targetEdition:m}=this.props;return r.a.createElement(D,{isSiteAdmin:t,canShowUpgradeButton:n,secondaryLink:p},({showUpgradeTryNowButton:t,showUpgradeRequestButton:n,showLearnMore:h,learnMoreIsPrimaryCTA:b})=>r.a.createElement(o.Fragment,null,t?r.a.createElement(f.a,{autoFocus:e,analyticsProps:this.generateCTAAnalyticsProps(c),onUpFlowOpen:d,targetEdition:m}):n&&r.a.createElement(T,{autoFocus:e,analyticsProps:this.generateCTAAnalyticsProps(u),onUpFlowOpen:d,targetEdition:m}),h&&r.a.createElement(A.a,{analyticsProps:this.generateCTAAnalyticsProps(i),appearance:b?"primary":"link",onUpFlowOpen:d,targetEdition:m}),p&&r.a.createElement(l.a,{appearance:"link",href:p.href?p.href:void 0,id:"secondaryLink",spacing:"default",target:"_blank",onClick:this.handleSecondaryLinkClick},r.a.createElement(s.b,Object(a.a)({},p.messageDescriptor)))))}render(){const{appearanceType:e=d.l.DEFAULT,body:t,targetEdition:n,title:a}=this.props;return r.a.createElement(x.a,{appearanceType:e,edition:n,title:a,body:t,actions:r.a.createElement(p,null,this.renderButtons())})}}Object(i.a)(U,"defaultProps",{autoFocus:!0,canShowUpgradeButton:!0,learnMoreLinkActionSubjectId:"freeLearnMore",upgradeEditionActionSubjectId:"freeTryNow",upgradeRequestEditionActionSubjectId:"requestTrial"});const B=Object(m.a)(Object(c.a)()(U))},a8dO:function(e,t,n){"use strict";var a=n("Czhu"),i=n("ERkP"),o=n.n(i),r=n("l1C2"),s=n("bES6"),c=n("z9P0"),l=n("NnKS");function u({fn:e,action:t,componentName:n,packageName:o,packageVersion:r,analyticsData:s}){const{createAnalyticsEvent:u}=Object(c.a)(),p=Object(l.a)(s),d=Object(l.a)(e);return Object(i.useCallback)(()=>{const e=u({action:t,actionSubject:n,attributes:{componentName:n,packageName:o,packageVersion:r}}),i=Object(a.a)({componentName:n,packageName:o,packageVersion:r},p.current);e.context.push(i);const s=e.clone();s&&s.fire("atlaskit"),d.current(e)},[t,n,o,r,u,p,d])}var p=n("pwfR"),d=n("b6XK"),m=n("bLpi"),f=n("PEqI"),h=n("BMbf");let b=null;function g(){null!=b&&(window.clearTimeout(b),b=null)}function y(e,t){g(),b=window.setTimeout(()=>{b=null,e()},t)}let E=null;var O=n("3IV/"),S=n("EFzz"),v=n("uvkf");const j=Object(r.e)("border-radius:",Object(h.c)(),"px;box-sizing:border-box;font-size:12px;left:0;line-height:1.3;max-width:240px;padding:2px 6px;top:0;word-wrap:break-word;overflow-wrap:break-word;"),w={name:"v0nulc",styles:"max-width:420px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},I=Object(i.forwardRef)((function({style:e,className:t,children:n,truncate:a,placement:i,testId:o},s){return Object(r.f)(S.a.Consumer,null,({mode:c})=>Object(r.f)(v.a,{ref:s,style:e,className:t,placement:i,testId:o,css:[j,a?w:null,Object(r.e)("background-color:","light"===c?O.N800:O.DN0,";color:","light"===c?O.N0:O.DN600,";")]},n))}));I.displayName="TooltipContainer";var P=I;function C(e){const t=e||{top:0,left:0};return{getBoundingClientRect:()=>({top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}),clientWidth:0,clientHeight:0}}var k=n("jYB6");const M=h.i.tooltip(),N={componentName:"tooltip",packageName:k.a,packageVersion:k.b};function T(){}function A({children:e,position:t="bottom",mousePosition:n="bottom",content:c,truncate:l=!1,component:h=P,tag:b="div",testId:O,delay:S=300,onShow:v=T,onHide:j=T,hideTooltipOnClick:w=!1,hideTooltipOnMouseDown:I=!1,analyticsContext:k,strategy:A="fixed"}){const x="mouse"===t?n:t,R=u(Object(a.a)({fn:v,action:"displayed",analyticsData:k},N)),_=u(Object(a.a)({fn:j,action:"hidden",analyticsData:k},N)),F=Object(i.useRef)(null),[L,D]=Object(i.useState)("hide"),U=Object(i.useRef)(null),B=Object(i.useRef)(null),H=Object(i.useCallback)(e=>{e&&null!==e.firstChild&&(B.current=e,U.current=e.firstChild)},[]),V=Object(i.useRef)(L),z=Object(i.useRef)(S),Y=Object(i.useRef)({onShowHandler:R,onHideHandler:_}),K=Object(i.useRef)(!1);Object(i.useEffect)(()=>{V.current=L,z.current=S,Y.current={onShowHandler:R,onHideHandler:_}},[S,_,R,L]);const W=Object(i.useCallback)(e=>{F.current=e,K.current=!1},[]),q=Object(i.useCallback)(()=>{F.current&&(K.current&&Y.current.onHideHandler(),F.current=null,K.current=!1,D("hide"))},[]),G=Object(i.useCallback)(()=>{F.current&&(F.current.abort(),K.current&&Y.current.onHideHandler(),F.current=null)},[]);Object(i.useEffect)((function(){return function(){F.current&&G()}}),[G]);const $=Object(i.useCallback)(e=>{if(F.current&&!F.current.isActive()&&G(),F.current&&F.current.isActive())return void F.current.keep();const t=function(e){let t="waiting-to-show";function n(){return Boolean(E&&E.entry===e)}function a(){n()&&(g(),E=null)}function i(){n()&&e.done(),t="done",a()}function o(){n()&&e.hide({isImmediate:!0}),i()}function r(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){const n=Boolean(E&&E.isVisible());function a(){t="shown",e.show({isImmediate:n})}E&&(g(),E.entry.hide({isImmediate:!0}),E.entry.done(),E=null),E={entry:e,isVisible:r},n?a():(t="waiting-to-show",y(a,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void g()):"hide-animating"===t?(t="shown",g(),void e.show({isImmediate:!1})):void 0},abort:a,isActive:n,requestHide:function({isImmediate:a}){n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(a?o():(t="waiting-to-hide",y(()=>{t="hide-animating",e.hide({isImmediate:!1})},e.delay))):o())},finishHideAnimation:function(){n()&&"hide-animating"===t&&i()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}({source:e,delay:z.current,show:({isImmediate:e})=>{K.current||(K.current=!0,Y.current.onShowHandler()),D(e?"show-immediate":"show-fade-in")},hide:({isImmediate:e})=>{D(t=>"hide"!==t?e?"hide":"fade-out":t)},done:q});W(t)},[G,q,W]);Object(i.useEffect)(()=>{if("hide"===L)return T;return Object(s.bind)(window,{type:"scroll",listener:()=>{F.current&&F.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})},[L]);const Q=Object(i.useCallback)(()=>{I&&F.current&&F.current.requestHide({isImmediate:!0})},[I]),J=Object(i.useCallback)(()=>{w&&F.current&&F.current.requestHide({isImmediate:!0})},[w]),X=Object(i.useCallback)(e=>{if(e.target===B.current)return;if(e.defaultPrevented)return;e.preventDefault();const n="mouse"===t?{type:"mouse",mouse:C({left:e.clientX,top:e.clientY})}:{type:"keyboard"};$(n)},[t,$]),Z=Object(i.useCallback)(e=>{e.target!==B.current&&(e.defaultPrevented||(e.preventDefault(),F.current&&F.current.requestHide({isImmediate:!1})))},[]),ee=Object(i.useCallback)(()=>{$({type:"keyboard"})},[$]),te=Object(i.useCallback)(()=>{F.current&&F.current.requestHide({isImmediate:!1})},[]),ne=Object(i.useCallback)(e=>{"exiting"===e&&"fade-out"===V.current&&F.current&&F.current.finishHideAnimation()},[]),ae=b,ie="hide"!==L&&Boolean(c),oe="show-immediate"===L||"show-fade-in"===L;return Object(r.f)(o.a.Fragment,null,Object(r.f)(ae,{onMouseOver:X,onMouseOut:Z,onClick:J,onMouseDown:Q,onFocus:ee,onBlur:te,ref:H,"data-testid":O?O+"--container":void 0},e),ie?Object(r.f)(f.a,{zIndex:M},Object(r.f)(m.a,{placement:x,referenceElement:(()=>{const e=F.current,n=e?e.getInitialMouse():null;return"mouse"===t&&n?n:U.current||void 0})(),strategy:A},({ref:e,style:t})=>Object(r.f)(p.a,{appear:!0},oe&&Object(r.f)(d.a,{onFinish:ne,duration:"show-immediate"===L?0:void 0},({className:n})=>Object(r.f)(h,{ref:e,className:"Tooltip "+n,style:t,truncate:l,placement:x,testId:O},c))))):null)}A.displayName="Tooltip";t.a=A},b6XK:function(e,t,n){"use strict";var a=n("HbGN"),i=n("Czhu"),o=n("ERkP"),r=n.n(o),s=n("A46D"),c=n("/yy9"),l=n("Xcdj");const u={bottom:"translate3d(0, calc(5% + 4px), 0)",left:"translate3d(calc(-5% - 4px), 0, 0)",right:"translate3d(calc(5% + 4px), 0, 0)",top:"translate3d(0, calc(-5% - 4px), 0)"},p={bottom:"translate3d(0, calc(-5% - 4px), 0)",left:"translate3d(calc(5% + 4px), 0, 0)",right:"translate3d(calc(-5% - 4px), 0, 0)",top:"translate3d(0, calc(5% + 4px), 0)"},d=e=>({from:{opacity:1,transform:void 0!==e?"translate3d(0, 0, 0)":void 0},to:Object(i.a)({opacity:0},void 0!==e&&{transform:p[e]})});t.a=e=>{let{children:t,duration:n=c.a,entranceDirection:o}=e,p=Object(a.a)(e,["children","duration","entranceDirection"]);return r.a.createElement(l.a,Object.assign({duration:n,enteringAnimation:(m=o,{from:Object(i.a)({opacity:0},void 0!==m&&{transform:u[m]}),"50%":{opacity:1},to:{transform:void 0!==m?"none":void 0}}),exitingAnimation:d(o),animationTimingFunction:()=>s.b},p),t);var m}},bES6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("FzbR");Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return a.bind}});var i=n("0gjq");Object.defineProperty(t,"bindAll",{enumerable:!0,get:function(){return i.bindAll}})},bhMQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=()=>{if("undefined"==typeof window||!("matchMedia"in window))return!1;const{matches:e}=window.matchMedia("(prefers-reduced-motion: reduce)");return e},i=()=>({"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}})},iRcP:function(e){e.exports=JSON.parse('{"a":"@atlaskit/select","b":"13.1.0"}')},jYB6:function(e){e.exports=JSON.parse('{"a":"@atlaskit/tooltip","b":"17.1.1"}')},liuE:function(e,t,n){"use strict";var a=n("ERkP"),i=n.n(a),o=n("Czhu"),r=n("3IV/"),s=n("8pvK");const c={default:{light:r.N40,dark:r.N40},inprogress:{light:r.B50,dark:r.B50},moved:{light:r.Y75,dark:r.Y75},new:{light:r.P50,dark:r.P50},removed:{light:r.R50,dark:r.R50},success:{light:r.G50,dark:r.G50}},l={default:{light:r.N500,dark:r.N500},inprogress:{light:r.B500,dark:r.B500},moved:{light:r.N800,dark:r.N800},new:{light:r.P500,dark:r.P500},removed:{light:r.R500,dark:r.R500},success:{light:r.G500,dark:r.G500}},u={default:{light:r.N500,dark:r.N500},inprogress:{light:r.B400,dark:r.B400},moved:{light:r.Y500,dark:r.Y500},new:{light:r.P400,dark:r.P400},removed:{light:r.R400,dark:r.R400},success:{light:r.G400,dark:r.G400}},p={default:{light:r.N0,dark:r.N0},inprogress:{light:r.N0,dark:r.N0},moved:{light:r.N800,dark:r.N800},new:{light:r.N0,dark:r.N0},removed:{light:r.N0,dark:r.N0},success:{light:r.N0,dark:r.N0}},d=Object(s.a)(({appearance:e,isBold:t,maxWidth:n})=>Object(o.a)(Object(o.a)({},"object"==typeof e?Object(o.a)({backgroundColor:(t?u:c).default.light,textColor:(t?p:l).default.light},e):{backgroundColor:(t?u[e]:c[e]).light,textColor:(t?p[e]:l[e]).light}),{},{maxWidth:n}));var m=n("l1C2"),f=n("BMbf");const h=Object(f.c)()+"px";var b=({backgroundColor:e,textColor:t,children:n,testId:a})=>Object(m.f)("span",{css:{backgroundColor:e,borderRadius:h,boxSizing:"border-box",color:t,display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0 3px 0",textTransform:"uppercase",verticalAlign:"baseline"},"data-testid":a},n);const g=Object(f.h)()/2+"px";var y=({maxWidth:e,children:t})=>Object(m.f)("span",{css:{display:"inline-block",verticalAlign:"top",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",padding:"0 "+g,maxWidth:"number"==typeof e?e+"px":e,width:"100%"}},t);n.d(t,"a",(function(){return E}));class E extends a.PureComponent{render(){const{theme:e,children:t,testId:n}=this.props;return i.a.createElement(d.Provider,{value:e},i.a.createElement(d.Consumer,Object.assign({},this.props),e=>i.a.createElement(b,Object.assign({testId:n},e),i.a.createElement(y,Object.assign({},e),t))))}}E.defaultProps={isBold:!1,appearance:"default",maxWidth:200}},"mu/F":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("H5qd"),i=n.n(a);const o=i.a`fragment IsProductAdminFragment on Query{user(current:true){id confluence{operations{operation targetType}}}}`,r=i.a`fragment IsSiteAdminFragment on Query{isSiteAdmin}`,s=i.a`fragment UserPrivilegeFragment on Query{...IsProductAdminFragment ...IsSiteAdminFragment}${o}${r}`},pm4f:function(e,t,n){"use strict";var a=n("2t+H");n.d(t,"a",(function(){return i}));const i=e=>{const t=(e=>{var t;return e&&Boolean(null!=(t=e)?t.isSiteAdmin:t)})(e),n=(e=>{var t;return e&&((null!=(t=e)&&null!=(t=t.user)&&null!=(t=t.confluence)?t.operations:t)||[]).some(({operation:e,targetType:t})=>"administer"===e&&"application"===t)})(e);return void 0===t?void 0:t?a.a.SITE_ADMIN:n?a.a.PRODUCT_ADMIN:a.a.NON_ADMIN}},pwfR:function(e,t,n){"use strict";var a=n("ERkP"),i=n.n(a),o=n("bhMQ");n.d(t,"b",(function(){return u}));const r={appear:!0,isExiting:!1},s=Object(a.createContext)(r),c=(e,t=r)=>i.a.createElement(s.Provider,{key:e.key+"-provider",value:t},e),l=e=>e.reduce((e,t)=>(e[t.key]=t,e),{}),u=()=>Object(a.useContext)(s);t.a=({appear:e=!1,children:t,exitThenEnter:n})=>{const i=(e=>{const t=[];return a.Children.toArray(e).forEach(e=>{"boolean"!=typeof e&&t.push(e)}),t})(t),r=l(i),s=Object(a.useRef)([]),u=Object(a.useRef)([]),p=(()=>{const[,e]=Object(a.useState)({});return Object(a.useCallback)(()=>e({}),[])})(),d=Object(a.useRef)({}),m=Object(a.useRef)(e),f=Object(a.useMemo)(()=>({appear:m.current,isExiting:!1}),[m.current]);return Object(o.a)()?i:(m.current||(m.current=!0),s.current.length&&((e,t)=>{for(let n=0;n<t.length;n++){if(!e[t[n].key])return!0}return!1})(r,s.current)?((0===u.current.length||((e,t)=>{let n=!1;return t.forEach(t=>{e.current[t.key]&&(n=!0,delete e.current[t.key])}),n})(d,i))&&(u.current=s.current),s.current=i,(n?u.current:((e,t)=>{const n=t.concat([]),a=l(t);for(let i=0;i<e.length;i++){const t=e[i];!a[t.key]&&n.splice(i+1,0,t)}return n})(i,u.current)).map(e=>{const t=r[e.key];return t?c(t,f):(d.current[e.key]=!0,c(e,{isExiting:!0,appear:!0,onFinish:()=>{delete d.current[e.key],0===Object.keys(d.current).length&&(s.current=[],u.current=[],p())}}))})):(s.current=i,i.map(e=>c(e,f))))}},rx1S:function(e,t,n){"use strict";var a=n("BGTi"),i=n("Cmaw"),o=n("ORIB"),r=n("lbXe"),s=n("iRcP"),c=n("YxWl");const l=Object(c.a)(a.a),u=Object(i.a)("atlaskit");t.a=Object(o.a)({componentName:"select",packageName:s.a,packageVersion:s.b})(Object(r.a)({onChange:u({action:"changed",actionSubject:"option",attributes:{componentName:"select",packageName:s.a,packageVersion:s.b}})})(l))},uvkf:function(e,t,n){"use strict";var a=n("ERkP"),i=n("l1C2"),o=n("BMbf");const r=Object(i.e)("z-index:",o.i.tooltip(),";pointer-events:none;"),s=Object(a.forwardRef)((function({style:e,className:t,children:n,placement:a,testId:o},s){return Object(i.f)("div",{role:"tooltip",ref:s,style:e,className:t,css:r,"data-placement":a,"data-testid":o},n)}));s.displayName="TooltipPrimitive",t.a=s},xkEZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n("Czhu"),i=n("ERkP"),o=n.n(i),r=n("FdGg"),s=n("fDrt");function c(e){return u(r.a,e)}function l(e){return u(s.a,e)}function u(e,t){return function(n){return i=>o.a.createElement(e,Object(a.a)({},t),o.a.createElement(n,Object(a.a)({},i)))}}}}]);
//# sourceMappingURL=copy-space-permissions~b59ad437.4Ayn768DRs.js.map