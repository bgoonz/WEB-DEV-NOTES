<p>If you have data, but it’s not in tables, does the data even exist? Not to an app! We often need to create relational databases on the back end of the Web apps we’re building so that we can ultimately display this data on the front end of our application. All relational database data is stored in tables, so it’s important to learn how to create tables and successfully query them.</p>
<p>Of the four data manipulation statements, <code>INSERT</code> is the easiest.</p>
<p>Create a new database named “folks”. Now, create a new table named “friends” with the following column specifications.</p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Data type</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>id</td>
<td><code>SERIAL</code></td>
<td><code>PRIMARY KEY</code></td>
</tr>
<tr class="even">
<td>first_name</td>
<td><code>VARCHAR(255)</code></td>
<td><code>NOT NULL</code></td>
</tr>
<tr class="odd">
<td>last_name</td>
<td><code>VARCHAR(255)</code></td>
<td><code>NOT NULL</code></td>
</tr>
</tbody>
</table>
<p>Now that we have a new table, we need to add table rows with some data. We can insert a new table row using the following syntax:</p>
<pre><code>INSERT INTO table_name
VALUES
  (column1_value, colum2_value, column3_value);</code></pre>
<p>Let’s fill out our “friends” table with information about five friends. In psql, enter the following to add new table rows. <em>Note the use of single quotation marks for string values. Also note that, since we used the <a href="http://www.postgresqltutorial.com/postgresql-serial/"><code>SERIAL</code> pseudo-type</a> to auto-increment the ID values, we can simply write <code>DEFAULT</code> for the ID values when inserting new table rows.</em></p>
<pre><code>INSERT INTO friends (id, first_name, last_name)
VALUES
  (DEFAULT, &#39;Amy&#39;, &#39;Pond&#39;);</code></pre>
<p>You can also completely omit the <code>DEFAULT</code> keyword if you specify the names of the columns that you want to insert into.</p>
<p>You can also use the “multiple values” insert. This prevents you from having to write <code>INSERT</code> with every statement. Even better, if one fails, they all fail. That can help protect your data integrity.</p>
<pre><code>INSERT INTO friends (first_name, last_name)
VALUES
(&#39;Rose&#39;, &#39;Tyler&#39;),
(&#39;Martha&#39;, &#39;Jones&#39;),
(&#39;Donna&#39;, &#39;Noble&#39;),
(&#39;River&#39;, &#39;Song&#39;);</code></pre>
<p>Use <code>SELECT * FROM friends;</code> to verify that there are rows in the “friends” table:</p>
<pre><code>appacademy=# SELECT * FROM friends;
 id | first_name | last_name
----+------------+-----------
  1 | Amy        | Pond
  2 | Rose       | Tyler
  3 | Martha     | Jones
  4 | Donna      | Noble
  5 | River      | Song</code></pre>
<p>Now let’s try to insert a new row using the ID of 5:</p>
<pre><code>INSERT INTO friends (id, first_name, last_name)
VALUES (5, &#39;Jenny&#39;, &#39;Who&#39;);</code></pre>
<p>Because ID is a primary key and that ID is already taken, we should get a message in psql that it already exists:</p>
<pre><code>appacademy=# insert into friends values (5, &#39;Jenny&#39;, &#39;Who&#39;);
ERROR:  duplicate key value violates unique constraint &quot;friends_pkey&quot;
DETAIL:  Key (id)=(5) already exists.</code></pre>
<h2 id="what-we-learned">What we learned:</h2>
<ul>
<li>How to connect to an existing PostgreSQL database</li>
<li>How to create a new PostgreSQL database</li>
<li>How to create a new database table</li>
<li>Accepted PostgreSQL data types</li>
<li>How to add new rows to a database table</li>
<li>What a primary key is/does</li>
</ul>
<p>Did you find this lesson helpful?</p>
<p><a href="https://open.appacademy.io/learn/js-py---oct-2020-online/week-10-oct-2020-online/using-insert">Source</a></p>
