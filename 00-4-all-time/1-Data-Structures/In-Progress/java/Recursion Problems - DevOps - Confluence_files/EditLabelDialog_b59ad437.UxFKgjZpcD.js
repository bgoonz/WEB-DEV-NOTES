(window.webpackJsonp=window.webpackJsonp||[]).push([["EditLabelDialog~b59ad437"],{"+EFR":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("kVkH"),o=n.n(a);const r=/\[messageKey=((?:\w|\.)+){1},\s*args=\[((?:.)+)?\]\]\]/;function i(e){let t="",n="";const a=[];if("object"==typeof e&&e.message&&(t=e.message),"string"==typeof t&&t.indexOf("messageKey")>=0&&r.test(t)){const e=r.exec(t);n=e[1];const i=e[2]?e[2].split(","):[];i&&(a[0]=o()(i),a[1]=i.slice(1).join(", "))}return{message:t,messageKey:n,args:a}}},"3d8H":function(e,t,n){"use strict";var a=n("Czhu"),o=n("ERkP"),r=n("l1C2"),i=n("PLaw"),l=n.n(i),s=n("HMAF"),c=n.n(s),d=n("gHio"),u=n.n(d),b=n("EFzz"),g=n("BMbf"),p=n("bbmB");const f="normal";var h=n("3IV/");const m={error:{light:h.R400,dark:h.R300},info:{light:h.N500,dark:h.N500},normal:{light:h.N0,dark:h.DN50},success:{light:h.G400,dark:h.G300},warning:{light:h.Y200,dark:h.Y300}},O=(e,t)=>m[e][t],j=h.N60A,v={error:{light:h.N0,dark:h.DN40},info:{light:h.N0,dark:h.DN600},normal:{light:h.N500,dark:h.DN600},success:{light:h.N0,dark:h.DN40},warning:{light:h.N700,dark:h.DN40}},k=(e,t)=>v[e][t],x=h.N50A,y={error:{light:h.N40,dark:h.N40},info:{light:h.N40,dark:h.N40},normal:{light:h.B100,dark:h.B100},success:{light:h.N40,dark:h.N40},warning:{light:h.N200,dark:h.N200}},C=(e,t)=>y[e][t],w={success:{light:"rgba(255, 255, 255, 0.08)",dark:h.N30A},info:{light:"rgba(255, 255, 255, 0.08)",dark:"rgba(255, 255, 255, 0.08)"},error:{light:"rgba(255, 255, 255, 0.08)",dark:h.N30A},warning:{light:h.N30A,dark:h.N30A},normal:{light:"none",dark:"none"}},N={success:{light:h.N0,dark:h.DN40},info:{light:h.N0,dark:h.DN600},error:{light:h.N0,dark:h.DN600},warning:{light:h.N700,dark:h.DN40},normal:{light:h.B400,dark:h.B100}},L=(e,t)=>w[e][t],E=(e,t)=>N[e][t];var I=n("xafO"),R=n("pwfR"),D=n("b6XK");const S=5*Object(g.h)();var B=({children:e,isExpanded:t,testId:n})=>Object(r.f)("div",{"aria-hidden":!t,css:Object(r.e)("max-height:",t?150:0,"px;transition:max-height 0.3s;display:flex;flex:1 1 100%;flex-direction:column;justify-content:center;min-width:0;padding:0 0 0 ",S,"px;"),"data-testid":n&&n+"-expander"},Object(r.f)(R.a,{appear:!0},t&&Object(r.f)(D.a,null,t=>Object(r.f)("div",Object.assign({},t),e)))),M=n("zJ/j");const z=Object(g.h)(),A=2*z,P=z/4;var T=e=>{const{appearance:t=f,actions:n=[],linkComponent:a,mode:o,testId:i}=e;if(!n.length)return null;const l=t!==f;return Object(r.f)("div",{css:Object(r.e)("display:flex;flex-wrap:wrap;padding-top:",z,"px;transform:",t===f?`translateX(-${P}px)`:0,";align-items:center;"),"data-testid":i&&i+"-actions"},n.map((e,n)=>[n&&!l?Object(r.f)("div",{css:Object(r.e)("text-align:center;display:inline-block;width:",A,"px;"),key:n+.5},"Â·"):"",Object(r.f)(M.a,{onClick:e.onClick,href:e.href,target:e.target,appearance:l?"default":"link",component:a,spacing:"compact",testId:e.testId,key:n,css:Object(r.e)("&&,a&&{margin-left:",n&&l?z:0,"px;font-weight:500;padding:0 ","normal"===t?0:z,"px !important;background:",L(t,o),";color:",E(t,o)," !important;}&&:focus,a&&:focus{box-shadow:0 0 0 2px ",C(t,o),";}&&:hover,&&:active,a&&:hover,a&&:active{text-decoration:underline;}")},e.content)]))},H=n("dKzH");function $(){}const V={componentName:"flag",packageName:I.a,packageVersion:I.b},F=Object(g.h)(),K=2*F,W=4*F;t.a=e=>{const{actions:t=[],appearance:n=f,icon:i,title:s,description:d,linkComponent:h,onMouseOver:m,onFocus:v=$,onMouseOut:y,onBlur:w=$,testId:N,id:L,analyticsContext:E}=e,{onDismissed:I=$,dismissAllowed:R}=Object(H.b)(),D=R(L),[S,M]=Object(o.useState)(!1),z=Object(p.a)(Object(a.a)({fn:I,action:"dismissed",analyticsData:E},V)),A=n!==f,P=Object(o.useCallback)(({mode:e})=>{if(!A&&!D)return null;if(A&&!d&&!t.length)return null;let a=u.a,o="Dismiss flag",i=()=>{D&&z(L)},s="small",b=N&&N+"-dismiss";return A&&(a=S?c.a:l.a,o="Toggle flag body",i=()=>M(!S),s="large",b=N&&N+"-toggle"),Object(r.f)("button",{css:Object(r.e)("appearance:none;background:none;border:none;border-radius:",Object(g.c)(),"px;color:",k(n,e),";cursor:pointer;flex:0 0 auto;line-height:1;margin-left:",F,"px;padding:0;white-space:nowrap;&:focus{outline:none;box-shadow:0 0 0 2px ",C(n,e),";}"),"aria-expanded":S,onClick:i,"data-testid":b,type:"button"},Object(r.f)(a,{label:o,size:s}))},[t.length,n,d,L,A,D,S,z,N]),J=Object(o.useCallback)(e=>{e.preventDefault()},[]);Object(o.useEffect)(()=>{A&&S&&!d&&!t.length&&M(!1)},[t.length,d,A,S]);const G={onMouseOver:m,onFocus:Object(p.a)(Object(a.a)({fn:v,action:"focused",analyticsData:E},V)),onMouseOut:y,onBlur:Object(p.a)(Object(a.a)({fn:w,action:"blurred",analyticsData:E},V))},Q=P;let _="0 20px 32px -8px "+x;return A||(_=`0 0 1px ${j}, ${_}`),Object(r.f)(b.a.Consumer,null,e=>{const a=e.mode,o=k(n,a);return Object(r.f)("div",Object.assign({css:Object(r.e)("background-color:",O(n,a),";border-radius:",Object(g.c)(),"px;box-sizing:border-box;box-shadow:",_,";color:",o,";padding:",K,"px;transition:background-color 200ms;width:100%;z-index:",g.i.flag(),";&:focus{outline:none;box-shadow:0 0 0 2px ",C(n,a),";}"),role:"alert",tabIndex:0,onMouseDown:J,"data-testid":N},G),Object(r.f)("div",{css:Object(r.e)("display:flex;align-items:center;height:",W,"px;")},i,Object(r.f)("span",{css:Object(r.e)("color:",o,";font-weight:600;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 0 0 ",K,"px;")},s),Object(r.f)(Q,{mode:a})),Object(r.f)(B,{isExpanded:!A||S,testId:N},d&&Object(r.f)("div",{css:Object(r.e)("color:",o,";word-wrap:break-word;overflow:auto;max-height:100px;"),"data-testid":N&&N+"-description"},d),Object(r.f)(T,{actions:t,appearance:n,linkComponent:h,testId:N,mode:a})))})}},"3gG5":function(e,t,n){"use strict";var a=n("l1C2"),o=n("J1k2");t.a=({elemBefore:e,isRounded:t})=>e?Object(a.f)("span",{css:[o.a,t?o.g:void 0]},e):null},EVY7:function(e){e.exports=JSON.parse('{"a":"@atlaskit/tag","b":"11.0.4"}')},HMAF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("ERkP")),o=r(n("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=function(e){return a.default.createElement(o.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11.221 9.322l-2.929 2.955a1.009 1.009 0 0 0 0 1.419.986.986 0 0 0 1.405 0l2.298-2.317 2.307 2.327a.989.989 0 0 0 1.407 0 1.01 1.01 0 0 0 0-1.419l-2.94-2.965A1.106 1.106 0 0 0 11.991 9c-.279 0-.557.107-.77.322z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};l.displayName="ChevronUpIcon";var s=l;t.default=s},J1k2:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return b}));var a=n("Czhu"),o=n("Tj69");const r={borderRadius:""+o.d},i={position:"absolute",left:0,borderRadius:""+o.b,alignItems:"center",display:"flex",justifyContent:"center"},l=({backgroundColor:e,backgroundColorHover:t,textColor:n,textColorHover:a})=>({backgroundColor:e,color:n,"&:hover":{backgroundColor:t,color:a},"& button:hover":{backgroundColor:e,color:n},"&>span:hover":{backgroundColor:e,color:n},borderRadius:""+o.b,cursor:"default",display:"inline-flex",position:"relative",height:""+o.h,lineHeight:1,margin:""+o.c,padding:0,overflow:"hidden"}),s=({hoverBackgroundColor:e,hoverTextColor:t,hoverBackgroundColorRemoval:n,hoverTextColorRemoval:a,focusRingColor:o})=>({"&>a:hover":{backgroundColor:e,color:t},'&[data-removable="true"]:hover':{backgroundColor:n,color:a},"&:focus-within":{boxShadow:"0 0 0 2px "+o,outline:"none"},'&[data-removing="true"]:focus-within':{boxShadow:"0 0 0 2px transparent",outline:"none"}}),c={paddingRight:""+o.k,maxWidth:o.g-o.a+"px"},d={paddingLeft:""+o.j},u={fontSize:o.i,fontWeight:"normal",lineHeight:1,paddingLeft:o.e,paddingRight:o.e,paddingTop:"2px",paddingBottom:"2px",borderRadius:o.b,maxWidth:o.f,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},b=e=>Object(a.a)(Object(a.a)({},u),{},{':not([data-color="standard"])':{color:"inherit",textDecoration:"underline"},textDecoration:"none","&:hover":{color:e},"&:focus":{outline:"none"}})},JByK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd");const o=n.n(a).a`query LabelsQuery($contentId:ID!$refetchQuery:Boolean!$status:[String]){content(id:$contentId status:$status){nodes{id type operations@skip(if:$refetchQuery){operation targetType}labels{count nodes{id label name prefix}}}}}`},K7O5:function(e,t,n){"use strict";var a=n("HbGN"),o=n("ERkP"),r=n.n(o),i=n("A46D"),l=n("/yy9"),s=n("Xcdj");const c=(e,t,n)=>({["entering"===t?"0%":"100%"]:{transform:{top:"translate3d(0, -100%, 0)",right:"translate3d(100%, 0, 0)",bottom:"translate3d(0, 100%, 0)",left:"translate3d(-100%, 0, 0)"}[e],opacity:"inout"===n||"in"===n&&"entering"===t||"out"===n&&"exiting"===t?0:1},["entering"===t?"100%":"0%"]:{transform:"none",opacity:1}});t.a=e=>{let{children:t,enterFrom:n,exitTo:o,fade:d="none",duration:u=l.b,animationTimingFunction:b=(e=>"entering"===e?i.c:i.a)}=e,g=Object(a.a)(e,["children","enterFrom","exitTo","fade","duration","animationTimingFunction"]);return r.a.createElement(s.a,Object.assign({duration:u,enteringAnimation:c(n,"entering",d),exitingAnimation:c(o||n,"exiting",d),animationTimingFunction:b},g),t)}},Ssfy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=["current","draft"]},Tj69:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return j}));var a=n("BMbf");const o=Object(a.h)(),r=Object(a.c)(),i=Object(a.f)(),l=2.5*o,s=l+"px",c=l,d=25*o,u=d-l,b=u+"px",g=r+"px",p=l/2+"px",f=o/2+"px",h=o/2+"px",m=2*o+"px",O=l+"px",j=i+"px"},WB0a:function(e,t,n){"use strict";var a=n("zjfJ"),o=n("ERkP"),r=n.n(o),i=n("gQ5V"),l=(n("aWzz"),n("lbXe")),s=n("gScn"),c=n("+EFR"),d=n("JByK"),u=n("Ssfy"),b=n("H5qd");const g=n.n(b).a`mutation DeleteLabelMutation($contentId:ID!$label:String!){deleteLabel(input:{contentId:$contentId label:$label}){contentId label}}`;var p=n("L21V"),f=n("cBlm");const h=Object(p.f)({deleteLabelText:{id:"labels.deleteLabel.action",defaultMessage:"Delete Label",description:"Aria label for button to delete label"}}),m=({intl:e,name:t,prefix:n,deleteLabel:a,href:i})=>{const{formatMessage:l}=e,s=Object(o.useCallback)(()=>(a(),!0),[a]),c=n&&"global"!==n&&"team"!==n,d=l(h.deleteLabelText);return r.a.createElement(f.a,{text:`${c?n+":":""}${t}`,href:i,onBeforeRemoveAction:s,isRemovable:!0,removeButtonLabel:d})};m.displayName="LabelComponent";const O=Object(p.g)(m);var j,v;n.d(t,"a",(function(){return k}));const k=Object(l.a)()(Object(s.a)((v=j=class extends o.Component{constructor(...e){super(...e),Object(a.a)(this,"sendLabelDeletedAnalyticsEvent",()=>{const{contentId:e,name:t}=this.props;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"deleted",actionSubject:"label",source:"labelComponent",attributes:{componentVersion:"v2",contentId:e,name:t}}}).fire()}),Object(a.a)(this,"generateDeleteLabel",e=>{const{contentId:t,name:n}=this.props;return()=>{e({variables:{contentId:t,label:n}})}}),Object(a.a)(this,"onError",e=>{this.props.onError(Object(c.a)(e))})}render(){const{contentId:e,spaceKey:t,prefix:n,name:a}=this.props;return r.a.createElement(i.a,{mutation:g,refetchQueries:[{query:d.a,variables:{contentId:e,refetchQuery:!0,status:u.a}}],onCompleted:this.sendLabelDeletedAnalyticsEvent,onError:this.onError},e=>{const o=`/wiki/label/${t}/${a}`;return r.a.createElement(O,{href:o,prefix:n,name:a,deleteLabel:this.generateDeleteLabel(e)})})}},Object(a.a)(j,"defaultProps",{onError:()=>{}}),v)))},bqd3:function(e,t,n){"use strict";n("HbGN"),n("cxan"),n("fGyu"),n("pkwY"),n("9fIP"),n("MMYH"),n("K/z8"),n("sRHE"),n("8K1b"),n("pWxA"),n("zjfJ"),n("ERkP"),n("l1C2"),n("7nmT"),n("aWzz"),n("4wDe");var a=n("fjh6"),o=(n("5IAQ"),n("KD1n"),n("jynR"),n("8CuW")),r=n("ogNk"),i=n("lQet"),l=Object(i.b)(a.a),s=Object(o.a)(l),c=Object(r.b)(s),d=n("YxWl");t.a=Object(d.a)(c)},cBlm:function(e,t,n){"use strict";var a=n("Czhu"),o=n("ERkP"),r=n("l1C2"),i=n("YIqz"),l=n("WCbN"),s=n.n(l),c=n("pwfR"),d=n("A46D"),u=n("/yy9"),b=n("ZIFe");var g=n("1jzs");var p=({children:e,duration:t=u.c,onFinish:n})=>{const[a,r]=(()=>{const e=Object(o.useRef)(null),t=Object(o.useCallback)(t=>{e.current=t},[]);return[e.current,t]})(),i=Object(c.b)(),l=Object(b.a)(),s=Object(b.b)(),p=i.isExiting?"exiting":"entering";return Object(g.a)(()=>{if(i.isExiting&&a){const e={width:a.offsetWidth+"px",height:a.offsetHeight+"px",boxSizing:"border-box",willChange:"width,margin"};Object.assign(a.style,e),l(()=>{l(()=>{const e={width:"0px",margin:"0px",transitionTimingFunction:d.a,transitionDuration:t+"ms",transitionProperty:"width,margin"};Object.assign(a.style,e),s(()=>{i.onFinish&&i.onFinish(),n&&n("exiting")},t)})})}}),e({ref:r},p)},f=n("EFzz"),h=n("kjOP"),m=n("EVY7"),O=n("jc0p"),j=n("3gG5"),v=n("zrGf"),k=n("J1k2");function x(...e){return t=>{e.forEach(e=>{e&&("function"==typeof e?e(t):e.current=t)})}}var y=n("3IV/"),C=n("Tj69");const w=({backgroundColor:e,backgroundColorHover:t,focusBoxShadowColor:n,hoverBoxShadowColor:a})=>({position:"absolute",right:0,backgroundColor:e,alignItems:"center",alignSelf:"center",appearance:"none",border:"none",borderRadius:C.b,color:y.N500,display:"flex",justifyContent:"center",height:"16px",margin:0,padding:0,cursor:"pointer","&::-moz-focus-inner":{border:0,margin:0,padding:0},"&:focus":{boxShadow:`0 0 0 2px ${n} inset`,outline:"none"},"&:hover":{backgroundColor:t+" !important",color:y.R500}}),N=()=>!0,L=()=>{};var E;!function(e){e.Showing="showing",e.Removing="removing",e.Removed="removed"}(E||(E={}));const I=Object(o.forwardRef)((e,t)=>{const[n,l]=Object(o.useState)(E.Showing),{appearance:d="default",elemBefore:u=null,isRemovable:b=!0,text:g="",color:f="standard",mode:y="light",href:C,removeButtonLabel:I,testId:R,onBeforeRemoveAction:D=N,onAfterRemoveAction:S=L}=e,B="rounded"===d,M=Boolean(C),z=Object(i.a)(S,{action:"removed",actionSubject:"tag",attributes:{componentName:"tag",packageName:m.a,packageVersion:m.b}},"atlaskit"),A=Object(o.useCallback)(()=>{z(g),l(E.Removed)},[z,g]),P=Object(o.useCallback)(()=>{D&&D()&&A()},[A,D]),T=Object(o.useCallback)(e=>{(" "===e.key||"Enter"===e.key)&&(e.stopPropagation(),P())},[P]),H=Object(o.useCallback)(()=>l(E.Removing),[]),$=Object(o.useCallback)(()=>l(E.Showing),[]),{chromeColors:V,chromeLinkColors:F,buttonColors:K,linkHoverColor:W}=Object(o.useMemo)(()=>Object(h.a)(f,y),[f,y]),J=[Object(k.b)(F),B?k.g:void 0],G=[Object(k.c)(Object(a.a)({},V)),B?k.g:void 0],Q=b?Object(r.f)("button",{css:[w(Object(a.a)({},K)),B?k.g:void 0],tabIndex:0,"aria-label":I,onClick:P,onFocus:H,onBlur:$,onKeyPress:T,type:"button","data-testid":"close-button-"+R},Object(r.f)(s.a,{label:"close tag",size:"small"})):void 0,_=[...G,M?J:void 0],Y=Object(r.f)(v.a,Object.assign({},e,{isRemovable:b,isLink:M,isRounded:B,linkHoverColor:W}));return Object(r.f)(c.a,null,!(n===E.Removed)&&Object(r.f)(p,null,e=>Object(r.f)(O.a,{ref:x(e.ref,t),testId:R,tagCss:_,"data-removable":!0,"data-removing":n===E.Removing,role:M?"link":void 0,before:Object(r.f)(j.a,{isRounded:B,elemBefore:u}),contentElement:Y,after:Q})))}),R=Object(o.memo)(Object(o.forwardRef)((e,t)=>Object(r.f)(f.a.Consumer,null,n=>Object(r.f)(I,Object.assign({},e,{mode:n.mode,ref:t})))));t.a=R},dKzH:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var a=n("ERkP"),o=n("l1C2"),r=n("K7O5"),i=n("A46D"),l=n("pwfR"),s=n("PEqI"),c=n("BMbf");const d=Object(c.h)(),u=50*d,b=6*d,g=10*d,p=Object(a.createContext)({dismissAllowed:()=>!1});function f(){return Object(a.useContext)(p)}const h=`\n  bottom: 0;\n  position: absolute;\n  width: ${u}px;\n  transition: transform 400ms ease-in-out;\n\n  @media (max-width: 560px) {\n    width: 100vw;\n  }\n\n  &:first-of-type {\n    transition: none;\n    transform: translate(0,0);\n  }\n\n  &:nth-of-type(n + 2) {\n    animation-duration: 0ms;\n    transform: translateX(0) translateY(100%) translateY(${2*d}px);\n  }\n\n  /* Layer the 'primary' flag above the 'secondary' flag */\n  &:nth-of-type(1) {\n    z-index: 5;\n  }\n  &:nth-of-type(2) {\n    z-index: 4;\n  }\n\n  &:nth-of-type(n + 4) {\n    visibility: hidden;\n  }\n`;var m={name:"p64dor",styles:"border:0;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"};t.a=e=>{const{label:t="Flag notifications",labelTag:n="h2",children:d,onDismissed:u}=e,f=Array.isArray(d)?d.length>0:Boolean(d);let O=null;f&&d&&(O=Array.isArray(d)?d[0].props.id:d.props.id);const j={onDismissed:u,dismissAllowed:e=>e===O};return Object(o.f)(p.Provider,{value:j},Object(o.f)(s.a,{zIndex:c.i.flag()},Object(o.f)("div",{css:Object(o.e)("bottom:",b,"px;left:",g,"px;position:fixed;z-index:",c.i.flag(),";@media (max-width:560px){bottom:0;left:0;}")},f?Object(o.f)(n,{css:m},t):null,Object(o.f)(l.a,{appear:!1},!!d&&a.Children.map(d,(e,t)=>{const n=0===t,{id:a}=e.props;return Object(o.f)(r.a,{key:a,enterFrom:"left",fade:"inout",duration:400,animationTimingFunction:()=>i.a},t=>Object(o.f)("div",Object.assign({},t,{css:Object(o.e)(h," ",n?"\n                    && + * {\n                     transform: translate(0, 0);\n                     transition-duration: 200ms\n                   }":"")}),e))})))))}},jc0p:function(e,t,n){"use strict";var a=n("HbGN"),o=n("ERkP"),r=n.n(o),i=n("l1C2");const l=r.a.forwardRef((function(e,t){let{before:n,contentElement:o,after:r,testId:l,role:s,tagCss:c}=e,d=Object(a.a)(e,["before","contentElement","after","testId","role","tagCss"]);return Object(i.f)("span",Object.assign({},d,{role:s,ref:t,css:c,"data-testid":l}),n,o,r)}));t.a=l},kjOP:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("3IV/");const o={standard:{light:a.N700,dark:a.DN600},green:{light:a.N800,dark:a.N800},purple:{light:a.N800,dark:a.N800},red:{light:a.N800,dark:a.N800},yellow:{light:a.N800,dark:a.N800},grey:{light:a.N0,dark:a.N0},teal:{light:a.N800,dark:a.N800},blue:{light:a.N800,dark:a.N800},tealLight:{light:a.N500,dark:a.N500},blueLight:{light:a.B500,dark:a.B500},greenLight:{light:a.G500,dark:a.G500},purpleLight:{light:a.P500,dark:a.P500},redLight:{light:a.N500,dark:a.N500},yellowLight:{light:a.N500,dark:a.N500},greyLight:{light:a.N500,dark:a.N500}},r={standard:{light:a.N20,dark:a.DN100A},green:{light:a.G200,dark:a.G200},purple:{light:a.P100,dark:a.P100},red:{light:a.R100,dark:a.R100},yellow:{light:a.Y200,dark:a.Y200},grey:{light:a.N500,dark:a.N500},teal:{light:a.T200,dark:a.T200},blue:{light:a.B100,dark:a.B100},tealLight:{light:a.T100,dark:a.T100},blueLight:{light:a.B75,dark:a.B75},greenLight:{light:a.G100,dark:a.G100},purpleLight:{light:a.P75,dark:a.P75},redLight:{light:a.R75,dark:a.R75},yellowLight:{light:a.Y100,dark:a.Y100},greyLight:{light:a.N30,dark:a.N30}},i={standard:{light:a.N30,dark:a.DN60},green:{light:a.G100,dark:a.DN60},purple:{light:a.P75,dark:a.DN60},red:{light:a.R75,dark:a.DN60},yellow:{light:a.Y100,dark:a.DN60},grey:{light:a.N50,dark:a.DN60},teal:{light:a.T100,dark:a.DN60},blue:{light:a.B75,dark:a.DN60},tealLight:{light:a.T75,dark:a.DN60},blueLight:{light:a.B50,dark:a.DN60},greenLight:{light:a.G75,dark:a.DN60},purpleLight:{light:a.P50,dark:a.DN60},redLight:{light:a.R50,dark:a.DN60},yellowLight:{light:a.Y75,dark:a.DN60},greyLight:{light:a.N30,dark:a.DN60}},l={light:a.B100,dark:a.B75},s={light:a.R300,dark:a.R200},c={light:a.B100,dark:a.B75},d={light:a.B300,dark:a.B200},u=(e,t)=>r[e||"standard"][t],b=(e,t)=>({light:a.R500,dark:a.DN30}[t]),g=(e,t)=>({light:a.R50,dark:a.R100}[t]),p=(e,t)=>({backgroundColor:u(e,t),backgroundColorHover:g(0,t),textColor:((e,t)=>o[e||"standard"][t])(e,t),textColorHover:b(0,t)}),f=(e,t)=>{const n=g(0,t),a=b(0,t);return{hoverBackgroundColor:((e,t)=>i[e||"standard"][t])(e,t),hoverTextColor:d[t],hoverBackgroundColorRemoval:n,hoverTextColorRemoval:a,focusRingColor:l[t]}},h=(e,t)=>({chromeColors:p(e,t),chromeLinkColors:f(e,t),buttonColors:((e,t)=>({backgroundColor:u(e,t),backgroundColorHover:g(0,t),focusBoxShadowColor:c[t],hoverBoxShadowColor:s[t]}))(e,t),linkHoverColor:d[t]})},lQet:function(e,t,n){"use strict";n.d(t,"b",(function(){return k}));n("HbGN");var a=n("cxan"),o=n("fGyu"),r=n("pkwY"),i=n("9fIP"),l=n("MMYH"),s=n("K/z8"),c=n("sRHE"),d=n("8K1b"),u=n("pWxA"),b=n("zjfJ"),g=n("ERkP"),p=n.n(g),f=(n("l1C2"),n("7nmT"),n("aWzz"),n("4wDe"),n("cWvm")),h=n("fjh6"),m=(n("5IAQ"),n("KD1n"),n("jynR"),n("8CuW")),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),a=String(t.value).toLowerCase(),o=String(t.label).toLowerCase();return a===n||o===n},j={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return O(e,t)}))||n.some((function(t){return O(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},v=Object(r.a)({allowCreateWhileLoading:!1,createOptionPosition:"last"},j),k=function(e){var t,n;return n=t=function(t){function n(e){var t;Object(i.a)(this,n),t=Object(s.a)(this,Object(c.a)(n).call(this,e)),Object(b.a)(Object(u.a)(Object(u.a)(t)),"select",void 0),Object(b.a)(Object(u.a)(Object(u.a)(t)),"onChange",(function(e,n){var a=t.props,r=a.getNewOptionData,i=a.inputValue,l=a.isMulti,s=a.onChange,c=a.onCreateOption,d=a.value,u=a.name;if("select-option"!==n.action)return s(e,n);var b=t.state.newOption,g=Array.isArray(e)?e:[e];if(g[g.length-1]!==b)s(e,n);else if(c)c(i);else{var p=r(i,i),h={action:"create-option",name:u};s(l?[].concat(Object(o.a)(Object(f.f)(d)),[p]):p,h)}}));var a=e.options||[];return t.state={newOption:void 0,options:a},t}return Object(d.a)(n,t),Object(l.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,a=e.formatCreateLabel,r=e.getNewOptionData,i=e.inputValue,l=e.isLoading,s=e.isValidNewOption,c=e.value,d=e.options||[],u=this.state.newOption;u=s(i,Object(f.f)(c),d)?r(i,a(i)):void 0,this.setState({newOption:u,options:!t&&l||!u?d:"first"===n?[u].concat(Object(o.a)(d)):[].concat(Object(o.a)(d),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return p.a.createElement(e,Object(a.a)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}]),n}(g.Component),Object(b.a)(t,"defaultProps",v),n},x=k(h.a),y=Object(m.a)(x);t.a=y},p7S1:function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),o=n.n(a),r=n("gQ5V"),i=(n("aWzz"),n("Ssfy")),l=n("H5qd"),s=n.n(l);const c=s.a`query EditLabelDialogQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id labels{count nodes{id label name prefix}}}}}`,d=s.a`mutation AddLabelsMutation($contentId:ID!$labels:[LabelInput!]!){addLabels(input:{contentId:$contentId labels:$labels}){labels{count nodes{id prefix name label}}}}`;var u=n("Czhu"),b=n("lSUb"),g=n("L21V"),p=n("KsTJ"),f=n("kbI0"),h=n("MqVv"),m=n("zJ/j"),O=n("3d8H"),j=n("1whV"),v=n.n(j),k=n("3IV/"),x=n("z9P0"),y=n("+6Tk"),C=n("+EFR");var w=n("WB0a"),N=n("wej5"),L=n("ymuQ"),E=n("gwLK"),I=n("zjfJ"),R=n("RNvQ"),D=n.n(R),S=n("6+Wb"),B=n("bqd3");const M=s.a`query LabelSearchQuery($contentId:ID!$searchText:String!){contentLabelSearch(contentId:$contentId searchText:$searchText){suggestedLabels{prefix name id label}otherLabels{prefix name id label}}}`,z={DropdownIndicator:null,NoOptionsMessage:()=>null,Menu:e=>e.options&&e.options.length?o.a.createElement(S.z.Menu,Object(u.a)({},e),e.children):null};class A extends a.Component{constructor(...e){super(...e),Object(I.a)(this,"onChange",e=>{if(e){const t=e.map(e=>({name:e.value,prefix:e.prefix||""}));this.props.onSelectSuggestion(t)}else this.props.onSelectSuggestion([])}),Object(I.a)(this,"onCreateOption",e=>{this.props.onCreateOption(e)}),Object(I.a)(this,"makeSearchQuery",async e=>{var t;const{apolloClient:n,contentId:a}=this.props,{data:o}=await n.query({query:M,variables:{searchText:e,contentId:a}});let r=(null!=(t=o)&&null!=(t=t.contentLabelSearch)?t.suggestedLabels:t).slice(0,5);if(r.length<5){var i;const e=null!=(i=o)&&null!=(i=i.contentLabelSearch)?i.otherLabels:i;r=r.concat(e.slice(0,5-r.length))}return r}),Object(I.a)(this,"loadOptions",D()((e,t)=>{this.makeSearchQuery(e).then(e=>{t(e.map(e=>({label:e.label,value:e.label})))})},300))}render(){const{inputLabelsValue:e,setSelectInputRef:t}=this.props;return o.a.createElement(B.a,{isClearable:!0,isMulti:!0,cacheOptions:!0,autoFocus:!0,components:z,styles:{menuPortal:e=>Object(u.a)(Object(u.a)({},e),{},{zIndex:9999})},value:(n=e,n.map(e=>({label:e.name,value:e.name}))),onCreateOption:this.onCreateOption,loadOptions:this.loadOptions,allowCreateWhileLoading:this.props.allowCreateWhileLoading,onChange:this.onChange,placeholder:"",ref:t,captureMenuScroll:!1,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"bottom"});var n}}Object(I.a)(A,"defaultProps",{allowCreateWhileLoading:!1,setSelectInputRef:()=>{}});class P extends a.Component{render(){const{contentId:e,inputLabelsValue:t,onSelectSuggestion:n,onCreateOption:a,setSelectInputRef:r}=this.props;return o.a.createElement(E.a,null,i=>o.a.createElement(A,{apolloClient:i,contentId:e,onSelectSuggestion:n,onCreateOption:a,inputLabelsValue:t,setSelectInputRef:r}))}}const T=p.default.div`
  align-items: baseline;
  box-sizing: border-box;
  display: flex;
  flex-wrap: wrap;
  padding-top: 20px;
  visibility: visible;
  min-height: 150px;
`,H=p.default.span`
  margin-right: 12px;
  flex-grow: 1;
`,$=p.default.div`
  flex-basis: 100%;
  flex-shrink: 0;
`,V=Object(g.f)({"please.enter.a.label":{id:"labels.error.enterLabel",defaultMessage:"Please enter a label.",description:"User did not select label(s) before submitting"},"label.not.found":{id:"labels.error.notFound",defaultMessage:"Label Not Found",description:"Could not find label to delete"},"label.contains.invalid.chars":{id:"labels.error.invalidChars",defaultMessage:"{0} contains invalid characters ({1}).",description:"Message when user tries to add label with invalid characters"},"label.name.is.too.long":{id:"labels.error.tooLong",defaultMessage:"Label names must be less than {0} characters.",description:"User tried to add label with too many characters"},"only.personal.labels.permitted":{id:"labels.error.onlyPersonal",defaultMessage:"You are only permitted to add personal labels on this page.",description:"User only has permission to add personal labels"},dismissAction:{id:"labels.error.action.dismiss",defaultMessage:"Dismiss",description:"Action to dismiss error message"},errorTitle:{id:"labels.error.title",defaultMessage:"Error",description:"Title of error message"}}),F=Object(a.memo)(({intl:e,spaceKey:t,contentId:n,labels:r,isAdding:i,addLabels:l,closeDialog:s})=>{const[c,d]=Object(a.useState)([]),[p,j]=Object(a.useState)(null),E=e=>{j(Object(C.a)(e))},I=Object(a.useRef)(null),R=Object(y.a)("confluence.frontend.flags.dialog"),{createAnalyticsEvent:D}=Object(x.a)(),S=Object(a.useCallback)(e=>{const t=e.trim().split(" ").map(e=>({name:e,prefix:""}));d([...c,...t])},[c]),B=()=>{l({variables:{contentId:n,labels:c},optimisticResponse:{__typename:"Mutation",addLabels:{__typename:"AddLabelsPayload",labels:{__typename:"PaginatedLabelList",count:r.length+c.length,nodes:r.concat(c.map(e=>Object(u.a)(Object(u.a)({},e),{},{id:""+Math.round(-1e6*Math.random()),label:e.name,__typename:"Label"})))}}}}).then(()=>{((e,t,n)=>{n({type:"sendTrackEvent",data:{action:"add",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:t,newLabels:e}}}).fire()})(c,n,D),R&&s()}).catch(e=>{E(e)}),I.current&&I.current.focus(),d([])},M={components:{Header:N.a,Footer:R&&c.length>0?Object(L.a)(B):L.b},width:"medium",onClose:s,autoFocus:!1},z=Object(b.default)(t=>{const{formatHTMLMessage:n}=e;let a="";return t&&"object"==typeof t&&(t.messageKey?a=n(V[t.messageKey],t.args):t.message&&(a=t.message)),a});return o.a.createElement(f.b,null,o.a.createElement(h.a,Object(u.a)({},M),(()=>{const t=z(p);if(t){const{formatMessage:a}=e;((e,t,n)=>{n({type:"sendTrackEvent",data:{action:"error",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:t,errorMessage:e}}}).fire()})(t,n,D);const r=a(V.errorTitle),i=o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),l=[{content:a(V.dismissAction),onClick:()=>j(null)}];return o.a.createElement(O.a,{title:r,actions:l,description:i,icon:o.a.createElement(v.a,{primaryColor:k.R300}),isDismissAllowed:!0})}return null})(),o.a.createElement(T,{"data-testid":"modal-content"},o.a.createElement(H,null,o.a.createElement(P,{contentId:n,inputLabelsValue:c,onSelectSuggestion:d,onCreateOption:S,setSelectInputRef:e=>{I.current=e}})),R?null:o.a.createElement(a.Fragment,null,o.a.createElement(m.a,{appearance:"default",isDisabled:i,onClick:B},o.a.createElement(g.b,{id:"labels.verb.add",defaultMessage:"Add",description:"Action to add a label to content"})),o.a.createElement($,{id:"dialog-label-list",className:"label-list","data-ready":"true","data-testid":"dialog-label-list"},(()=>{const e={onError:E,spaceKey:t,contentId:n};return r&&0!==r.length?r.map(t=>{const n={id:t.id,prefix:t.prefix,name:t.name};return o.a.createElement(w.a,Object(u.a)(Object(u.a)(Object(u.a)({},n),e),{},{key:t.id}))}):null})())))))});F.displayName="EditLabelDialogComponent";const K=Object(g.g)(F);n.d(t,"EditLabelDialog",(function(){return W}));class W extends a.Component{render(){const{contentId:e,spaceKey:t,closeDialog:n}=this.props;return o.a.createElement(r.b,{query:c,variables:{contentId:e,status:i.a},fetchPolicy:"network-only"},({data:a,error:l,loading:s})=>{var u;if(l)return null;const b=(null!=(u=a)&&null!=(u=u.content)&&null!=(u=u.nodes)&&null!=(u=u[0])&&null!=(u=u.labels)?u.nodes:u)||[];return o.a.createElement(r.a,{mutation:d,update:(t,{data:n})=>{var a;const o=null!=(a=n)&&null!=(a=a.addLabels)?a.labels:a,r=t.readQuery({query:c,variables:{contentId:e,status:i.a}});r.content.nodes[0].labels=o,t.writeQuery({query:c,variables:{contentId:e,status:i.a},data:r})}},(a,{loading:r})=>o.a.createElement(K,{labels:b,contentId:e,spaceKey:t,closeDialog:n,addLabels:a,isAdding:r||s}))})}}},wej5:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),o=n.n(a),r=n("cJDk"),i=n("L21V"),l=n("KsTJ"),s=n("3IV/");const c=l.default.h2`
  color: ${s.N800};
`,d=l.default.a`
  color: ${s.B400};
`;class u extends a.PureComponent{renderHelpLink(){return o.a.createElement(d,{href:"https://confluence.atlassian.com/confcloud/use-labels-to-organize-your-content-724764874.html",target:"_blank",rel:"noopener"},o.a.createElement(i.b,{id:"labels.help.link.text",defaultMessage:"Help",description:"Link text to help page"}))}render(){return o.a.createElement("div",null,o.a.createElement(r.e,null,o.a.createElement(c,null,o.a.createElement(i.b,{id:"labels.modal.title",defaultMessage:"Labels",description:"Title for modal to edit content labels"})),this.renderHelpLink()))}}},xafO:function(e){e.exports=JSON.parse('{"a":"@atlaskit/flag","b":"14.0.7"}')},ymuQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var a=n("ERkP"),o=n.n(a),r=n("lSUb"),i=n("cJDk"),l=n("zJ/j"),s=n("L21V"),c=(n("aWzz"),n("KsTJ")),d=n("3IV/");const u=c.default.span`
  color: ${d.N300};
`,b=o.a.createElement(u,null,o.a.createElement(s.a,{id:"labels.dialog.shortcut.tip",defaultMessage:"Shortcut tip: In page view, pressing <b>{shortcut}</b> also opens this dialog box",values:{shortcut:"l"}})),g=o.a.createElement(s.b,{id:"labels.dialog.close",defaultMessage:"Close",description:"Verb to close dialog"}),p=(e,t)=>({onClose:n})=>{const a=e;return o.a.createElement(i.d,null,b,t?o.a.createElement(l.a,{appearance:"default",onClick:n},g):null,o.a.createElement(l.a,{appearance:"primary",onClick:()=>{t?t():n()}},a))},f=Object(r.default)(e=>p(o.a.createElement(s.b,{id:"labels.dialog.action",defaultMessage:"Add",description:"Verb to close dialog and add tags"}),e)),h=p(g)},zrGf:function(e,t,n){"use strict";var a=n("l1C2"),o=n("J1k2");t.a=e=>{const{elemBefore:t=null,isRemovable:n=!0,text:r="",color:i="standard",href:l,isRounded:s,isLink:c,linkComponent:d="a",linkHoverColor:u}=e;return c?Object(a.f)(d,{href:l,"data-color":i,css:[Object(o.f)(u),s?o.g:void 0,t?o.e:void 0,n?o.d:void 0]},r):Object(a.f)("span",{css:[o.h,s?o.g:void 0,t?o.e:void 0,n?o.d:void 0]},r)}}}]);
//# sourceMappingURL=EditLabelDialog~b59ad437.UxFKgjZpcD.js.map