(window.webpackJsonp=window.webpackJsonp||[]).push([["pseudo-wizard-create-dialog~493df0b3"],{"17lG":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("Jygk"),a=n.n(r),o=n("k8+f");function i(e){try{return a.a.require(e),!0}catch(t){return!1}}function c({listener:e,module:t,interval:n=250},r){Object(o.a)({listener:"wait-for-required-module "+t,globalProperty:"require"},()=>{if(i(t))return void r();const e=setInterval(()=>{i(t)&&(clearInterval(e),r())},n)})}},"3ac5":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("TOvH"),a=n("RZKf"),o=n("4BMa"),i=n("hd8a"),c=n("7xNx"),l=n("rQmM"),s=n("bpT7");function d(){Object(o.a)(),Object(o.b)(),r.a.preload(),a.a.preload(),i.a.preload(),c.a.preload(),l.a.preload(),s.b.preload(),s.a.preload()}},"4BMa":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("7yUP");const a=async()=>{Object(r.c)("confluence.fabric.editor.download.start");const e=await Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e(0),n.e(4),n.e(5),n.e(7),n.e(8),n.e(9),n.e(10),n.e(12),n.e(16),n.e(18),n.e(17),n.e(20),n.e(21),n.e(31),n.e(35),n.e(30),n.e(36),n.e("@atlaskit_editor-core~b59ad437")]).then(n.bind(null,"6Qoh"));return Object(r.c)("confluence.fabric.editor.download.end"),e},o=()=>Promise.all([n.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),n.e("synchrony-plugin~4134d62c")]).then(n.bind(null,"/VC6"))},"681K":function(e,t,n){"use strict";n.r(t),n.d(t,"CreateDialogBlueprintWizardRenderer",(function(){return O}));var r=n("zjfJ"),a=(n("aWzz"),n("ERkP")),o=n.n(a),i=n("Jygk"),c=n.n(i),l=n("wuLf"),s=n("3ac5"),d=n("bfgX"),u=n("S2j0"),p=n("hpu0"),f=n("3VMZ"),b=n("A79P"),g=n("k8+f"),h=n("17lG");class m extends a.PureComponent{constructor(...e){super(...e),Object(r.a)(this,"isOpening",!1),Object(r.a)(this,"forceReloadInNextOpen",!0),Object(r.a)(this,"_setOpenState",e=>e?this._open():this._close()),Object(r.a)(this,"_close",e=>{if("function"==typeof this._confluenceDialogClose){try{this._confluenceDialogClose()}catch(t){0}this._confluenceDialogClose=null}Object(d.c)("remove.dialog",this._afterDialogClosed),this.props.onClose(e)}),Object(r.a)(this,"_afterDialogClosed",(e,{dialog:t})=>{"create-dialog"===t.id&&(this._confluenceDialogClose=null,this._close(e))}),Object(r.a)(this,"_isActive",()=>!!c.a.document.querySelector("#create-dialog")),Object(r.a)(this,"_open",()=>{if(!this._isActive()&&!this.isOpening){const{blueprint:e,spaceKey:t,parentPageId:n,title:r,contentId:a,onContentUpdated:o,onError:i}=this.props;e&&(Object(p.b)().start({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG,timeout:b.a.DEFAULT}),this.isOpening=!0,Object(u.a)(["wrc!com.atlassian.confluence.plugins.dialog-wizard:dialog-wizard-resources","wrc!create-content"],()=>{Object(h.a)({listener:"PseudoWizardDialog",module:"ac/confluence/style/link-style-css"},()=>{const e=c.a.require("ac/confluence/style/link-style-css");e&&"function"==typeof e.addLinkTags&&e.addLinkTags()}),Object(g.a)({listener:"PseudoWizardDialog",globalProperty:"Confluence.Blueprint.loadDialogAndOpenTemplate"},()=>{const{contentBlueprintId:l,templateId:s,itemModuleCompleteKey:d}=e;c.a.Confluence.Blueprint.loadDialogAndOpenTemplate({spaceKey:t,contentBlueprintId:l,templateId:s,initContext:{itemModuleCompleteKey:d,parentPageId:"no-parent-page"===n?null:n},contentId:a,onContentUpdated:o,onError:i,title:r}).then(()=>{this.isOpening=!1,this.forceReloadInNextOpen=!1,Object(p.b)().succeed({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG})}).fail(e=>{this.isOpening=!1,this.forceReloadInNextOpen=!1,Object(p.b)().fail({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG,error:new Error("Failed to open correct blueprint dialog "+e)})})})},()=>{Object(p.b)().fail({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG,error:new Error("WRM is unavailable")})}))}})}componentDidMount(){Object(d.a)("remove.dialog",this._afterDialogClosed),this.forceReloadInNextOpen=!0,this._setOpenState(this.props.open)}UNSAFE_componentWillReceiveProps(e){this.props.spaceKey!==e.spaceKey&&(this.forceReloadInNextOpen=!0),e.open&&Object(s.a)()}render(){return null}}Object(r.a)(m,"displayName","PseudoWizardDialog"),Object(r.a)(m,"defaultProps",{onClose:()=>{}});const O=()=>{const{showBlueprintVariableWizard:e,parentPageId:t,spaceKey:n,title:r,onClose:i,blueprint:c,contentId:s,onContentUpdated:d,onError:u}=Object(a.useContext)(l.a);return e?o.a.createElement(m,{parentPageId:t,spaceKey:n,title:r,onClose:i,blueprint:c,contentId:s,onContentUpdated:d,onError:u,open:!0}):null}},"7xNx":function(e,t,n){"use strict";var r=n("RfuI"),a=Object(r.a)({id:"iGkzZ",name:"packages/confluence-fabric-editor/src/components/EditorBreadcrumbs/EditorBreadcrumbsLoader.ts",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e(0),n.e("fabric.editor.breadcrumbs~dc51bad7")]).then(n.bind(null,"R0Hm"))});t.a=a},"7yUP":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));n("veKZ");var r=n("aGtI"),a=n.n(r),o=n("BlJA"),i=n.n(o),c=n("Jygk"),l=n.n(c);const s=(e,t,n=[])=>{if(e===t)return!0;const r=a()(i()(e),i()(t));for(const a of r)if(!(n.indexOf(a)>=0)&&e[a]!==t[a])return!1;return!0},d=e=>{0},u=e=>{l.a.performance&&l.a.performance.mark(e)}},RZKf:function(e,t,n){"use strict";var r=n("RfuI");t.a=Object(r.a)({id:"HcbRZ",name:"packages/confluence-fabric-editor/src/components/ContentEditorBindings/ContentEditorBindingsLoader.ts",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e(8),n.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),n.e(131),n.e("collab.editor.container~dc51bad7")]).then(n.bind(null,"ktcL"))})},TOvH:function(e,t,n){"use strict";var r=n("RfuI");t.a=Object(r.a)({id:"wso4J",name:"packages/confluence-fabric-editor/src/components/FullPageEditorWrapper/FullPageEditorWrapperLoader.js",loader:()=>Promise.all([n.e("vendors~4134d62c"),n.e(13),n.e("fullpage.editor.wrapper~493df0b3")]).then(n.bind(null,"XDCa"))})},bpT7:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("ERkP"),a=n.n(r),o=n("RfuI");const i=Object(o.a)({id:"lxa0b",name:"EditPageLoader",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("fabric.editpage~493df0b3")]).then(n.bind(null,"wv4k"))}),c=Object(o.a)({id:"BcQNz",name:"EditPageDataLoaderLoader",loader:()=>Promise.all([n.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),n.e(131),n.e("fabric.editpage.dataloader~549ee3d0")]).then(n.bind(null,"yRof"))}),l=(e,t)=>()=>a.a.createElement(c,{contentId:e,spaceKey:t})},hd8a:function(e,t,n){"use strict";var r=n("RfuI");t.a=Object(r.a)({id:"PHwyb",name:"EditPageBrowserTitle",loader:()=>n.e("fabric.editpage.title~493df0b3").then(n.bind(null,"66Bi"))})},"k8+f":function(e,t,n){"use strict";function r(e){const t=e.split(".");let n=window[t.shift()];for(;void 0!==n&&t.length;)n=n[t.shift()];return n}n.d(t,"a",(function(){return o}));function a(e){0}function o({listener:e,globalProperty:t,interval:n=250},o){if(r(t))return a(),o(),null;const i=setInterval(()=>{a(),r(t)&&(a(),clearInterval(i),o())},n);return{cancel(){i&&clearInterval(i)}}}},rQmM:function(e,t,n){"use strict";var r=n("RfuI");t.a=Object(r.a)({id:"m7yuF",name:"packages/confluence-fabric-editor/src/components/FullPageEditor/FullPageEditorLoader.ts",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(2),n.e(4),n.e(3),n.e(5),n.e(1),n.e(6),n.e(7),n.e(8),n.e(9),n.e(11),n.e(10),n.e(12),n.e(13),n.e(14),n.e(16),n.e(18),n.e(17),n.e(19),n.e(20),n.e(21),n.e(25),n.e(26),n.e(24),n.e(29),n.e(31),n.e(35),n.e(30),n.e(32),n.e(33),n.e(36),n.e(40),n.e(41),n.e(44),n.e(46),n.e(47),n.e(51),n.e(67),n.e(73),n.e(113),n.e("fullpage.editor.container~493df0b3")]).then(n.bind(null,"goqy"))})}}]);
//# sourceMappingURL=pseudo-wizard-create-dialog~493df0b3.89X9LgG68S.js.map