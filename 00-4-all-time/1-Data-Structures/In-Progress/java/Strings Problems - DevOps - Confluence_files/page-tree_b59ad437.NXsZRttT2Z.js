(window.webpackJsonp=window.webpackJsonp||[]).push([["page-tree~b59ad437"],{"0+uK":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("H5qd");const r=n.n(a).a`query WebItemLocationQuery($location:String$locations:[String]$contentId:ID$spaceKey:String$version:Int){webItemSections(location:$location locations:$locations contentId:$contentId key:$spaceKey version:$version){id label styleClass items{accessKey completeKey hasCondition id icon{path}params{key value}label moduleKey section styleClass tooltip url urlWithoutContextPath weight}}}`},"0ItC":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ERkP"),r=n.n(a);const i=({children:e,delay:t})=>{const[n,i]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{const e=setTimeout(()=>i(!0),t>0?t:0);return()=>clearTimeout(e)},[t]),n?r.a.createElement(a.Fragment,null,e):null}},"2z5K":function(e,t,n){var a=n("YpBQ"),r=n("S3pA"),i=n("R3TX"),o=n("s+R0"),s=n("Ndl3"),c=n("p1C/"),l=i((function(e){var t=c(e);return s(t)&&(t=void 0),o(a(e,1,s,!0),r(t,2))}));e.exports=l},"3Z2R":function(e,t,n){"use strict";var a=n("Czhu"),r=n("zjfJ"),i=n("ERkP"),o=n.n(i),s=(n("aWzz"),n("gQ5V")),c=n("yjkv"),l=n.n(c),d=n("jLkM"),u=n.n(d),p=n("aoYE");class g extends i.Component{constructor(...e){super(...e),Object(r.a)(this,"state",{superBatchLoaded:!1})}componentDidMount(){this.mounted=!0;const{webItems:e,onLoad:t,waitForSuperBatch:n}=this.props;t&&t({webItems:e}),n&&Object(p.a)().then(()=>{this.mounted&&this.setState({superBatchLoaded:!0})})}componentWillUnmount(){this.mounted=!1}render(){const{id:e,tagName:t,className:n,style:a,children:r,webItems:i,webSections:s,location:c,contentId:l,waitForSuperBatch:d}=this.props;if(d&&!this.state.superBatchLoaded)return null;const u={"data-webitem-location":c,"data-content-id":l,children:"function"==typeof r?r({webItems:i,webSections:s}):null};return e&&(u.id=e),n&&(u.className=n),a&&(u.style=a),o.a.createElement(t,u)}}Object(r.a)(g,"defaultProps",{tagName:"div"});var h=n("0+uK");n.d(t,"a",(function(){return f}));class f extends i.Component{constructor(...e){super(...e),Object(r.a)(this,"experienceSuccess",e=>{this.props.experienceSuccess&&this.props.experienceSuccess(e)})}render(){const{location:e,children:t,onLoad:n,hasMultipleSections:r,renderWhenLoading:i,allowedWebItems:c,notAllowedWebItems:d,fetchPolicy:p,spaceKey:f,contentId:b,id:m,className:v,style:y,tagName:E,version:I,waitForSuperBatch:O}=this.props,P={location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],contentId:b||null,spaceKey:f||null,version:I||null};return o.a.createElement(s.b,{query:h.a,variables:P,fetchPolicy:p},({data:s,loading:p,error:h})=>{var f;if(h)return null;if(p&&!s)return i&&"function"==typeof t?t({loading:p}):null;let b=((null!=(f=s)?f.webItemSections:f)||[]).reduce((e,t)=>e.concat((t.items||[]).map(e=>Object(a.a)(Object(a.a)({},e),{},{parentSection:{label:t.label||t.styleClass}}))),[]);b=l()(b,"completeKey"),c&&(b=b.filter(e=>c.includes(e.completeKey))),d&&(b=b.filter(e=>!d.includes(e.completeKey))),b.forEach(e=>{const t={};if(Array.isArray(e.params)&&(e.params.forEach(e=>{t[e.key]=e.value}),e.params=t),e.section&&-1!==e.section.indexOf("/")){const t=e.section.split("/");e.webSection=t[1]}});let I=[];return r&&(I=u()(b.map(e=>e.section))),b.sort((e,t)=>e.weight-t.weight==0?e.label.localeCompare(t.label):e.weight-t.weight),p||this.experienceSuccess(!0),o.a.createElement(g,{id:m,className:v,style:y,tagName:E,location:e,webItems:b,webSections:I,onLoad:n,waitForSuperBatch:O},t)})}}Object(r.a)(f,"defaultProps",{fetchPolicy:"cache-and-network"})},"5frb":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd"),r=n.n(a);const i=r.a`fragment PageCardSearchResult on ConfluenceSearchResult{...on ConfluenceContentSearchResult{id title url excerpt lastModified{value}node{id links{editui}history{createdBy{profilePicture{path}displayName}}metadata{currentuser{favourited{isFavourite}}likes{count}comments{commentsCount}}}}}`,o=r.a`query SpacePagesQuery($searchText:String!$filters:ConfluenceSearchFilters!$first:Int!$token:String$sortBy:ConfluenceContentSortField!){confluenceContentSearch(query:$searchText scopes:[PAGE]filters:$filters first:$first token:$token sort:[$sortBy]sessionAttributes:{experience:"confluence.spacePages"}){nodes{...PageCardSearchResult}pageInfo{hasNextPage nextPageToken}}}${i}`},"6BAR":function(e,t,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t,n,a,r,i){n&&(Array.isArray(r)?function(e,t,n,a,r,i){for(var o=Math.min(r.length,i.length),s=0;s<o;s++)if(e.assigned[s]&&r[s]!==i[s]){var c=t.concat(s);n.push({op:"replace",path:c,value:i[s]}),a.push({op:"replace",path:c,value:r[s]})}if(o<i.length){for(var l=o;l<i.length;l++){var d=t.concat(l);n.push({op:"add",path:d,value:i[l]})}a.push({op:"replace",path:t.concat("length"),value:r.length})}else if(o<r.length){n.push({op:"replace",path:t.concat("length"),value:i.length});for(var u=o;u<r.length;u++){var p=t.concat(u);a.push({op:"add",path:p,value:r[u]})}}}(e,t,n,a,r,i):function(e,t,n,a,r,i){m(e.assigned,(function(e,o){var s=r[e],c=i[e],l=o?e in r?"replace":"add":"remove";if(s!==r||"replace"!==l){var d=t.concat(e);n.push("remove"===l?{op:l,path:d}:{op:l,path:d,value:c}),a.push("add"===l?{op:"remove",path:d}:"remove"===l?{op:"add",path:d,value:s}:{op:"replace",path:d,value:s})}}))}(e,t,n,a,r,i))}var r,i,o,s="undefined"!=typeof Symbol?Symbol("immer-nothing"):(o=!0,(i="immer-nothing")in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),c="undefined"!=typeof Symbol?Symbol("immer-proxy-state"):"__$immer_state",l="An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.";var d=!(void 0!==e||"verifyMinified"!==function(){}.name),u="undefined"!=typeof Proxy&&"undefined"!=typeof Reflect;function p(){return u}function g(e){return!!e&&!!e[c]}function h(e){if(!e)return!1;if("object"!==(void 0===e?"undefined":n(e)))return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=Object.assign||function(e,t){for(var n in t)v(t,n)&&(e[n]=t[n]);return e};function b(e){if(Array.isArray(e))return e.slice();var t=void 0===e.__proto__?Object.create(null):{};return f(t,e)}function m(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n]);else for(var a in e)t(a,e[a])}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y(e,t,n,r){if(g(e)){var i=e[c];if(!0===i.modified){if(!0===i.finalized)return i.copy;i.finalized=!0;var o=function(e,t,n,a,r){var i=t.base;return m(e,(function(o,s){if(s!==i[o]){var c=a&&!v(t.assigned,o);e[o]=y(s,c&&n.concat(o),c&&a,r)}})),function(e){return d&&Object.freeze(e),e}(e)}(u?i.copy:i.copy=b(e),i,t,n,r);return a(i,t,n,r,i.base,o),o}return i.base}return function e(t){if(!h(t))return;if(Object.isFrozen(t))return;m(t,(function(n,a){g(a)?t[n]=y(a):e(a)}))}(e),e}function E(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var I=null,O={get:function(e,t){if(t===c)return e;if(e.modified){var n=e.copy[t];return n===e.base[t]&&h(n)?e.copy[t]=j(e,n):n}if(v(e.proxies,t))return e.proxies[t];var a=e.base[t];return!g(a)&&h(a)?e.proxies[t]=j(e,a):a},has:function(e,t){return t in S(e)},ownKeys:function(e){return Reflect.ownKeys(S(e))},set:function(e,t,n){if(e.assigned[t]=!0,!e.modified){if(t in e.base&&E(e.base[t],n)||v(e.proxies,t)&&e.proxies[t]===n)return!0;C(e)}return e.copy[t]=n,!0},deleteProperty:function(e,t){return e.assigned[t]=!1,C(e),delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var n=e.modified?e.copy:v(e.proxies,t)?e.proxies:e.base,a=Reflect.getOwnPropertyDescriptor(n,t);!a||Array.isArray(n)&&"length"===t||(a.configurable=!0);return a},defineProperty:function(){throw new Error("Immer does not support defining properties on draft objects.")},setPrototypeOf:function(){throw new Error("Immer does not support `setPrototypeOf()`.")}},P={};function S(e){return!0===e.modified?e.copy:e.base}function C(e){e.modified||(e.modified=!0,e.copy=b(e.base),Object.assign(e.copy,e.proxies),e.parent&&C(e.parent))}function j(e,t){if(g(t))throw new Error("Immer bug. Plz report.");var n=function(e,t){return{modified:!1,assigned:{},finalized:!1,parent:e,base:t,copy:void 0,proxies:{}}}(e,t),a=Array.isArray(t)?Proxy.revocable([n],P):Proxy.revocable(n,O);return I.push(a),a.proxy}function T(e,t,n){if(g(e)){var a=t.call(e,e);return void 0===a?e:a}var r=I;I=[];var i=n&&[],o=n&&[];try{var s=j(void 0,e),d=t.call(s,s),u=void 0;if(void 0!==d&&d!==s){if(s[c].modified)throw new Error(l);u=y(d),i&&(i.push({op:"replace",path:[],value:u}),o.push({op:"replace",path:[],value:e}))}else u=y(s,[],i,o);return m(I,(function(e,t){return t.revoke()})),n&&n(i,o),u}finally{I=r}}m(O,(function(e,t){P[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),P.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer does not support deleting properties from arrays: "+t);return O.deleteProperty.call(this,e[0],t)},P.set=function(e,t,n){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer does not support setting non-numeric properties on arrays: "+t);return O.set.call(this,e[0],t,n)};var w={},x=null;function A(e){return e.hasCopy?e.copy:e.base}function R(e){e.modified||(e.modified=!0,e.parent&&R(e.parent))}function k(e){e.hasCopy||(e.hasCopy=!0,e.copy=b(e.base))}function _(e,t){var n=b(t);m(t,(function(e){var t;Object.defineProperty(n,""+e,w[t=""+e]||(w[t]={configurable:!0,enumerable:!0,get:function(){return function(e,t){L(e);var n=A(e)[t];return!e.finalizing&&n===e.base[t]&&h(n)?(k(e),e.copy[t]=_(e,n)):n}(this[c],t)},set:function(e){!function(e,t,n){if(L(e),e.assigned[t]=!0,!e.modified){if(E(A(e)[t],n))return;R(e),k(e)}e.copy[t]=n}(this[c],t,e)}}))}));var a=function(e,t,n){return{modified:!1,assigned:{},hasCopy:!1,parent:e,base:n,proxy:t,copy:void 0,finished:!1,finalizing:!1,finalized:!1}}(e,n,t);return function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})}(n,c,a),x.push(a),n}function L(e){if(!0===e.finished)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(e.copy||e.base))}function D(e){if(e&&"object"===(void 0===e?"undefined":n(e))){var t=e[c];if(t){var a,r,i,o,s=t.proxy,l=t.base;if(Array.isArray(e)){if(N(t)){if(R(t),t.assigned.length=!0,s.length<l.length)for(var d=s.length;d<l.length;d++)t.assigned[d]=!1;else for(var u=l.length;u<s.length;u++)t.assigned[u]=!0;m(s,(function(e,n){t.assigned[e]||D(n)}))}}else{var p=(a=l,r=s,i=Object.keys(a),{added:(o=Object.keys(r)).filter((function(e){return-1===i.indexOf(e)})),removed:i.filter((function(e){return-1===o.indexOf(e)}))}),g=p.added,h=p.removed;(g.length>0||h.length>0)&&R(t),m(g,(function(e,n){t.assigned[n]=!0})),m(h,(function(e,n){t.assigned[n]=!1})),m(s,(function(e,n){t.assigned[e]||D(n)}))}}}}function M(e){for(var t=e.base,n=e.proxy,a=Object.keys(n),r=a.length;0!==r;){var i=a[--r];if(void 0===t[i]&&!v(t,i))return!0}return a.length!==Object.keys(t).length}function N(e){var t=e.proxy;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}function F(e,t,n){if(g(e)){var a=t.call(e,e);return void 0===a?e:a}var r=x;x=[];var i=n&&[],o=n&&[];try{var s=_(void 0,e),d=t.call(s,s);m(x,(function(e,t){t.finalizing=!0}));var u=void 0;if(void 0!==d&&d!==s){if(s[c].modified)throw new Error(l);u=y(d),i&&(i.push({op:"replace",path:[],value:u}),o.push({op:"replace",path:[],value:e}))}else n&&D(s),function(){for(var e=x.length-1;e>=0;e--){var t=x[e];!1===t.modified&&(Array.isArray(t.base)?N(t)&&R(t):M(t)&&R(t))}}(),u=y(s,[],i,o);return m(x,(function(e,t){t.finished=!0})),n&&n(i,o),u}finally{x=r}}function U(e,t,n){if(arguments.length<1||arguments.length>3)throw new Error("produce expects 1 to 3 arguments, got "+arguments.length);if("function"==typeof e&&"function"!=typeof t){var a=t,r=e;return function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return U(i,(function(e){return r.call.apply(r,[e,e].concat(t))}))}}if("function"!=typeof t)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==n&&"function"!=typeof n)throw new Error("the third argument of a producer should not be set or a function");if(!h(e)){var i=t(e);return void 0===i?e:K(i)}return K(p()?T(e,t,n):F(e,t,n))}function K(e){return e===s?void 0:e}U((function(e,t){for(var a=0;a<t.length;a++){var r=t[a],i=r.path;if(0===i.length&&"replace"===r.op)e=r.value;else{for(var o=e,s=0;s<i.length-1;s++)if(!(o=o[i[s]])||"object"!==(void 0===o?"undefined":n(o)))throw new Error("Cannot apply patch, path doesn't resolve: "+i.join("/"));var c=i[i.length-1];switch(r.op){case"replace":case"add":o[c]=r.value;break;case"remove":if(Array.isArray(o)){if(c!==o.length-1)throw new Error("Remove can only remove the last key of an array, index: "+c+", length: "+o.length);o.length-=1}else delete o[c];break;default:throw new Error("Unsupported patch operation: "+r.op)}}}return e}));t.a=U}).call(this,n("F63i"))},"7kiZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("Czhu"),r=n("d9aE"),i=n("cH76"),o=n("syT9");function s({query:e,variables:t,fetchPolicy:n="cache-first",context:s}){const c=Object(o.b)(e),l=window.GLOBAL_APOLLO_CLIENT;let d;if("string"==typeof e){if(!c)return Promise.resolve(o.a)}else{if(!l)return Promise.resolve(o.a);if(d={query:e,variables:t,errorPolicy:"all",fetchPolicy:n,context:Object(a.a)({single:!0},s)},!c)return l.query(d)}return Object(i.a)().load({name:c,variables:t},()=>d?l.query(d):fetch("/cgraphql?q=QueryPreloader_"+c,Object(r.a)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:Object(a.a)({"X-APOLLO-OPERATION-NAME":c,"Content-Type":"application/json"},s&&s.headers),body:JSON.stringify({query:e,variables:t})})).then(e=>e.ok?e.json():o.a).catch(()=>o.a))}},DQJm:function(e,t,n){"use strict";var a=n("ERkP"),r=n.n(a),i=n("QaQC"),o=n("UKxw"),s=n("Ci1n");t.a=e=>{const{shouldRender:t}=Object(s.c)();if(!t)return null;const n=Object(o.c)(o.d,e.cssFn);return r.a.createElement(i.a,Object.assign({},e,{cssFn:n}))}},Dsoe:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ERkP"),r=n("hpu0");class i extends a.Component{constructor(e){super(e),this.markExperienceStart()}markExperienceStart(){const{id:e,name:t,timeout:n,attributes:a,collect:i,onSuccess:o}=this.props;Object(r.b)().start({attributes:a,name:t,timeout:n,id:e,collect:i,onSuccess:o})}render(){return null}}},GFmV:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return v}));var a=n("Czhu"),r=n("EfWO"),i=n.n(r),o=n("frZf"),s=n("ViWs");const c="createBlankFabricPage",l="parentPageId",d="spaceKey",u=e=>{const t=e[c];return"string"==typeof t?"true"===t:!!t},p=e=>{const t={};return e[l]&&(t.parentPageId=e[l]),e[d]&&(t.spaceKey=e[d]),t},g=(e,t={})=>({[c]:e||null,[l]:t.parentPageId||null,[d]:t.spaceKey||null}),h=e=>(e=>{const t=e.getBooleanValue("confluence.frontend.fabric.editor.blank.page",{default:!1,shouldTrackExposureEvent:!1}),n=e.getBooleanValue("confluence.frontend.fabric.editor.all-pages",{default:!1,shouldTrackExposureEvent:!1});return t||n})(e)&&Object(s.a)(e),f=(e,t)=>{var n,a,r;if((null!=(r=e)&&null!=(r=r.content)&&null!=(r=r.nodes)&&null!=(r=r[0])&&null!=(r=r.space)?r.key:r)!==t)return!1;if("page"!==(null!=(a=e)&&null!=(a=a.content)&&null!=(a=a.nodes)&&null!=(a=a[0])?a.type:a))return!1;const i=null!=(n=e)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])?n.operations:n;return!!(i&&i.find(e=>"page"===e.targetType&&"create"===e.operation))},b=(e,t)=>({value:e||t,usedOverride:!!e}),m=(e,t)=>{const n=i.a.parse(e,!0);return i.a.format(Object(a.a)(Object(a.a)({},n),{},{search:void 0,query:Object(a.a)(Object(a.a)({},n.query),t)}))},v=e=>{if(!e)throw new Error("No url for new content");return e.startsWith(o.a)?e:`${o.a}${e}`}},JfpG:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),r=n("HbGN"),i=n("Iy7w"),o=n("ERkP"),s=n.n(o),c=n("lZoD"),l=n("L21V"),d=n("6R5o"),u=n.n(d),p=n("1U1M"),g=n("IC1n"),h=n.n(g),f=n("lSUb"),b=n("lbXe"),m=n("liLY"),v=n("XVWa"),y=n("Aqh1"),E=n("+CY+"),I=n("frZf"),O=n("ltac"),P=n("GFmV"),S=n("dIe6"),C=n("FdGg"),j=n("X2PC"),T=n("6z9Z"),w=n("3VMZ"),x=n("Dsoe"),A=n("qhEF"),R=n("+mzV"),k=n("6wsw"),_=n("Ua4J"),L=n("LjTg"),D=n("+6Tk"),M=n("a0gl"),N=n("zjfJ"),F=n("nnRT"),U=n.n(F),K=n("XcNc"),$=n("F4Ur"),B=n("k8LX"),H=n("jF39"),z=n("1N1n"),V=n("6BAR"),q=n("2z5K"),Y=n.n(q);const G=e=>{var t;return(null==e||null===(t=e.nodes)||void 0===t?void 0:t.length)?e.nodes:[]},W=e=>e.map(e=>e.id),Q=(e,t,n)=>{if(!n||!e||!t)return"VIRTUAL_ROOT_ID";const a=e[t];if(!a)return"VIRTUAL_ROOT_ID";switch(t){case n:return n;case"VIRTUAL_LOCAL_ROOT_ID":return"VIRTUAL_LOCAL_ROOT_ID";default:return Q(e,a.parentId,n)}},Z=e=>!e.hasChildren||Boolean(e.children)&&e.children.length>0,X=(e,t)=>Object(V.a)(e,n=>{for(const r in t){const i=e[r],o=t[r];if(i){const e=Z(o)?o.children:i.children;n[r]=Object(a.a)(Object(a.a)({},o),{},{parentId:i.parentId,children:e})}else n[r]=o}return n}),J=e=>{const{previousSiblings:t,followingSiblings:n,children:a,nearestAncestors:r}=e;return r.nodes.filter(e=>e.previousSiblings.pageInfo.hasNextPage||e.followingSiblings.pageInfo.hasNextPage).length>0||t.pageInfo.hasNextPage||n.pageInfo.hasNextPage||a.pageInfo.hasNextPage},ee=(e,t,n)=>{if(t[e]){const{parentId:a}=t[e];if(a)return n.add(a),ee(a,t,n)}return n},te=(e,t)=>{if(!e)return t;const{previousSiblings:n,followingSiblings:a,nearestAncestors:r,children:i}=e,o={},{endCursor:s}=n.pageInfo;o.previousSiblingsCursor=s||t.previousSiblingsCursor;const{endCursor:c}=a.pageInfo;o.followingSiblingsCursor=c||t.followingSiblingsCursor;const{endCursor:l}=r.pageInfo;o.nearestAncestorsCursor=l||t.nearestAncestorsCursor;const{endCursor:d}=i.pageInfo;o.childrenCursor=d||t.childrenCursor;const u=r.nodes.filter(e=>e.previousSiblings.pageInfo.hasNextPage),p=u.length>0?u[0].previousSiblings.pageInfo.endCursor:null;o.naPreviousSiblingsCursor=p||t.naPreviousSiblingsCursor;const g=r.nodes.filter(e=>e.followingSiblings.pageInfo.hasNextPage),h=g.length>0?g[0].followingSiblings.pageInfo.endCursor:null;return o.naFollowingSiblingsCursor=h||t.naFollowingSiblingsCursor,o};var ne=n("uUTq"),ae=n.n(ne);const re=e=>({id:e.id,children:G(e.children),parentId:null,hasChildren:e.hasChildren,isExpanded:!1,isChildrenLoading:!1,hasRestrictions:e.hasRestrictions||!1,hasInheritedRestrictions:e.hasInheritedRestrictions||!1,data:{title:e.title,webui:e.links.webui}}),ie=(e,t={})=>{if(!e)return;const n=G(e.children),a=G(e.nearestAncestors),r=[...G(e.previousSiblings),...G(e.followingSiblings)];return t[e.id]=re(e),r.forEach(e=>ie(e,t)),a.forEach(e=>ie(e,t)),n.forEach(e=>ie(e,t)),t},oe=(e,t={},n=!0)=>{const a=G(e).map(e=>{const n=re(e);return t[e.id]=n,n});return t.VIRTUAL_ROOT_ID={id:"VIRTUAL_ROOT_ID",children:W(a),parentId:null,hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,hasRestrictions:!1,hasInheritedRestrictions:!1,data:{title:"",webui:""}},t.VIRTUAL_LOCAL_ROOT_ID={id:"VIRTUAL_LOCAL_ROOT_ID",children:[],parentId:"VIRTUAL_ROOT_ID",hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,hasRestrictions:!1,hasInheritedRestrictions:!1,data:{title:"",webui:""}},n&&(t=ce(t)),t},se=(e,t)=>{let n={};if(!e)return n;n=ie(e,n)||{},n=oe(t,n,!1);const a=G(e.nearestAncestors),r=G(e.children),i=[...[...G(e.previousSiblings)].reverse(),{id:e.id,children:r},...G(e.followingSiblings)];if(a.forEach((e,t)=>{let r=[];if(0===t)r=i;else{const e=a[t-1];r=[...[...G(e.previousSiblings)].reverse(),e,...G(e.followingSiblings)]}n[e.id].children=W(r)}),n[e.id].children=W(r),a.length){const e=a[a.length-1],t=[...[...G(e.previousSiblings)].reverse(),e,...G(e.followingSiblings)];n.VIRTUAL_LOCAL_ROOT_ID.children=W(t)}return n=ce(n),n},ce=e=>Object(V.a)(e,e=>{Object.keys(e).forEach(t=>{const n=e[t];n&&n.children&&n.children.length&&n.children.forEach(t=>{"string"!=typeof t||"VIRTUAL_LOCAL_ROOT_ID"===n.id&&"VIRTUAL_ROOT_ID"===e[t].parentId||(e[t].parentId=n.id)})})}),le=(e,t,n)=>Object(V.a)(e,e=>{t.forEach(t=>{if(e[t]&&e[t].parentId&&e[t].parentId!==n){const n=e[e[t].parentId];n.children=ae()(n.children,t)}})});var de=n("H5qd"),ue=n.n(de);const pe=ue.a`fragment PageInfoFragment on Page{id title hasChildren hasRestrictions hasInheritedRestrictions links{webui}}`,ge=ue.a`query PageTreeChildren($contentId:ID!$first:Int$after:String){page(id:$contentId){...PageInfoFragment children(first:$first after:$after){count nodes{...PageInfoFragment}pageInfo{hasNextPage endCursor}}}}${pe}`;var he=n("s/6t"),fe=n("zJ/j"),be=n("wORz"),me=n("hLvD"),ve=n("lRcl");const ye=Object(i.a)("div",{target:"ebxerkm0"})({name:"1ly8aii",styles:"display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;align-items:flex-start;"});const Ee=Object(i.a)("div",{target:"e11xs6zb0"})({name:"14yaxqh",styles:"flex-grow:1;flex-shrink:0;width:100%;display:flex;> div{flex-grow:1;width:100%;}"}),Ie=Object(i.a)(me.a,{target:"e11xs6zb1"})({name:"g10pjn",styles:"overflow:hidden;min-width:0;width:100%;"}),Oe=Object(i.a)("div",{target:"e11xs6zb2"})({name:"1uty0ys",styles:"margin:10px 0 10px 0;width:100%;"}),Pe=Object(i.a)("div",{target:"e11xs6zb3"})({name:"1l4w6pd",styles:"display:flex;justify-content:center;"}),Se=Object(l.g)(class extends o.PureComponent{constructor(...e){super(...e),Object(N.a)(this,"onInitialLoadCompleteSubmitted",!1),Object(N.a)(this,"collapsePage",e=>{const{tree:t,onCollapse:n}=this.props;n(t.items[e])}),Object(N.a)(this,"expandPage",e=>{const{tree:t,onExpand:n}=this.props;n(t.items[e])}),Object(N.a)(this,"dragStart",e=>{const{onDragStart:t}=this.props;t(e)}),Object(N.a)(this,"dragEnd",async(e,t)=>{const{onDragEnd:n}=this.props;n(e,t)})}componentDidUpdate(e){if(this.onInitialLoadCompleteSubmitted)return;e.loading&&!this.props.loading&&(this.props.onInitialLoadComplete&&this.props.onInitialLoadComplete(),this.onInitialLoadCompleteSubmitted=!0)}addSpotlight(e){return s.a.createElement(be.a,{name:"page-tree-spotlight"},e)}render(){const{tree:e,loadMorePages:t,isTreeTruncated:n,isDraggable:a,pageTreeTitle:r,treeWrapperComponent:i,loading:c}=this.props,d=n?s.a.createElement(Oe,null,s.a.createElement(fe.a,{shouldFitContainer:!0,onClick:t},s.a.createElement(l.b,{id:"page-tree.pages.show.all",defaultMessage:"Show all pages"}))):null,u=null!=i?i:o.Fragment,p=s.a.createElement(Ie,null,r,c?s.a.createElement(Pe,null,s.a.createElement(ve.a,{size:"medium",testId:"page-tree-loading"})):s.a.createElement(o.Fragment,null,d,s.a.createElement(u,null,s.a.createElement(Ee,null,s.a.createElement(he.a,{tree:e,isDragEnabled:a,renderItem:this.props.renderItem,onExpand:this.expandPage,onCollapse:this.collapsePage,onDragStart:this.dragStart,onDragEnd:this.dragEnd,offsetPerLevel:24,isNestingEnabled:!0}))),d));return s.a.createElement(ye,null,p)}});var Ce=n("a8dO"),je=n("1whV"),Te=n.n(je);const we=Object(i.a)("div",{target:"eyspfzh0"})({name:"lfws4q",styles:"padding:8px 0px 8px 8px;box-sizing:border-box;height:40px;width:fit-content;"}),xe=Object(i.a)("span",{target:"eyspfzh1"})({name:"1lvfsfo",styles:"padding-left:4px;padding-right:7px;line-height:24px;cursor:default;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#42526e;"}),Ae=Object(i.a)("div",{target:"eyspfzh2"})({name:"k008qs",styles:"display:flex;"}),Re=Object(l.f)({pages:{id:"page-tree.word",defaultMessage:"Pages"},failedLoadTooltip:{id:"page-tree.failed.load.tooltip",defaultMessage:"Hold tight, we’re working on fixing this."},failedLoadContent:{id:"page-tree.failed.load.content",defaultMessage:"Page tree failed to load"}}),ke=Object(o.memo)(({intl:e})=>s.a.createElement(o.Fragment,null,s.a.createElement(me.a,{title:e.formatMessage(Re.pages)},s.a.createElement(we,null,s.a.createElement(Ce.a,{content:e.formatMessage(Re.failedLoadTooltip),position:"bottom"},s.a.createElement(Ae,null,s.a.createElement(Te.a,{label:"error",primaryColor:"rgb(191, 38, 0)"}),s.a.createElement(xe,null,e.formatMessage(Re.failedLoadContent))))))));ke.displayName="PageTreeErrorComponent",ke.propTypes={intl:l.h};const _e=Object(l.g)(ke),Le=ue.a`fragment PageListFragment on PaginatedPageList{count nodes{...PageInfoFragment}pageInfo{hasNextPage endCursor}}`,De=ue.a`fragment PageInfoFragment on Page{id title hasChildren hasRestrictions hasInheritedRestrictions links{webui}}`,Me=ue.a`query PageTree($spaceKey:String!$contentId:ID!$paginationLimit:Int$nearestAncestorCursor:String$naPreviousSiblingsCursor:String$naFollowingSiblingsCursor:String$previousSiblingsCursor:String$followingSiblingsCursor:String$childrenCursor:String){currentPage:page(id:$contentId pageTree:$paginationLimit enablePaging:true){...PageInfoFragment nearestAncestors(after:$nearestAncestorCursor){count pageInfo{hasNextPage endCursor}nodes{...PageInfoFragment previousSiblings(after:$naPreviousSiblingsCursor){...PageListFragment}followingSiblings(after:$naFollowingSiblingsCursor){...PageListFragment}}}previousSiblings(after:$previousSiblingsCursor){...PageListFragment}followingSiblings(after:$followingSiblingsCursor){...PageListFragment}children(after:$childrenCursor){...PageListFragment}}rootLevelPages:pages(spaceKey:$spaceKey){nodes{...PageInfoFragment}}space(key:$spaceKey){id homepage{id}operations{operation targetType}}}${De}${Le}`,Ne=ue.a`query PageTreeRootLevelPages($spaceKey:String!){rootLevelPages:pages(spaceKey:$spaceKey){nodes{id hasChildren title hasRestrictions hasInheritedRestrictions links{webui}}}space(key:$spaceKey){id homepage{id}operations{operation targetType}}}`;class Fe extends o.Component{constructor(...e){super(...e),Object(N.a)(this,"state",{expandedPages:new Set,loadingPages:new Set,pages:{},space:null,spaceKey:null,rootId:null,initialLoading:!0,loadingMorePages:!1,isTreeTruncated:!1,initialCursors:null,initialPages:null,error:null,blogPeekRoot:void 0}),Object(N.a)(this,"scrolledItemId",null),Object(N.a)(this,"highlightedPages",[]),Object(N.a)(this,"querySubscription",null),Object(N.a)(this,"getFocusedPageId",()=>this.state.blogPeekRoot||this.props.currentPageId||this.props.highlightPages[0]),Object(N.a)(this,"queryChildren",(e,t,n={count:0,nodes:[]},a=!1)=>this.props.apolloClient.query({query:ge,fetchPolicy:a?"network-only":"cache-first",variables:{contentId:e,first:100,after:t}}).then(t=>{const{children:r}=t.data.page,i=((e,t)=>({count:e.count+t.count,nodes:[...e.nodes,...t.nodes]}))(n,r);return r.pageInfo.hasNextPage?this.queryChildren(e,r.pageInfo.endCursor,i,a):i})),Object(N.a)(this,"reloadChildren",()=>{this.queryChildren(this.getFocusedPageId(),void 0,void 0,!0)}),Object(N.a)(this,"getPageQueryObservable",(e,t,n=!1)=>{const r=e?Me:Ne,i=e?{contentId:e,spaceKey:t}:{spaceKey:t},o=Object(a.a)({paginationLimit:500},i);return this.props.apolloClient.watchQuery({fetchPolicy:"cache-and-network",query:r,variables:!0===n?o:i})}),Object(N.a)(this,"loadPages",async(e=!1)=>{const{pages:t}=this.state,{spaceKey:n,isPeekingFromBlogs:r}=this.props,i=this.getFocusedPageId(),o=r&&void 0===this.state.blogPeekRoot,s=this.getPageQueryObservable(i,n,e);this.querySubscription=s.subscribe({next:({data:e,loading:i})=>{if(i&&!e&&this.setState({initialLoading:!0}),e&&Object.keys(e).length>0){const{currentPage:i,rootLevelPages:c,space:l}=e,d=i?se(i,c):oe(c),u=te(i,{});let p=X(t,d);const g=i?i.id:null,h=l.homepage?l.homepage.id:null,f=Q(p,g,h);this.props.syntheticItem&&(p[this.props.syntheticItem.id]||(p=Object(a.a)({},p),p[this.props.syntheticItem.id]=this.props.syntheticItem),p[f].children.unshift(this.props.syntheticItem.id));const b={expandedPages:this.determineInitiallyExpandedPages(d),rootId:f,pages:p,space:l,spaceKey:n,isTreeTruncated:!!i&&J(i),initialCursors:u,initialPages:i};var s;if(r&&(b.blogPeekRoot=l.homepage&&l.homepage.id||"noHomepageFound"),this.setState(b),o&&"noHomepageFound"!==b.blogPeekRoot)null===(s=this.querySubscription)||void 0===s||s.unsubscribe(),this.loadPages()}i||this.setState({initialLoading:!1})},error:e=>this.handleLoadingError(e)})}),Object(N.a)(this,"loadMorePages",async()=>{const{spaceKey:e,onLoadMore:t}=this.props,n=this.getFocusedPageId();this.setState({loadingMorePages:!0});const{initialCursors:a,initialPages:r}=this.state,{mergedPages:i,rootLevelPages:o}=await this.loadAllPages(n,e,a,r),s=se(i,o);this.setState({spaceKey:e,pages:s,isTreeTruncated:!1,loadingMorePages:!1}),t&&t()}),Object(N.a)(this,"loadAllPages",(e,t,n,r)=>{const i=Me,o=Object(a.a)({contentId:e,spaceKey:t},n);return this.props.apolloClient.query({query:i,variables:o}).then(a=>{const{data:i,error:o}=a;if(o)this.handleLoadingError(o);else if(i&&Object.keys(i).length>0){const{currentPage:a,rootLevelPages:o}=i,s=((e,t)=>t?Object(V.a)(t,t=>{const{previousSiblings:n,followingSiblings:a,nearestAncestors:r,children:i}=e,{previousSiblings:o,followingSiblings:s,nearestAncestors:c,children:l}=t;o.nodes=Y()(o.nodes,n.nodes,"id"),s.nodes=Y()(s.nodes,a.nodes,"id"),l.nodes=Y()(l.nodes,i.nodes,"id");const d=Y()(r.nodes,c.nodes,"id");return c.nodes.forEach(e=>{const t=d.filter(t=>t.id===e.id);if(t.length>0){const{previousSiblings:n,followingSiblings:a}=t[0];n.nodes=Y()(e.previousSiblings.nodes,n.nodes,"id"),a.nodes=Y()(e.followingSiblings.nodes,a.nodes,"id")}}),c.nodes=d,o.pageInfo.hasNextPage=o.pageInfo.hasNextPage&&n.pageInfo.hasNextPage,s.pageInfo.hasNextPage=s.pageInfo.hasNextPage&&a.pageInfo.hasNextPage,c.pageInfo.hasNextPage=c.pageInfo.hasNextPage&&r.pageInfo.hasNextPage,t}):e)(a,r);if(J(a)){const r=te(a,n);return this.loadAllPages(e,t,r,s)}return{mergedPages:s,rootLevelPages:o}}})}),Object(N.a)(this,"determineInitiallyExpandedPages",e=>{const{expandedPages:t}=this.state;for(const n in e){const a=e[n];a.hasChildren&&Z(a)&&t.add(a.id)}return t}),Object(N.a)(this,"expandPage",async e=>{const{pages:t,expandedPages:n,loadingPages:a,space:r}=this.state,{onExpand:i}=this.props;if(i&&i(e,{spaceId:null==r?void 0:r.id}),n.has(e.id)||!e.hasChildren)return;const o=t[e.id],s=[e.id,...ee(e.id,t,n)];if(!Z(o)){this.setState({loadingPages:a.add(o.id)});const e={},n=G(await this.queryChildren(o.id));n.forEach(t=>{e[t.id]=re(t)});const r=X(t,e);a.delete(o.id);const i=((e,t,n)=>Object(V.a)(e,e=>{e[t].children=n;const a=le(e,n,t);ce(a)}))(r,o.id,W(n));this.setState({loadingPages:a,pages:i})}this.setState({expandedPages:new Set(s)})}),Object(N.a)(this,"collapsePage",e=>{const{expandedPages:t,space:n}=this.state,{onCollapse:a}=this.props;t.delete(e.id),this.setState({expandedPages:t}),a&&a(e,{spaceId:null==n?void 0:n.id})}),Object(N.a)(this,"determineMovePageParams",(e,t,n)=>{if(void 0===n.index)return{pageId:t,parentId:n.parentId};const a=0===n.index,r=e.children.indexOf(t),i=r>-1&&r<n.index,o=a||i?n.index:n.index-1;return{pageId:t,siblingId:String(e.children[o]),positionToSibling:0===n.index?"before":"after"}}),Object(N.a)(this,"onDragEnd",(e,t)=>{var n;const{pages:a}=this.state;if(!this.isValidMove(e,t))return void(this.props.onDragInvalid&&this.props.onDragInvalid({reason:"INVALID_DROP_LOCATION"}));const r=a[e.parentId].children[e.index],i=a[t.parentId],o=a[e.parentId];this.movePageInState(r,e,t);const s=this.determineMovePageParams(i,r,t);this.props.onDragEnd(s,{destination:t,movedPageTitle:a[r].data.title,source:e,sourceParent:o,spaceId:null===(n=this.state.space)||void 0===n?void 0:n.id,revertDrag:()=>{const{pages:n}=this.state,a=n[o.id],i=a.children.length>0?e:{parentId:o.id};return this.movePageInState(r,t,i,!0),this.determineMovePageParams(a,r,i)}})}),Object(N.a)(this,"handleLoadingError",e=>{if(!e)return;const t={apolloError:e};Object(B.c)(e)&&(Object($.a)(e),t.isExpected=!0),this.setState({error:t});const{onLoadError:n}=this.props;n&&n(e,{isExpected:t.isExpected})}),Object(N.a)(this,"renderItem",Object(f.default)(e=>t=>this.props.renderItem(Object(a.a)(Object(a.a)({},t),{},{spaceHomePageId:e})))),Object(N.a)(this,"onDragStart",()=>{const{pages:e}=this.state,{onDragStart:t,onDragInvalid:n}=this.props;t&&t(),Object.keys(e).length>500&&(window.dispatchEvent(new Event("scroll")),n&&n({reason:"TREE_TOO_LARGE"}))}),Object(N.a)(this,"isDraggable",e=>this.props.isDraggable(e,{space:this.state.space}))}static getDerivedStateFromProps(e,t){const{currentPageId:n,highlightPages:r}=e,{expandedPages:i,loadingPages:o,pages:s}=t,c=((e,t,n,a,r)=>Object(V.a)(e,e=>{for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.isExpanded=n.has(i),o.isChildrenLoading=a.has(i),o.data.isSelected=o.id===t,o.data.isHighlighted=r.includes(o.id)}}))(s,n,i,o,r);return Object(a.a)(Object(a.a)({},t),{},{pages:c})}componentDidMount(){this.loadPages(!0)}componentDidUpdate(e){const{currentPageId:t,spaceKey:n,highlightPages:a,forceFetchCurrentPage:r,forceFetchedCallback:i}=this.props,{pages:o,spaceKey:s}=this.state;let c=!1;if(t&&(r||e.currentPageId!==t)){const e=o[t];!e||r||n!==s?(c=!0,this.loadPages(!0).then(()=>{r&&i&&i()})):this.expandPage(e)}if(a.length&&!U()(e.highlightPages,a)){const e=o[a[0]];e||c?e&&this.expandPage(e):this.loadPages(!0)}}componentWillUnmount(){this.querySubscription&&this.querySubscription.unsubscribe()}movePageInState(e,t,n,a){const{rootId:r,pages:i,expandedPages:o}=this.state;let s={rootId:r,items:i};if(void 0===t.index){const a=i[t.parentId],r=a.children.indexOf(e);if(-1!==r){const e=[...a.children];e.splice(r,1),s=Object(K.d)(s,t.parentId,{children:e,hasChildren:e.length>0,isExpanded:e.length>0&&a.isExpanded})}const o=[...s.items[n.parentId].children];o.splice(n.index,0,e),s=Object(K.d)(s,n.parentId,{children:o,hasChildren:!0})}else s=Object(K.c)(s,t,n);0===s.items[t.parentId].children.length&&o.delete(t.parentId),a&&o.add(n.parentId),this.setState({pages:s.items,rootId:s.rootId,expandedPages:o})}isValidMove(e,t){const{pages:n}=this.state;return t&&!U()(e,t)&&Object.keys(n).length<500}getPageTreeTitle(){var e;const{pages:t,initialLoading:n,loadingMorePages:a,space:r}=this.state,{pageTreeTitleComponent:i}=this.props;if(!i)return null;const o=null==r||null===(e=r.homepage)||void 0===e?void 0:e.id,c=this.getFocusedPageId();return s.a.createElement(i,{loading:n||a,hasItemsToDisplay:Object.keys(t).length>0,isViewingSpaceHomepage:c===o})}render(){var e;const{pages:t,rootId:n,space:a,initialLoading:r,loadingMorePages:i,isTreeTruncated:c,error:l}=this.state,{treeWrapperComponent:d}=this.props;return l?s.a.createElement(o.Fragment,null,s.a.createElement(_e,null),!l.isExpected&&s.a.createElement(S.a,{error:l.apolloError})):s.a.createElement(o.Fragment,null,s.a.createElement(Se,{isDraggable:this.isDraggable,isTreeTruncated:c,loadMorePages:this.loadMorePages,onCollapse:this.collapsePage,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onExpand:this.expandPage,onInitialLoadComplete:this.props.onInitialLoadComplete,tree:{rootId:n,items:t},pageTreeTitle:this.getPageTreeTitle(),treeWrapperComponent:d,loading:i||r,renderItem:this.renderItem(null==a||null===(e=a.homepage)||void 0===e?void 0:e.id)}),s.a.createElement(H.a,{name:"pagetree",types:[z.e.content],reload:this.reloadChildren}))}}Object(N.a)(Fe,"defaultProps",{highlightPages:[],forceFetchCurrentPage:!1});var Ue=n("l1C2"),Ke=n("qcwS"),$e=n("c2NM"),Be=n.n($e),He=n("3IV/"),ze=n("PLaw"),Ve=n.n(ze),qe=n("5ypJ"),Ye=n.n(qe),Ge=n("NK/E"),We=n.n(Ge),Qe=n("nZDR"),Ze=n.n(Qe),Xe=n("cld1"),Je=n("3Z2R"),et=n("MjIW");const tt="com.atlassian.confluence.plugins.confluence-create-content-plugin:header-create-dialog",nt=Object(l.f)({label:{id:"contextual-create.label",description:"Label for button that creates pages",defaultMessage:"Create a child page"}}),at=Object(l.g)(Object(o.memo)(({intl:e,parentPageId:t,isCreateBlankFabricPageEnabled:n,spaceKey:a})=>{const{setQueryParams:r}=Object(o.useContext)(_.a),i=e=>{let i;e.preventDefault(),e.stopPropagation(),i=n?Object(P.b)(!0,{parentPageId:t,spaceKey:a}):{createDialog:!0,parentPageId:t},r(i),Object(Xe.getAnalyticsWebClient)().then(e=>{e.sendTrackEvent({action:"clicked",actionSubject:"button",source:"contextualCreate"})})},c=e.formatMessage(nt.label);return s.a.createElement(Je.a,{location:et.a.SYSTEM_HEADER_LEFT_BUTTON_GROUP,allowedWebItems:[tt],fetchPolicy:"cache-first"},({webItems:e})=>{if(!e||!e.length)return null;const t=e.find(e=>e.completeKey===tt);return t?s.a.createElement(Ce.a,{content:c,key:t.moduleKey,position:"right"},s.a.createElement(fe.a,{appearance:"subtle",iconBefore:s.a.createElement(Ze.a,{size:"small",label:c}),onClick:i})):null})}));var rt=n("0ItC"),it=n("DQZQ");const ot=e=>({type:"sendUIEvent",data:{action:"dropped",actionSubject:"pageTree",source:"viewPageScreen",attributes:{isValidTarget:e}}}),st=(e,t,n,a)=>{const r={type:"sendUIEvent",data:{containerType:"space",containerId:t,objectType:"page",action:e,actionSubject:"pageTree",source:n?"pageTreeDrawer":"containerNavigation",attributes:{navigationLayer:"container"}}};return a&&(r.data.attributes.navdexPointType=a),r},ct=Object(i.a)("div",{target:"eqawj540"})({name:"1sn8kiq",styles:"display:inline-block;vertical-align:middle;margin-right:5px;"}),lt=Ue.g`
from {
  background: ${He.B50};
}
to {
  background: none;
}
`,dt=Object(o.memo)(Object(i.a)("div",{target:"eqawj541"})("width:24px;text-align:center;font-size:12pt;color:",e=>e.itemIsRestricted?He.R400:"inherit",";")),ut=Object(i.a)("div",{target:"eqawj542"})({name:"5hz1ob",styles:"margin:0 4px;"}),pt=Object(o.memo)(({isHover:e,isContextualCreateEnabled:t,isCreateBlankFabricPageEnabled:n,isSuperAdmin:a,spaceKey:r,item:i,intl:o})=>{const{hasRestrictions:c,hasInheritedRestrictions:l}=i;return t&&e?s.a.createElement(rt.a,{delay:200,key:"contextual-create"},s.a.createElement(at,{parentPageId:i.id,isCreateBlankFabricPageEnabled:n,spaceKey:r})):a&&c&&!l?s.a.createElement(We.a,{primaryColor:He.R400,key:"super-admin",label:o.formatMessage(ht.restrictionsIconLabel)}):null}),gt=Object(o.memo)(({item:e,isSuperAdmin:t,onExpand:n,onCollapse:a})=>{const{isChildrenLoading:r,hasChildren:i,isExpanded:o,hasRestrictions:c,hasInheritedRestrictions:l}=e,d=(c||l)&&!!t,u=d?He.R400:void 0;return r?s.a.createElement(ut,{"data-testid":"tree-item-spinner"},s.a.createElement(ve.a,{size:16})):i?o?s.a.createElement("div",{role:"button",tabIndex:0,onClick:a,"data-testid":"chevron-down"},s.a.createElement(Ve.a,{primaryColor:u,label:"",size:"medium"})):s.a.createElement("div",{role:"button",tabIndex:0,onClick:n,"data-testid":"chevron-right"},s.a.createElement(Ye.a,{primaryColor:u,label:"",size:"medium"})):s.a.createElement(dt,{itemIsRestricted:d,"data-testid":"dot-icon"},"•")}),ht=Object(l.f)({restrictionsIconLabel:{id:"page-tree.restricted-content.icon",description:"aria-label for the restricted content icon",defaultMessage:"Restricted Content Icon"}}),ft=Object(o.memo)(({item:e,spaceHomePageId:t,onExpand:n,onCollapse:r,onHighlight:i,snapshot:c,isSuperAdmin:l,createAnalyticsEvent:d,isInDrawer:u,spaceId:p,onClick:g,isContextualCreateEnabled:h,isCreateBlankFabricPageEnabled:f,spaceKey:b,intl:m})=>{var v,y,E,O,P;const[S,C]=Object(o.useState)(!1),j=Object(o.useCallback)(()=>{C(!0)},[]),T=Object(o.useCallback)(()=>{C(!1)},[]),w=Object(o.useCallback)(((e,t,n)=>(r,i)=>{var o;const{isSelected:s}=i,{hasRestrictions:c,hasInheritedRestrictions:l}=e,{isDragging:d,draggingOver:u,combineTargetFor:p}=t,g=null==e||null===(o=e.data)||void 0===o?void 0:o.isHighlighted,h={height:"40px",padding:"0px 8px",boxSizing:"border-box",display:"flex",margin:"0 !important",backgroundColor:"transparent",alignItems:"center","& [data-item-elem-before]":{marginRight:"4px"},"& > div":{width:"100%"},"&:active":{textDecoration:"none"},"&:visited, &:active":{color:s?He.B400:He.N500,textDecoration:"none"}};return n&&(c||l)&&(h.color=He.R400),d&&(h["&:active"]={boxShadow:He.N60A+" 1px 5px 11px 2px",backgroundColor:He.N30},h.borderRadius=5,u||(h.color=He.N80,h["border-color"]=He.N80)),p&&(h.backgroundColor=He.N30),g?(h.animation=lt+" 2s linear",h.outline="none"):h.animation="none",Object(a.a)(Object(a.a)({},r),h)})(e,c,l),[e,c,l]),x=Object(o.useCallback)(t=>{t.preventDefault(),t.stopPropagation(),n(e.id)},[n,e.id]),A=Object(o.useCallback)(t=>{t.preventDefault(),t.stopPropagation(),r(e.id)},[r,e.id]),R=Object(o.useCallback)(t=>{d(st("clicked",p,u,it.b.START_TOUCH)).fire(),t.metaKey||t.shiftKey||t.altKey||t.ctrlKey||1===t.button||(t.preventDefault(),g(e))},[p,u,g,e,d]),k=null!==(v=null==e||null===(y=e.data)||void 0===y?void 0:y.title)&&void 0!==v?v:"",_=null==e||null===(E=e.data)||void 0===E?void 0:E.isHighlighted,L=null==e||null===(O=e.data)||void 0===O?void 0:O.isSelected,D=`${I.a}${null==e||null===(P=e.data)||void 0===P?void 0:P.webui}`;return Object(o.useEffect)(()=>{_&&setTimeout(i,2e3)},[_,i]),s.a.createElement(Ke.a,{onMouseEnter:j,onMouseLeave:T,href:D,cssFn:w,isSelected:L,iconBefore:s.a.createElement(gt,{item:e,isSuperAdmin:l,onExpand:x,onCollapse:A}),iconAfter:s.a.createElement(pt,{isHover:S,isContextualCreateEnabled:h,isCreateBlankFabricPageEnabled:f,isSuperAdmin:l,spaceKey:b,item:e,intl:m}),onClick:R,"data-testid":"page-tree-item"},e.id===t?s.a.createElement("span",{"data-testid":"space-homepage"},s.a.createElement(ct,{"data-tesid":"homepage-icon"},s.a.createElement(Be.a,{label:"",size:"small"})),k):k)});const bt=ue.a`mutation MovePageAfterMutation($pageId:ID!$siblingId:ID!){movePageAfter(input:{pageId:$pageId siblingId:$siblingId}){page{id}}}`,mt=ue.a`mutation MovePageAppendMutation($pageId:ID!$parentId:ID!){movePageAppend(input:{pageId:$pageId parentId:$parentId}){page{id}}}`,vt=ue.a`mutation MovePageBeforeMutation($pageId:ID!$siblingId:ID!){movePageBefore(input:{pageId:$pageId siblingId:$siblingId}){page{id}}}`;class yt{constructor(){Object(N.a)(this,"size",1),Object(N.a)(this,"stack",[]),Object(N.a)(this,"pop",()=>this.stack.pop()),Object(N.a)(this,"peek",()=>this.stack.slice(-1)[0]),Object(N.a)(this,"reset",()=>{this.stack=[]})}push({undo:e}){this.stack.push({undo:e}),this.stack=this.stack.slice(-1*this.size)}}const Et=Object(l.f)({flagErrorTitle:{id:"page-tree.dragndrop.failed.title",defaultMessage:"Something went wrong"},flagErrorDescription:{id:"page-tree.dragndrop.failed.description",defaultMessage:"Refresh the page and try again. If this keeps happening, contact your space administrator."},flagErrorAction:{id:"page-tree.dragndrop.failed.action.visitsupport",defaultMessage:"Visit Atlassian Support"},flagMovePagePermissionErrorTitle:{id:"page-tree.dragndrop.permissions.error.title",defaultMessage:"This page can’t be moved",description:"Title of error message shown when a page can't be moved due to a permission error"},flagMovePagePermissionErrorDescription:{id:"page-tree.dragndrop.permissions.error.decription",defaultMessage:"You don’t have the right permission to move this restricted page. Contact your space administrator to resolve this.",description:"Description of error message shown when a page can't be moved due to a permission error"},flagUndoTitle:{id:"page-tree.dragndrop.undo.title",defaultMessage:'Moved "{pageTitle}"',description:"The page is moved on the page tree"},flagUndoAction:{id:"page-tree.dragndrop.undo.action",defaultMessage:"Undo",description:"Action to revert drag&drop movement on the page tree"},flagLargePageTreeTitle:{id:"page-tree.dragndrop.lpt.title",defaultMessage:"Too many pages",description:"Message when there are too many pages in the page tree"},flagLargePageTreeDescription:{id:"page-tree.dragndrop.lpt.description",defaultMessage:"You are trying to drag a page while viewing too many pages at once. To reorder, visit your space settings.",description:"Message when there are too many pages in the page tree"},flagLargePageTreeAction:{id:"page-tree.dragndrop.lpt.action",defaultMessage:"Reorder pages",description:"Link to page Reorder Pages within Space settings"},pages:{id:"page-tree.word",defaultMessage:"Pages",description:"title for the side nav page tree section"}});var It=n("DQJm"),Ot=n("B7n+"),Pt=n.n(Ot),St=n("z9P0"),Ct=n("ewfN"),jt=n("qY6u");const Tt=()=>s.a.createElement("svg",{height:"20",width:"21",viewBox:"0 0 21 20",focusable:"false",role:"presentation"},s.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"},s.a.createElement("path",{d:"M3.5 0C1.84315 0 0.5 1.34315 0.5 3V17C0.5 18.6569 1.84315 20 3.5 20H17.5C19.1569 20 20.5 18.6569 20.5 17V3C20.5 1.34315 19.1569 0 17.5 0H3.5ZM2.5 3C2.5 2.44772 2.94772 2 3.5 2H17.5C18.0523 2 18.5 2.44772 18.5 3V17C18.5 17.5523 18.0523 18 17.5 18H3.5C2.94772 18 2.5 17.5523 2.5 17V3ZM5.5 5C4.94772 5 4.5 5.44772 4.5 6C4.5 6.55228 4.94771 7 5.5 7H15.5C16.0523 7 16.5 6.55228 16.5 6C16.5 5.44772 16.0523 5 15.5 5H5.5ZM4.5 10C4.5 9.44771 4.94772 9 5.5 9H15.5C16.0523 9 16.5 9.44771 16.5 10C16.5 10.5523 16.0523 11 15.5 11H5.5C4.94771 11 4.5 10.5523 4.5 10ZM5.5 13C4.94772 13 4.5 13.4477 4.5 14C4.5 14.5523 4.94772 15 5.5 15H11.5C12.0523 15 12.5 14.5523 12.5 14C12.5 13.4477 12.0523 13 11.5 13H5.5Z"}))),wt=(e,t)=>{const{isSelected:n}=t,r={marginTop:"9px",backgroundColor:"inherit","&:active, &:focus":{textDecoration:"none"},"&:visited, &:active":{color:n?He.B400:He.N500,textDecoration:"none"}};return Object(a.a)(Object(a.a)({},e),r)},xt=()=>{const{location:e}=Object(o.useContext)(_.a),{spaceKey:t}=Object(o.useContext)(R.a),n=Object(o.useCallback)(()=>{Object(jt.a)({spaceKey:t})},[t]),{createAnalyticsEvent:r}=Object(St.a)(),i=Object(o.useCallback)(()=>{r({type:"sendUIEvent",data:{action:"clicked",actionSubject:"pageTree",actionSubjectId:"spacePages",source:"containerNavigation",attributes:{navdexPointType:it.b.START_TOUCH}}}).fire()},[r]);return s.a.createElement(Ke.a,{cssFn:wt,iconBefore:s.a.createElement(Pt.a,{label:"",glyph:Tt}),href:Ct.SPACE_PAGES.toUrl({spaceKey:t}),isSelected:Boolean(Ct.SPACE_PAGES.match((null==e?void 0:e.pathname)||"")),onMouseDown:n,onClick:i},s.a.createElement(l.b,Object(a.a)({},Et.pages)))},At=Object(i.a)("div",{target:"eha7tt70"})({name:"zvice1",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;"}),Rt=({loading:e,isViewingSpaceHomepage:t,hasItemsToDisplay:n})=>{const r=Object(D.a)("confluence.frontend.space.pages")?s.a.createElement(xt,null):s.a.createElement(It.a,{"aria-hidden":"true",style:t?{padding:"5px 10px",marginTop:"9px",marginBottom:"1px"}:{}},s.a.createElement(At,null,s.a.createElement(l.b,Object(a.a)({},Et.pages))));return e||n?t?s.a.createElement(be.a,{name:"page-tree-spotlight"},r):r:null};n.d(t,"PageTree",(function(){return Mt}));const kt=()=>{},_t=Object(i.a)("div",{target:"e11ab5bd0"})({name:"wes3ci",styles:"margin-left:14px;"}),Lt=Object(f.default)((e,{space:t})=>{var n;return!!u()(null!==(n=null==t?void 0:t.operations)&&void 0!==n?n:[],{targetType:"page",operation:"create"})},(e,t)=>{var n,a,r,i;return(null===(n=e[1])||void 0===n||null===(a=n.space)||void 0===a?void 0:a.id)===(null===(r=t[1])||void 0===r||null===(i=r.space)||void 0===i?void 0:i.id)}),Dt=Object(l.g)(Object(b.a)()(({isInDrawer:e=!1,onDragDropSuccess:t=kt,onItemClick:n,isPeekingFromBlogs:i,pageTreeStateUpdatesContainer:c,flags:l,intl:d,createAnalyticsEvent:u})=>{const g=Object(p.a)(),f=Object(o.useContext)(T.a),{push:b}=Object(o.useContext)(_.a),{spaceKey:C,contentId:j,contentIdLoading:A}=Object(o.useContext)(R.a),{isSuperAdmin:k}=Object(L.b)(),N=Object(D.a)("confluence.frontend.contextual-create"),F=Object(D.a)("confluence.frontend.space.pages"),{featureFlagClient:U}=Object(M.a)(),K=Object(P.d)(U),{onUndoShortcut:$,showUndoFlag:B,hideLastUndoFlag:H,addUndo:z}=(({spaceKey:e,flags:t,intl:n,createAnalyticsEvent:a})=>{const r=Object(o.useRef)(e),i=Object(o.useRef)(new yt),s=Object(o.useCallback)(()=>{const e=i.current.pop();if(e){const{undo:t}=e;t&&t()}},[]),c=Object(o.useCallback)(()=>{a({type:"sendUIEvent",data:{action:"pressed",actionSubject:"keyboardShortcut",actionSubjectId:"pageTreeDragDropUndo",source:"viewPageScreen"}}).fire(),s()},[a,s]),l=Object(o.useCallback)(e=>{const r=h()();t.showSuccessFlag({id:r,title:n.formatMessage(Et.flagUndoTitle,{pageTitle:e}),actions:[{content:n.formatMessage(Et.flagUndoAction),onClick:()=>{a({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"pageTreeDragDropUndo",source:"viewPageScreen"}}).fire(),s(),t.hideFlag(r)}}]});const o=i.current.peek();o&&(o.flagId=r)},[t,n,a,s]),d=Object(o.useCallback)(()=>{const e=i.current.peek();e&&t.hideFlag(e.flagId)},[t]),u=Object(o.useCallback)(({undo:e})=>{i.current.push({undo:e})},[]);return e!==r.current&&(r.current=e,d(),i.current.reset()),{onUndoShortcut:c,showUndoFlag:l,hideLastUndoFlag:d,addUndo:u}})({flags:l,intl:d,createAnalyticsEvent:u,spaceKey:C}),V=Object(o.useCallback)(e=>{b(`${I.a}${e.data.webui}`),n&&n()},[b,n]),[q]=(({pageTreeStateUpdatesContainer:e})=>{const t=Object(o.useRef)();return[Object(o.useCallback)((n,a)=>{if(e.state.scrollToCurrent&&n.data.isSelected&&a)return Object(O.g)(a),void e.clearScrollTo();t.current!==n.id&&Object(O.g)(a),t.current=n.id},[e])]})({pageTreeStateUpdatesContainer:c}),[Y]=(({pageTreeStateUpdatesContainer:e})=>{const t=Object(o.useRef)([]);return[Object(o.useCallback)(n=>{t.current.push(n);const a=e.state.highlightPagesIds;t.current.length===a.length&&(e.clearHighlightedPages(),t.current=[])},[e])]})({pageTreeStateUpdatesContainer:c}),G=Object(o.useCallback)(t=>{const{spaceHomePageId:n}=t;return function({item:e,onExpand:t,onCollapse:n,provided:r,snapshot:i},o){const{scrollToItem:c,onPageHighlighted:l,isSuperAdmin:d,spaceHomePageId:u,isInDrawer:p,createAnalyticsEvent:g,onClick:h,isCreateBlankFabricPageEnabled:f,spaceKey:b,isContextualCreateEnabled:m,intl:v}=o,y=function(e,t){return e.data.isSelected||e.data.isHighlighted?n=>{t.innerRef(n),setTimeout(()=>c(e,n),0)}:t.innerRef}(e,r),E=e.data?e.data.title:"",I=s.a.createElement("div",Object(a.a)(Object(a.a)({className:"item","data-test-id":"page-tree-item",ref:y},r.draggableProps),r.dragHandleProps),s.a.createElement(Ce.a,{content:E,position:"top",delay:750,hideTooltipOnMouseDown:!0},s.a.createElement(ft,{item:e,spaceHomePageId:u,onExpand:t,onCollapse:n,onHighlight:()=>l(e.id),snapshot:i,isSuperAdmin:d,isInDrawer:p,createAnalyticsEvent:g,onClick:h,isContextualCreateEnabled:m,isCreateBlankFabricPageEnabled:f,spaceKey:b,intl:v})));return e.data.isSelected?(O=I,s.a.createElement(be.a,{name:"page-tree-spotlight"},O)):I;var O}(Object(r.a)(t,["spaceHomePageId"]),{isSuperAdmin:k,spaceHomePageId:n,isInDrawer:e,createAnalyticsEvent:u,onClick:V,spaceKey:C,isCreateBlankFabricPageEnabled:K,isContextualCreateEnabled:N,scrollToItem:q,onPageHighlighted:Y,intl:d})},[N,K,e,k,C,q,V,u,d,Y]),{movePage:W}=(()=>{const[e]=Object(p.c)(bt),[t]=Object(p.c)(vt),[n]=Object(p.c)(mt);return{movePage:Object(o.useCallback)(async i=>{const o=e=>t=>{let{data:n}=t,i=Object(r.a)(t,["data"]);return Object(a.a)(Object(a.a)({},i),{},{data:void 0===n?void 0:{mutationResult:e(n)}})};return"parentId"in i?n({variables:{pageId:i.pageId,parentId:i.parentId}}).then(o(e=>e.movePageAppend)):"after"===i.positionToSibling?e({variables:{pageId:i.pageId,siblingId:i.siblingId}}).then(o(e=>e.movePageAfter)):t({variables:{pageId:i.pageId,siblingId:i.siblingId}}).then(o(e=>e.movePageBefore))},[e,n,t])}})(),[Q,Z]=Object(o.useState)(null),X=Object(o.useCallback)((e,t)=>{l.showErrorFlag({title:d.formatMessage(Et.flagErrorTitle),description:d.formatMessage(Et.flagErrorDescription)}),(null==t?void 0:t.isExpected)?f.succeed({name:w.a.PAGE_TREE}):f.stopOnError({name:w.a.PAGE_TREE,error:e})},[l,d,f]),J=Object(o.useCallback)((e,{movedPageTitle:n,spaceId:a,sourceParent:r,source:i,destination:o,revertDrag:s})=>{u(ot(!0)).fire();const c=(e,n,a,r)=>{u((({spaceId:e,pageId:t,previousParentPageId:n,newParentPageId:a})=>({type:"sendTrackEvent",data:{action:"updated",source:"viewPageScreen",containerType:"space",containerId:e,objectType:"page",objectId:t,actionSubject:"page",attributes:{previousSpaceId:e,previousParentPageId:n,newSpaceId:e,newParentPageId:a}}}))({spaceId:e,pageId:n,previousParentPageId:a,newParentPageId:r})).fire(),f.succeed({name:w.a.PAGE_TREE_DND}),t(n)},p=e=>{e&&((({graphQLErrors:e})=>{if(!e||!e.length)return!1;for(const{extensions:t,path:n}of e)if(Array.isArray(n)&&n.some(e=>e.includes("movePage"))&&t&&t.http&&403===t.http.status)return!0;return!1})(e)?l.showErrorFlag({title:d.formatMessage(Et.flagMovePagePermissionErrorTitle),description:d.formatMessage(Et.flagMovePagePermissionErrorDescription)}):l.showErrorFlag({title:d.formatMessage(Et.flagErrorTitle),description:d.formatMessage(Et.flagErrorDescription)}),Z(e),f.stopOnError({name:w.a.PAGE_TREE_DND,error:e}))};z({undo:()=>{const t=s();W(t).then(()=>{c(a,e.pageId,i.parentId,r.id)}).catch(p)}}),W(e).then(()=>{c(a,e.pageId,i.parentId,o.parentId),B(n)}).catch(p)},[f,l,d,z,W,B,u,t]),ee=Object(o.useCallback)(()=>{c.clearForceFetch()},[c]),te=Object(o.useCallback)(({reason:e})=>{u(ot(!1)).fire();switch(e){case"TREE_TOO_LARGE":l.showWarningFlag({title:d.formatMessage(Et.flagLargePageTreeTitle),description:d.formatMessage(Et.flagLargePageTreeDescription),actions:[{content:d.formatMessage(Et.flagLargePageTreeAction),onClick:()=>{b("/wiki/pages/reorderpages.action?key="+C)}}]}),f.abort({name:w.a.PAGE_TREE_DND,reason:"Large page tree limit exceeded"});break;case"INVALID_DROP_LOCATION":f.abort({name:w.a.PAGE_TREE_DND,reason:"Invalid drop location"})}},[u,f,l,d,b,C]),ne=Object(o.useCallback)(()=>{u({type:"sendUIEvent",data:{action:"dragged",actionSubject:"pageTree",source:"viewPageScreen"}}).fire(),f.start({name:w.a.PAGE_TREE_DND}),H()},[u,f,H]),ae=Object(o.useCallback)((t,{spaceId:n})=>{u(st("expanded",n,e)).fire()},[u,e]),re=Object(o.useCallback)((t,{spaceId:n})=>{u(st("collapsed",n,e)).fire()},[u,e]),ie=Object(o.useCallback)(()=>{u({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"showAllButton",source:"containerNavigation"}}).fire()},[u]),{isNav2:oe}=Object(o.useContext)(y.a),se=Object(o.useCallback)(()=>{Object(m.d)({subject:v.b.navigation,subjectId:"NavigationLoading",details:{navigationView:"container",view:"space",navVersion:oe?2:3,spaceKey:C}}),Object(m.d)({subject:v.b.navigationView,subjectId:"SpaceViewLoading",details:{navigationView:"container",view:"space",navVersion:oe?2:3,spaceKey:C}}),f.succeed({name:w.a.PAGE_TREE})},[f,C,oe]),ce=i?null:c.state.forceFetchPageId||j;return Boolean(j)||!A?s.a.createElement(o.Fragment,null,s.a.createElement(x.a,{key:"experience-"+C,name:w.a.PAGE_TREE,id:C}),Q&&s.a.createElement(S.a,{error:Q}),s.a.createElement(E.a,{accelerator:"mod+z",listener:$}),s.a.createElement(Fe,{key:C,isPeekingFromBlogs:i,apolloClient:g,onDragEnd:J,onDragStart:ne,onDragInvalid:te,onLoadError:X,onExpand:ae,onCollapse:re,onLoadMore:ie,onInitialLoadComplete:se,currentPageId:ce,highlightPages:c.state.highlightPagesIds,forceFetchCurrentPage:Boolean(c.state.forceFetchPageId),forceFetchedCallback:ee,spaceKey:C,renderItem:G,isDraggable:Lt,treeWrapperComponent:F?_t:o.Fragment,pageTreeTitleComponent:Rt})):null})),Mt=Object(o.memo)(e=>s.a.createElement(C.a,{attribution:j.a.DISCO},s.a.createElement(c.c,{to:[A.a]},t=>s.a.createElement(c.c,{to:[k.a]},n=>s.a.createElement(Dt,Object(a.a)(Object(a.a)({},e),{},{pageTreeStateUpdatesContainer:n,flags:t}))))));Mt.displayName="PageTree"},LjTg:function(e,t,n){"use strict";var a=n("aWzz"),r=n.n(a),i=n("1U1M"),o=n("wKA4"),s=n("H5qd");const c=n.n(s).a`query IsSuperAdmin{user(current:true){id confluence{roles{isSuperAdmin}}}}`;n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));const l=()=>{var e,t,n;const a=Object(o.a)(),{loading:r,error:s,data:l}=Object(i.d)(c,{skip:!a});return a?{loading:r,error:s,isSuperAdmin:Boolean(null==l||null===(e=l.user)||void 0===e||null===(t=e.confluence)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.isSuperAdmin)}:{loading:!1,isSuperAdmin:!1}},d=({children:e})=>{const{isSuperAdmin:t,loading:n,error:a}=l();return e({loading:n,error:a,isSuperAdmin:t})};d.propTypes={children:r.a.func.isRequired}},MjIW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={TOOLS_MENU_CONTAINER:"system.content.action",TOOLS_MENU_MARKER:"system.content.action/marker",TOOLS_MENU_LEADING:"system.content.action/leading",TOOLS_MENU_PRIMARY:"system.content.action/primary",TOOLS_MENU_SECONDARY:"system.content.action/secondary",TOOLS_MENU_MODIFY:"system.content.action/modify",PAGE_BUTTONS:"system.content.button",SYSTEM_DASHBOARD:"system.dashboard",SYSTEM_DASHBOARD_BUTTON:"system.dashboard.button",SYSTEM_CONTENT_BYLINE:"system.content.byline",SYSTEM_CONTENT_METADATA:"system.content.metadata",PAGE_METADATA_BANNER:"page.metadata.banner",SYSTEM_HEADER_LEFT:"system.header/left",SYSTEM_HEADER_LEFT_BUTTON_GROUP:"system.header/left.button.group",SYSTEM_HELP:"system.help/pages",SYSTEM_USER_ANONYMOUS:"system.user/anonymous",SYSTEM_USER:"system.user",SYSTEM_ADMIN_SITE_SECTION:"system.admin.site/site_admin_section",SPACE_SIDEBAR:"system.space.sidebar/main-links",SYSTEM_ADMIN:"system.admin",SYSTEM_EDITOR_LINK_BROWSER_TABS:"system.editor.link.browser.tabs",SYSTEM_EDITOR_PRECURSOR_BUTTONS:"system.editor.precursor.buttons",CREATE_DIALOG:"system.create.dialog/content",ACTION_PANEL:"page.view.selection/action-panel",DASHBOARD_LEFT:"atl.dashboard.left",DASHBOARD_SECONDARY:"atl.dashboard.secondary",ATL_GENERAL:"atl.general",ATL_FOOTER:"atl.footer",ATL_PAGE_METADATA:"atl.page.metadata.banner",ATL_PAGE_CONTENT_FOOTER_ACTIONS:"atl.page.content.footer.actions",ATL_EDITOR_SAVEBAR:"atl.editor.savebar",SYSTEM_ADMIN_SITE_ADMINISTRATION:"system.admin/siteadministration",SYSTEM_ADMIN_SITE_ADMINISTRATION_SECURITY:"system.admin/security"}},"NK/E":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("ERkP")),r=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(r.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0 1 12 4a4 4 0 0 1 4 4.002V10a2 2 0 0 1 2 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 0 1 6 18v-6c0-1.102.897-1.995 2-2zm2 0h4V8.002A2.001 2.001 0 0 0 12 6c-1.102 0-2 .898-2 2.002V10zm2 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>'},e))};s.displayName="LockFilledIcon";var c=s;t.default=c},ViWs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));let a;!function(e){e.NOT_ENROLLED="not-enrolled",e.IN_EDITOR_TEMPLATES_EXPERIENCE="in-editor-templates-experience",e.DEFAULT_TEMPLATES_EXPERIENCE="default-templates-experience"}(a||(a={}));const r=e=>e.getVariantValue("confluence.frontend.in-editor-templates.phase-1",{default:a.NOT_ENROLLED,oneOf:Object.values(a),shouldTrackExposureEvent:!0})===a.IN_EDITOR_TEMPLATES_EXPERIENCE},"X+YX":function(e,t,n){var a=n("JBn+"),r=n("OfKG"),i=n("sCL+"),o=n("H87J"),s=n("SU8Q"),c=n("S0iI");e.exports=function(e,t,n,l){var d=-1,u=r,p=!0,g=e.length,h=[],f=t.length;if(!g)return h;n&&(t=o(t,s(n))),l?(u=i,p=!1):t.length>=200&&(u=c,p=!1,t=new a(t));e:for(;++d<g;){var b=e[d],m=null==n?b:n(b);if(b=l||0!==b?b:0,p&&m==m){for(var v=f;v--;)if(t[v]===m)continue e;h.push(b)}else u(t,m,l)||h.push(b)}return h}},bWlm:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ERkP"),r=n("+6Tk"),i=n("1N1n");const o=e=>{const t=Object(r.a)(i.a),{contentId:n,registerReloader:o}=Object(a.useContext)(i.b);Object(a.useEffect)(()=>{t&&o(e)},[n,e.reload,e.name,t])}},c2NM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("ERkP")),r=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(r.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M10 19v-4.5a2 2 0 1 1 4 0V19h4a1 1 0 0 0 1-1v-7.831l-6.293-6.296a1 1 0 0 0-1.414 0L5 10.169V18a1 1 0 0 0 1 1h4zm11-6.83V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-5.83l-.04.04c-.39.39-1.03.39-1.42 0-.39-.39-.39-1.03 0-1.42l8.339-8.331a3 3 0 0 1 4.242 0l8.339 8.331c.39.39.39 1.03 0 1.42-.39.39-1.03.39-1.42 0l-.04-.04z" fill="currentColor"/></svg>'},e))};s.displayName="HomeIcon";var c=s;t.default=c},jF39:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("bWlm");const r=e=>(Object(a.a)(e),null)},jLkM:function(e,t,n){var a=n("s+R0");e.exports=function(e){return e&&e.length?a(e):[]}},ltac:function(e,t,n){"use strict";function a(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function r(e,t){if(!e)return!1;t=t||document.scrollingElement||document.body.parentNode;const n=e.offsetHeight,r=a(e),i=a(t)+t.scrollTop,o=t.offsetHeight;return r>=i&&r+n<=i+o}function i(e){if(!e||e===document)return null;const t=window.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:i(e.parentNode)}function o(e,t){t=t||i(e),e&&t&&!r(e,t)&&(t.scrollTop=a(e)-a(t)-t.clientHeight/2)}function s(e){return e.getBoundingClientRect()}function c(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const a=e.getBoundingClientRect(),{top:r,bottom:i}=a,o=n.offsetHeight;return 0<=r&&r<o||0<=i&&i<=o||r<=0&&0<=i&&i>=o}function l(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const a=e.getBoundingClientRect(),{top:r}=a,i=n.offsetHeight;return 0<=r&&r<i}n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}))},qY6u:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("Czhu"),r=n("7kiZ"),i=n("5frb");const o=["LAST_MODIFIED_DATE","TITLE"],s=["ASC","DESC"],c=(e,t)=>{if(!e)return;const n=e[t];return Array.isArray(n)?n[0]:n},l=({spaceKey:e,queryParams:t,userId:n,isLicensed:l})=>{const d=c(t,"sortField")||"",u=c(t,"sortOrder")||"",p={first:24,searchText:c(t,"text")||"",filters:Object(a.a)({spaces:{spaceKeys:[e]}},"worked-on"===c(t,"pageFilter")&&n&&l&&{contributors:{accountIds:[n]}}),sortBy:{field:o.includes(d)?d:"LAST_MODIFIED_DATE",order:s.includes(u)?u:"DESC"}};return Promise.all([Object(r.a)({query:i.a,variables:p})])}},uUTq:function(e,t,n){var a=n("X+YX"),r=n("R3TX"),i=n("Ndl3"),o=r((function(e,t){return i(e)?a(e,t):[]}));e.exports=o},yjkv:function(e,t,n){var a=n("S3pA"),r=n("s+R0");e.exports=function(e,t){return e&&e.length?r(e,a(t,2)):[]}}}]);
//# sourceMappingURL=page-tree~b59ad437.NXsZRttT2Z.js.map