(window.webpackJsonp=window.webpackJsonp||[]).push([["nudge-tooltip~b59ad437"],{"+nA1":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return r}));const a={action:"rendered",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},o={action:"displayed",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},i={action:"hidden",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},c={action:"clicked",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}},r={action:"hidden_by_outside_click",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}}},"/Qos":function(e,t,n){(function(e){var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("gIIS"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("fRV1"))},"7xCX":function(e,t,n){"use strict";var a=n("Czhu"),o=n("HbGN"),i=n("ERkP"),c=n.n(i),r=n("kKv/"),l=n("3IV/"),u=n("KsTJ"),d=n("zJ/j"),s=n("8pvK"),f=n("BMbf"),b=n("ZgvQ"),p=n("WEdt"),h=n("rr2M");const g=u.default.div`
  ${({theme:e})=>e};
`,m=u.default.div`
  display: flex;
  flex-direction: column;
  padding: ${Object(b.multiply)(f.h,2)}px ${Object(b.multiply)(f.h,2.5)}px;
`,O=u.default.h4`
  ${p.h600};
  color: inherit;
`,j=u.default.div`
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding-bottom: ${f.h}px;
`,k=u.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: ${f.h}px;
`,v=Object(s.a)(()=>({container:{overflow:"auto",borderRadius:Object(f.c)()+"px",height:"fit-content",zIndex:""+(f.i.spotlight()+1)}})),E=({actions:e=[],actionsBeforeElement:t,children:n,components:a={},image:i,heading:r,headingAfterElement:l,theme:u,innerRef:s,testId:f})=>{const{Header:b=j,Footer:p=k}=a;return c.a.createElement(v.Provider,{value:u},c.a.createElement(v.Consumer,null,({container:a})=>c.a.createElement(g,{theme:a,innerRef:s,"data-testid":f},"string"==typeof i?c.a.createElement("img",{src:i,alt:""}):i,c.a.createElement(m,null,r||l?c.a.createElement(b,null,c.a.createElement(O,null,r),l||c.a.createElement("span",null)):null,n,e.length>0||t?c.a.createElement(p,null,t||c.a.createElement("span",null),c.a.createElement(h.b,null,e.map((e,t)=>{let{text:n,key:a}=e,i=Object(o.a)(e,["text","key"]);return c.a.createElement(h.a,{key:a||("string"==typeof n?n:""+t)},c.a.createElement(d.a,Object.assign({},i),n))}))):null))))};var y=c.a.forwardRef((e,t)=>c.a.createElement(E,Object.assign({},e,{innerRef:t}))),S=n("P/3O");class w extends c.a.Component{render(){const{actions:e,actionsBeforeElement:t,children:n,components:i,isFlat:u,heading:d,headingAfterElement:s,image:f,innerRef:b,theme:p,width:h,testId:g}=this.props;return c.a.createElement(r.a.Provider,{value:S.b},c.a.createElement(y,{testId:g,ref:b,heading:d,headingAfterElement:s,actions:e,actionsBeforeElement:t,components:i,image:f,theme:e=>{const t=e({}),{container:n}=t,i=Object(o.a)(t,["container"]);return p(()=>Object(a.a)(Object(a.a)({},i),{},{container:Object(a.a)({background:l.P300,color:l.N0,width:Math.min(Math.max(h,160),600)+"px",boxShadow:u?void 0:`0 4px 8px -2px ${l.N50A}, 0 0 1px ${l.N60A}`},n)}),{})}},n))}}w.defaultProps={width:400,isFlat:!1,components:{},theme:e=>e()};t.a=c.a.forwardRef((e,t)=>c.a.createElement(w,Object.assign({},e,{innerRef:t})))},"P/3O":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n("Czhu"),o=n("HbGN"),i=n("3IV/");const c={default:{background:{default:{light:i.P400,dark:i.P400},hover:{light:i.P200,dark:i.P200},active:{light:i.P500,dark:i.P500},disabled:{light:i.P400,dark:i.P400},selected:{light:i.R500,dark:i.R500},focus:{light:i.P400,dark:i.P400}},boxShadow:{focus:{light:i.P100+" 0 0 0 2px",dark:i.P100+" 0 0 0 2px"}},color:{default:{light:i.N0,dark:i.N0},hover:{light:i.N0,dark:i.N0},active:{light:i.N0,dark:i.N0},disabled:{light:i.N0,dark:i.DN30},selected:{light:i.N0,dark:i.N0},focus:{light:i.N0,dark:i.N0}},outline:{focus:{light:"none",dark:"none"}}},subtle:{background:{default:{light:"none",dark:"none"},hover:{light:i.P200,dark:i.P200},active:{light:i.P500,dark:i.P500},disabled:{light:"none",dark:"none"},selected:{light:i.N700,dark:i.DN0},focusSelected:{light:i.N700,dark:i.DN0}},boxShadow:{focus:{light:i.P100+" 0 0 0 2px",dark:i.P100+" 0 0 0 2px"}},color:{default:{light:i.N0,dark:i.N0},hover:{light:i.N0,dark:i.N0},active:{light:i.N0,dark:i.N0},disabled:{light:i.N0,dark:i.N0},selected:{light:i.N0,dark:i.N0},focus:{light:i.N0,dark:i.N0}},outline:{focus:{light:"none",dark:"none"}}},"subtle-link":{textDecoration:{hover:{light:"underline "+i.P75,dark:"underline "+i.P75}},textDecorationLine:{active:{light:"none",dark:"none"}},boxShadow:{focus:{light:i.P100+" 0 0 0 2px",dark:i.P100+" 0 0 0 2px"}},color:{default:{light:i.N0,dark:i.N0},hover:{light:i.P75,dark:i.P75},active:{light:i.P100,dark:i.P100},disabled:{light:i.P500,dark:i.P500},selected:{light:i.N0,dark:i.N0},focus:{light:i.N0,dark:i.N0}}}},r={primary:{background:{default:{light:i.P400,dark:i.P400},hover:{light:i.P200,dark:i.P200},active:{light:i.P500,dark:i.P500},disabled:{light:i.N30,dark:i.DN70},selected:{light:i.R500,dark:i.R500},focus:{light:i.P400,dark:i.P400}},boxShadow:{focus:{light:i.P100+" 0 0 0 2px",dark:i.P100+" 0 0 0 2px"}},color:{default:{light:i.N0,dark:i.N0},disabled:{light:i.N0,dark:i.DN30},selected:{light:i.N0,dark:i.N0},focus:{light:i.N0,dark:i.N0}}}};function l(e,{mode:t,appearance:n,state:a}){if(!e[n])return;const o=e[n];return Object.keys(o).reduce((e,n)=>{let i=o;return[n,a,t].forEach(t=>{i[t]&&("object"==typeof i[t]?i=i[t]:e[n]=i[t])}),e},{})}const u=(e,t)=>{const n=e(t),{buttonStyles:i}=n,r=Object(o.a)(n,["buttonStyles"]);return Object(a.a)({buttonStyles:Object(a.a)(Object(a.a)({},i),l(c,t))},r)},d=(e,t)=>{const n=e(t),{buttonStyles:i}=n,c=Object(o.a)(n,["buttonStyles"]);return Object(a.a)({buttonStyles:Object(a.a)(Object(a.a)({},i),l(r,t))},c)}},WiIw:function(e,t,n){"use strict";var a=n("Czhu"),o=n("ERkP"),i=n.n(o),c=n("a0gl"),r=n("z9P0"),l=n("Qdol"),u=n("aepo"),d=n("TSpG");const{ONBOARDING_NUDGE:s}=d.a,f=({featureFlagClient:e,cloudId:t,locale:n,expList:a=l.f})=>{const o=(({featureFlagClient:e,cloudId:t,locale:n,shouldTrackExposureEvent:a=!1})=>({[s]:Object(u.a)(e,{shouldTrackExposureEvent:a,locale:n,cloudId:t})}))({featureFlagClient:e,cloudId:t,locale:n});return Object.keys(o).filter(e=>o[e]).reduce((e,t)=>e.concat(...a[t]),[]).concat(...l.l)};var b=n("8TdO"),p=n("F4Ur"),h=n("rc7/"),g=n("btRf");const{OVERALL_STATE:m}=l.g,O=async({createAnalyticsEvent:e,skip:t=!1})=>{const n={};if(t)return n;try{const{data:e,loading:t}=await Object(b.b)().query({query:g.a,variables:{key:Object.values(l.g)}});if(t)return n;const{onboardingState:o}=e;if(void 0!==o){var a;const e=(null!=(a=o.find(({key:e})=>e===m))?a.value:a)===l.b;o.forEach(({key:t,value:a})=>{n[t]=a===l.b||e})}}catch(o){k({createAnalyticsEvent:e,type:"sendOperationalEvent",action:"queryFailed",actionSubject:"onboardingData",source:"allOnboardingExp"}),Object(h.b)(o)&&Object(p.a)(o)}return n},j=async({key:e,createAnalyticsEvent:t,eligibleExperiences:n})=>{try{await Object(b.b)().mutate({mutation:g.b,variables:{key:e,value:l.b},refetchQueries:[{query:g.a,variables:{key:Object.values(l.g)}}],awaitRefetchQueries:!0});const a=await O({createAnalyticsEvent:t});v({experiences:a,update:j,key:e,eligibleExperiences:n,createAnalyticsEvent:t}),k({createAnalyticsEvent:t,type:"sendOperationalEvent",action:"updateSucceeded",actionSubject:"onboardingData",source:e})}catch(a){k({createAnalyticsEvent:t,type:"sendOperationalEvent",action:"completionFailed",actionSubject:"onboarding",source:e})}},k=({createAnalyticsEvent:e,type:t,action:n,actionSubject:a,source:o})=>{e({type:t,data:{action:n,actionSubject:a,source:o}}).fire()},v=({experiences:e,update:t,eligibleExperiences:n,key:a,createAnalyticsEvent:o})=>{const i=Object.keys(e).filter(t=>!e[t]).filter(e=>n.includes(e)),c=e[m];a===m||c||c||0!==i.length||t({key:m,createAnalyticsEvent:o,eligibleExperiences:n})};n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return y}));const E=()=>{const{createAnalyticsEvent:e}=Object(r.a)(),{userId:t,featureFlagClient:n,cloudId:a,locale:i}=Object(c.a)(),u=!t,[d,s]=Object(o.useState)({}),b=f({featureFlagClient:n,cloudId:a,locale:i});Object(o.useEffect)(()=>{(async()=>{const t=await O({skip:u,createAnalyticsEvent:e});s(t)})()},[]);return{experiences:d,overallState:d[l.i],onboardingUpdate:t=>j({key:t,createAnalyticsEvent:e,eligibleExperiences:b})}},y=e=>t=>{const n=E();return i.a.createElement(e,Object(a.a)(Object(a.a)({},t),{},{onboardingData:n}))}},aepo:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("bPAi"),o=n("TSpG");const{ONBOARDING_NUDGE:i}=o.a,c=(e,{shouldTrackExposureEvent:t=!0,locale:n,cloudId:o})=>Object(a.a)(i,e,t,n,o)},btRf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n("H5qd"),o=n.n(a);const i=o.a`query AllOnboardingExpStatus($key:[String]){onboardingState(key:$key){key value}}`,c=o.a`mutation OnboardingStatusUpdateMutation($key:String$value:String)@experimental{experimentalCompleteOnboarding(key:$key value:$value){complete key}}`},gIIS:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var a,o,i,c,r,l=1,u={},d=!1,s=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},a=function(e){i.port2.postMessage(e)}):s&&"onreadystatechange"in s.createElement("script")?(o=s.documentElement,a=function(e){var t=s.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):a=function(e){setTimeout(p,0,e)}:(c="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(c)&&p(+t.data.slice(c.length))},e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),a=function(t){e.postMessage(c+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[l]=o,a(l),l++},f.clearImmediate=b}function b(e){delete u[e]}function p(e){if(d)setTimeout(p,0,e);else{var t=u[e];if(t){d=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{b(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("fRV1"),n("F63i"))},h5BT:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("KsTJ"),o=n("DfCg"),i=n("BMbf");const c=o.a.P75,r=a.keyframes`
   0% {
    opacity: 0;
  }

  50% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,l=a.css`
  animation: ${r} 3000ms ${"cubic-bezier(0.55, 0.055, 0.675, 0.19)"} infinite;
`,u=a.css`
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,d=a.default.span`
  display: block;
  > * {
    position: relative;

    &::before {
      ${u}
      border-radius: ${({pulseBorderRadius:e=i.c})=>e}px;
      box-shadow: ${({pulseColor:e=c})=>"0 0 0 3px "+e};
      opacity: ${e=>e.hasPulse?1:0};
      transition: opacity 0.1s ease-in-out;
      pointer-events: none;
    }

    &::after {
      ${u}
      border-radius: ${({pulseBorderRadius:e=i.c})=>e}px;
      box-shadow: ${({pulseColor:e=c,pulseShadowColor:t="rgba(101, 84, 192, 1)"})=>`0 0 0 3px ${e} , 0 0 11px ${t}`};
      opacity: 0;
      pointer-events: none;
      ${e=>e.hasPulse&&l}
    }
  }
`},iVrZ:function(e,t,n){"use strict";(function(e){var t=n("Czhu"),a=n("HbGN"),o=n("97Jx"),i=n.n(o),c=n("ERkP"),r=n.n(c),l=n("a8dO"),u=n("ijMi"),d=n("h5BT"),s=n("ORIB"),f=n("lbXe"),b=n("+nA1"),p=n("7xCX"),h=n("RNvQ"),g=n.n(h);const m=Object(c.forwardRef)((e,t)=>{let{setSpotlightMounted:n,setDelayValue:o,children:l}=e,u=Object(a.a)(e,["setSpotlightMounted","setDelayValue","children"]);return Object(c.useEffect)(()=>(o(31556952e3),n(!0),()=>{o(0),n(!1)}),[o,n]),r.a.createElement(p.a,i()({ref:t},u),l)});Object(s.a)({componentName:"NudgeSpotlight"})(Object(f.a)({onRender:Object(t.a)({},b.d),onShow:Object(t.a)({},b.e),onHide:Object(t.a)({},b.b),onClick:Object(t.a)({},b.a),onOutsideClick:Object(t.a)({},b.c)})(t=>{let{onRender:n=(()=>{}),onShow:o=(()=>{}),onHide:s=(()=>{}),onClick:f=(()=>{}),onOutsideClick:b=(()=>{}),setHidden:p=(()=>{}),children:h,content:O,hidden:j,hideNudgeOnClick:k=!0,hideSpotlightOnOutsideClick:v=!1,autoShow:E=!0,zIndex:y=-1,position:S}=t,w=Object(a.a)(t,["onRender","onShow","onHide","onClick","onOutsideClick","setHidden","children","content","hidden","hideNudgeOnClick","hideSpotlightOnOutsideClick","autoShow","zIndex","position"]);const N=Object(c.useRef)(null),x=Object(c.useRef)(null),[C,T]=Object(c.useState)(0),[I,P]=Object(c.useState)(!1),[R,A]=Object(c.useState)(!E),[$,H]=Object(c.useState)(!1),[M,_]=Object(c.useState)(!1),B=I||!!j,D=!B&&O,z=Object(c.useCallback)(e=>{if(!N.current)return;const[t,n]=["show"===e,"hide"===e],a=t?"mouseover":"mouseout";A(n),T(0),N.current.dispatchEvent(new MouseEvent(a,{view:window,bubbles:!0,cancelable:!0}))},[A,T]),F=Object(c.useCallback)(g()(z,1e3,{leading:!0,trailing:!0}),[z]),L=Object(c.useCallback)(g()(o,100,{trailing:!0}),[o]),U=Object(c.useCallback)(()=>{z("hide"),P(!0),p()},[z,p]),G=Object(c.useCallback)(()=>{A(!1),L()},[L]),V=Object(c.useCallback)(()=>{B||(f(),k&&U())},[B,f,k,U]),J=Object(c.useCallback)(Object(c.forwardRef)((e,t)=>{let{children:n}=e,o=Object(a.a)(e,["children"]);return D?r.a.createElement(u.a,i()({},o,{innerRef:t}),r.a.createElement(m,i()({setDelayValue:T,setSpotlightMounted:H,ref:x},w),n)):null}),[D]),Q=Object(c.useCallback)(e=>{const t=N.current,n=x.current,a=e.target;B||v&&t&&a&&n&&(t.contains(a)||n.contains(a)||(z("hide"),b()))},[B,v,z,b]),q=Object(c.useCallback)(()=>{B||R||$&&T(31556952e3)},[R,$,B]);return Object(c.useEffect)(()=>{const e=N.current;if(e)return e.addEventListener("mouseout",q),()=>e.removeEventListener("mouseout",q)},[q]),Object(c.useEffect)(()=>{C&&j&&T(0)},[C,j]),Object(c.useEffect)(()=>{j&&(z("hide"),M&&(_(!1),P(!1),s()))},[j,M,_,z,s]),Object(c.useEffect)(()=>{B||E&&(z("show"),L())},[B,E,z,L]),Object(c.useEffect)(()=>{B||(_(!0),n())},[n,B]),Object(c.useEffect)(()=>{B||$||R||F("show")},[B,$,R,F]),Object(c.useEffect)(()=>{if(!B)return e(()=>window.addEventListener("click",Q)),()=>window.removeEventListener("click",Q)},[B,Q]),Object(c.useEffect)(()=>{if(-1===y)return;if(null===x.current)return;let e=x.current;for(;e&&!e.classList.contains("atlaskit-portal");)e=e.parentNode;e&&(e.style.zIndex=""+y)},[x.current,y]),r.a.createElement(l.a,{hideTooltipOnClick:k,hideTooltipOnMouseDown:!1,delay:C,component:J,content:D,onShow:G,position:S},r.a.createElement(d.a,{hasPulse:!B,innerRef:N,onClickCapture:V},h))}))}).call(this,n("/Qos").setImmediate)},ijMi:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}));var a=n("KsTJ"),o=n("uvkf");const i=a.keyframes`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,c=Object(a.default)("div")`
  animation: 0.2s ${i} ease-out;
  animation-iteration-count: 1;
`,r=Object(a.default)(o.a)`
  pointer-events: all;
  padding: 0.5rem;
`},la5E:function(e,t,n){"use strict";n.r(t);var a=n("zjfJ"),o=n("Czhu"),i=n("ERkP"),c=n.n(i),r=n("BMbf"),l=n("HbGN"),u=n("97Jx"),d=n.n(u),s=n("a8dO"),f=n("KsTJ"),b=n("DfCg"),p=n("uvkf");const h=Object(f.default)(p.a)`
  background-color: ${b.a.P300};
  border-radius: 3px;
  box-sizing: border-box;
  color: white;
  max-width: 240px;
  padding: 8px 16px;
  word-wrap: break-word;
  overflow-wrap: break-word;

  &:empty {
    display: none;
  }
`;var g=n("h5BT"),m=n("ORIB"),O=n("lbXe");const j=e=>{let t=!1;return()=>{t||(t=!0,e())}};Object(m.a)({componentName:"NudgeTooltip"})(Object(O.a)({onHide:Object(o.a)({},{action:"hidden",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}}),onShow:Object(o.a)({},{action:"displayed",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}}),onClick:Object(o.a)({},{action:"clicked",actionSubject:"nudgeTooltip",attributes:{componentName:"nudgeTooltip"}})})(e=>{let{onShow:t=(()=>{}),onHide:n=(()=>{}),onClick:a=(()=>{}),children:o,content:r,hidden:u,delay:f=0,hideTooltipOnClick:b=!0,minReadTime:p=1e3}=e,m=Object(l.a)(e,["onShow","onHide","onClick","children","content","hidden","delay","hideTooltipOnClick","minReadTime"]);const[O,k]=Object(i.useState)(!1),[v,E]=Object(i.useState)(null),y=O||!!u,S=!y&&r,w=Object(i.useCallback)(()=>{v&&clearTimeout(v),E(null)},[v]),N=Object(i.useCallback)(j(()=>{k(!0),n()}),[]),x=Object(i.useCallback)(j(()=>a()),[]),C=Object(i.useCallback)(()=>{y||(b?(x(),N()):a())},[y,b,x,N,a]),T=Object(i.useCallback)(Object(i.forwardRef)((e,t)=>c.a.createElement(h,d()({},e,{innerRef:t}))),[]);return c.a.createElement(s.a,d()({hideTooltipOnClick:b,component:T,delay:f,onShow:()=>{t(),v&&w(),E(setTimeout(w,p))},onHide:()=>{null===v&&N()},content:S},m),c.a.createElement(g.a,{hasPulse:!y,onClickCapture:C},o))})),n("iVrZ");var k=n("7xCX"),v=n("PEqI"),E=n("bLpi"),y=n("bES6"),S=n("+nA1"),w=n("ijMi");const N=({fn:e,relay:t})=>(Object(i.useEffect)(()=>{t(()=>e)},[e,t]),null);var x=Object(m.a)({componentName:"NudgeSpotlight"})(Object(O.a)({onRender:Object(o.a)({},S.d),onShow:Object(o.a)({},S.e),onHide:Object(o.a)({},S.b),onClick:Object(o.a)({},S.a),onOutsideClick:Object(o.a)({},S.c)})(e=>{let{hidden:t,setHidden:n,hideNudgeOnClick:a=!0,hideSpotlightOnOutsideClick:r=!0,autoShow:u=!0,children:s,content:f,spotlight:b=k.a,position:p="bottom",offset:h,zIndex:m=800,onRender:O,onShow:j,onHide:S,onClick:x,onOutsideClick:C,createAnalyticsEvent:T,pulseColor:I,pulseShadowColor:P,pulseBorderRadius:R,registerUpdateFn:A}=e,$=Object(l.a)(e,["hidden","setHidden","hideNudgeOnClick","hideSpotlightOnOutsideClick","autoShow","children","content","spotlight","position","offset","zIndex","onRender","onShow","onHide","onClick","onOutsideClick","createAnalyticsEvent","pulseColor","pulseShadowColor","pulseBorderRadius","registerUpdateFn"]);const H=Object(i.useRef)(null),M=Object(i.useRef)(null),_=Object(i.useMemo)(()=>b===k.a?Object(o.a)(Object(o.a)({},$),{},{children:f}):{},[b,$,f]),B=!t,[D,z]=Object(i.useState)(u),[F,L]=Object(i.useState)(!1),U=Object(i.useCallback)(()=>z(!0),[]),G=Object(i.useCallback)(()=>{a&&n(),null==x||x()},[a,n,x]),[V,J]=Object(i.useState)();return Object(i.useEffect)(()=>{V&&(null==A||A(()=>V))},[V,A]),Object(i.useEffect)(()=>{L(B&&D)},[B,D]),Object(i.useEffect)(()=>{if(!t)return null==O||O(),()=>null==S?void 0:S()},[t,O,S]),Object(i.useEffect)(()=>{F&&(null==j||j())},[F,j]),Object(i.useEffect)(()=>{t&&z(u)},[t,u]),Object(i.useEffect)(()=>{let e,t;return F&&r&&(t=setTimeout(()=>{e=Object(y.bind)(window,{type:"click",listener:t=>{var n;H.current&&M.current&&t.target instanceof Node&&!H.current.contains(t.target)&&!M.current.contains(t.target)&&(null==C||C(),z(!1),null===(n=e)||void 0===n||n())},options:{passive:!0}})})),()=>{var n;null===(n=e)||void 0===n||n(),clearTimeout(t)}},[F,r,n,C]),c.a.createElement(i.Fragment,null,c.a.createElement(g.a,{innerRef:H,hasPulse:B,onClickCapture:G,onMouseEnter:U,pulseColor:I,pulseShadowColor:P,pulseBorderRadius:R},s),F&&c.a.createElement(v.a,{zIndex:m},c.a.createElement(E.a,{placement:p,referenceElement:H.current||void 0,offset:h},({ref:e,style:t,forceUpdate:n})=>c.a.createElement(w.b,{innerRef:e,style:t},c.a.createElement(N,{fn:n,relay:J}),c.a.createElement(b,d()({},_,{ref:M}))))))})),C=n("z9P0"),T=n("ltac"),I=n("29F/"),P=n("oZlZ"),R=n("Qdol"),A=n("oayO"),$=n("SRtI"),H=n("1ONf"),M=n("l/+N"),_=n("aepo"),B=n("WiIw"),D=n("a0gl"),z=n("ewfN"),F=n("Ua4J");const L=(e,{contentId:t,source:n,actionSubject:a,action:i,type:c})=>{e({type:c,data:{actionSubject:a,action:i,actionSubjectId:n,source:"onboardingNudge",attributes:Object(o.a)(Object(o.a)({},{contentId:t}),{},{nudgeTarget:n,componentName:"nudgeTooltip"})}}).fire()};n.d(t,"autoAdjustPosition",(function(){return U})),n.d(t,"OnboardingNudgeComponent",(function(){return G})),n.d(t,"OnboardingNudge",(function(){return V}));const U=(e,{interval:t=500,cycles:n=10})=>{let a=0;const o=setInterval(()=>{null==e||e(),a++,a===n&&clearInterval(o)},t);return o},G=e=>{const{createAnalyticsEvent:t}=Object(C.a)(),{children:n,source:a,heading:l,actionsBeforeElement:u,tooltip:d,contentId:s,wrapper:f,showNudge:b,width:p=320,zIndex:h=r.i.blanket(),target:g="",autoShowTooltip:m=!0,isLoading:O=!1,position:j,offset:k}=e,v=f||c.a.Fragment,{state:E,completeCurrentTask:y}=Object(H.b)(),{isNudgeTriggerEnabled:S,isNthUserQSEligible:w}=Object(M.a)(),{openTaskId:N,isPanelOpen:G,isDismissed:V}=E,J=I.m[N],Q=S&&I.l[N]===a&&!E[J]&&G&&!V,{loading:q,error:K,isAdmin:Z}=Object(P.a)(),{shouldShowNudge:W,updateNudgeStatus:X,personalSpaceNudge:Y}=((e,t)=>{var n,a;const o=Object(i.useContext)(F.a),c=(null!=(a=o)&&null!=(a=a.location)?a.pathname:a)||"",r=null!=(n=o.matchRoute(c))?n.name:n,l=`${R.h}${e}`,{featureFlagClient:u,locale:d,cloudId:s}=Object(D.a)(),f=Object(_.a)(u,{shouldTrackExposureEvent:!0,locale:d,cloudId:s}),{experiences:b,onboardingUpdate:p}=Object(B.a)(),h=void 0===b[l]||b[l],g=!1===t&&!h&&r===z.HOME.name,m=e=>{switch(e){case R.e:case R.a:return!1===t&&!h&&(r===z.VIEW_PAGE.name||r===z.SPACE_OVERVIEW.name);case R.c:return!1===t&&!h&&r===z.HOME.name;case R.k:return g;default:return!1}};return{nudgeStatus:h,getNudgeStatus:m,shouldShowNudge:f&&m(e),updateNudgeStatus:()=>p(l),personalSpaceNudge:g}})(a,Z),ee=a===R.c&&Y&&!!A.a.getItem($.b.PERSONAL_SPACE_NUDGE_KEY),[te,ne]=Object(i.useState)(!1),ae=Q||(W||b)&&!te&&!O&&!w,oe=m,[ie,ce]=Object(i.useState)(!1),[re,le]=Object(i.useState)(!1),[ue,de]=Object(i.useState)();Object(i.useEffect)(()=>{if(ae)return L(t,{type:"sendTrackEvent",source:a,contentId:s,actionSubject:"nudge",action:"rendered"}),()=>{L(t,{type:"sendTrackEvent",source:a,contentId:s,actionSubject:"nudge",action:"unmounted"})}},[ae]),Object(i.useEffect)(()=>{let e;const t=()=>{e&&window.clearTimeout(e),e=setTimeout(()=>{const e=document.getElementById(g);if(!e)return;let t=Object(T.d)(e);a!==R.e&&a!==R.k||(t=e.getBoundingClientRect().top>40),ce(!t)},250)};return ae&&oe&&window.addEventListener("scroll",t,!0),()=>{window.removeEventListener("scroll",t,!0)}},[ae,re]),Object(i.useEffect)(()=>{let e;return oe&&(e=U(ue,{interval:500,cycles:10})),()=>{clearInterval(e)}},[ue,oe]);const se=()=>{Q?y(J):X()},fe=()=>{ne(!0),L(t,{type:"sendTrackEvent",source:a,contentId:s,actionSubject:"nudgeTooltip",action:"hidden"}),se()},be=()=>{L(t,{type:"sendTrackEvent",contentId:s,source:a,actionSubject:"nudgeTooltip",action:"clicked"}),se()},pe=()=>{L(t,{type:"sendTrackEvent",contentId:s,source:a,actionSubject:"nudgeTooltip",action:"shown"})},he=e=>{L(t,Object(o.a)({type:"sendTrackEvent",actionSubject:"nudgeTooltip",action:"hidden_by_outside_click",source:a},null==e?void 0:e.payload)),le(!0)};return K||q?n(!1):ae?c.a.createElement(v,null,c.a.createElement(x,{zIndex:h,autoShow:!ee,heading:l,actionsBeforeElement:u,width:p,hideNudgeOnClick:!0,hidden:ie,setHidden:fe,content:d,hideSpotlightOnOutsideClick:!0,onShow:pe,onClick:be,position:j,offset:k,onOutsideClick:he,registerUpdateFn:de},n(!0))):n(!1)},V=Object(O.a)()(class extends c.a.Component{constructor(...e){super(...e),Object(a.a)(this,"state",{})}componentDidCatch(e){const{createAnalyticsEvent:t,source:n,contentId:a}=this.props;this.setState({error:e}),t&&((e,{contentId:t,source:n,error:a})=>{e({type:"sendOperationalEvent",data:{actionSubject:"onboarding-nudge-tooltip.nudgeTooltip",action:"failed",actionSubjectId:n,source:"onboardingNudge",attributes:Object(o.a)(Object(o.a)({nudgeTarget:n},{contentId:t}),{},{error:a})}}).fire()})(t,{source:n,contentId:a,error:""+e})}render(){return this.state.error?this.props.children(!1):c.a.createElement(G,Object(o.a)({},this.props))}})},ltac:function(e,t,n){"use strict";function a(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function o(e,t){if(!e)return!1;t=t||document.scrollingElement||document.body.parentNode;const n=e.offsetHeight,o=a(e),i=a(t)+t.scrollTop,c=t.offsetHeight;return o>=i&&o+n<=i+c}function i(e){if(!e||e===document)return null;const t=window.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:i(e.parentNode)}function c(e,t){t=t||i(e),e&&t&&!o(e,t)&&(t.scrollTop=a(e)-a(t)-t.clientHeight/2)}function r(e){return e.getBoundingClientRect()}function l(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const a=e.getBoundingClientRect(),{top:o,bottom:i}=a,c=n.offsetHeight;return 0<=o&&o<c||0<=i&&i<=c||o<=0&&0<=i&&i>=c}function u(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const a=e.getBoundingClientRect(),{top:o}=a,i=n.offsetHeight;return 0<=o&&o<i}n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u}))},oZlZ:function(e,t,n){"use strict";n("Czhu"),n("ERkP");var a=n("1U1M"),o=n("z9P0"),i=n("a0gl"),c=n("H5qd");const r=n.n(c).a`query AdminStatus{isSiteAdmin}`;var l=n("WiIw"),u=n("Qdol");n.d(t,"a",(function(){return d}));const d=()=>{var e;const{createAnalyticsEvent:t}=Object(o.a)(),{cloudId:n}=Object(i.a)(),{experiences:c}=Object(l.a)(),d=u.g.LEGACY_ONBOARDING_STATE,s=void 0===c[d]||c[d],{data:f,loading:b,error:p}=Object(a.d)(r,{variables:{cloudId:n},onError:(h="adminStatus",e=>{t({type:"sendTrackEvent",data:{action:"failed",source:"onboardingUserInfo",actionSubject:"onboarding",actionSubjectId:h,attributes:{error:e.message}}}).fire()})});var h;if(b)return{loading:!0};if(p)return{error:p};return{loading:!1,isAdmin:Boolean(null!=(e=f)?e.isSiteAdmin:e),completedOnboarding:s}}},rr2M:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n("KsTJ"),o=n("BMbf"),i=n("ZgvQ");a.default.div`
  height: 100%;
  left: 0;
  overflow-y: auto;
  position: absolute;
  top: ${e=>e.scrollDistance}px;
  width: 100%;
`,a.default.div`
  flex: 1 1 auto;
  padding: ${Object(i.multiply)(o.h,2)}px ${Object(i.multiply)(o.h,3)}px ${o.h}px;

  p:last-child,
  ul:last-child,
  ol:last-child {
    margin-bottom: 0;
  }
`,a.default.h4`
  color: inherit;
  font-size: 20px;
  font-style: inherit;
  font-weight: 500;
  letter-spacing: -0.008em;
  line-height: 1.2;
  margin-bottom: ${o.h}px;
`;const c=a.default.img`
  height: auto;
  max-width: 100%;
`,r=(a.default.div`
  display: flex;
  justify-content: space-between;
  padding: 0 ${Object(i.multiply)(o.h,3)}px ${Object(i.multiply)(o.h,2)}px;
`,a.default.div`
  display: flex;
  margin: 0 -${Object(i.divide)(o.h,2)}px;
  /* When there is more than one action, place primary action visually on the
  right, but keep it's position as the first focusable element in the DOM */
  flex-direction: row-reverse;
`),l=a.default.div`
  margin: 0 ${Object(i.divide)(o.h,2)}px;
`}}]);
//# sourceMappingURL=nudge-tooltip~b59ad437.X257bq2ZfH.js.map